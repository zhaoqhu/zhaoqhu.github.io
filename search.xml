<?xml version="1.0" encoding="utf-8"?>
<search>
  
    <entry>
      <title><![CDATA[Go pprof Ê†∏ÂøÉÊåáÊ†áÂàÜÊûê‰∏éÂ∑•ÂÖ∑‰ΩøÁî®ÊåáÂçó]]></title>
      <url>/go/2025/12/17/gin-pprof/</url>
      <content type="text"><![CDATA[ginpprofÊòØGin‰∏≠Èó¥‰ª∂ÔºåÈõÜÊàêpprofÔºåÊö¥Èú≤/debug/pprofÁ´ØÁÇπÔºåÊîØÊåÅCPU„ÄÅÂÜÖÂ≠ò„ÄÅÈòªÂ°ûÂàÜÊûêÔºåÂä©ÂÆö‰ΩçÁì∂È¢àÂÆâË£ÖÂàùÂßãÂåñGoÊ®°Âùógo mod init gin-pprof-demoÂÆâË£Ö‰æùËµñgo get github.com/gin-contrib/pprofgo get github.com/gin-gonic/gingo get github.com/swaggo/swag/cmd/swaggo get github.com/swaggo/filesgo get github.com/swaggo/gin-swaggergo get github.com/swaggo/swagÁîüÊàêSwagger ÊñáÊ°£swag initËøêË°åÁ®ãÂ∫ègo run main.goÊåáÊ†áÂàÜÁ±ª‰∏éÊ†∏ÂøÉËØ¥ÊòéGo net/http/pprof Êö¥Èú≤ÁöÑ10‰∏™ÊÄßËÉΩÂàÜÊûêÁ´ØÁÇπÔºåÊåâÂàÜÊûêÂØπË±°ÂàÜÁ±ªÂ¶Ç‰∏ãÔºåÊ∂µÁõñÂÜÖÂ≠ò„ÄÅCPU„ÄÅÈòªÂ°û„ÄÅÂπ∂Âèë„ÄÅÁ∫øÁ®ã„ÄÅÊâßË°åÊµÅÁ®ãÁ≠âÁª¥Â∫¶ÔºåÈÖçÂêà go tool ÂèØÁ≤æÂáÜÂÆö‰ΩçÊÄßËÉΩÁì∂È¢à„ÄÇÊåáÊ†áËØ¶ÊÉÖË°®Ê†º            ÂàÜÁ±ª      ÊåáÊ†áÂêçÁß∞      Ê†∏ÂøÉÁî®ÈÄî      go tool ÂàÜÊûêÂëΩ‰ª§/Ê≠•È™§      ÂÖ≥ÈîÆÂèÇÊï∞/Ê≥®ÊÑè‰∫ãÈ°π                  ÂÜÖÂ≠òÂàÜÊûê      allocs      Á¥ØËÆ°ÂÜÖÂ≠òÂàÜÈÖçÔºàÂê´Â∑≤ÈáäÊîæÂØπË±°ÔºâÔºåËÆ∞ÂΩïÁ®ãÂ∫èÂêØÂä®‰ª•Êù•ÁöÑÊâÄÊúâÂÜÖÂ≠òÂàÜÈÖçÂéÜÂè≤ÔºàÂ≠óËäÇ/ÂØπË±°Êï∞Ôºâ„ÄÇ      go tool pprof http://localhost:8080/debug/pprof/allocs      - ÈªòËÆ§ÂàÜÊûê alloc_spaceÔºàÁ¥ØËÆ°ÂàÜÈÖçÔºâ- Áî® top ÁúãÁ¥ØËÆ°ÂàÜÈÖçÂ§ßÊà∑- ÁªìÂêà heap ÂØπÊØîÂΩìÂâçÊ¥ªË∑ÉÂÜÖÂ≠ò              ¬†      heap      Â†ÜÂÜÖÂ≠òÂø´ÁÖßÔºàÂΩìÂâçÊ¥ªË∑ÉÂØπË±°ÔºåÊú™Ë¢´GCÂõûÊî∂ÁöÑÂÜÖÂ≠òÔºâÔºåËÆ∞ÂΩïÂÆûÊó∂ÂÜÖÂ≠òÂç†Áî®„ÄÇ      go tool pprof http://localhost:8080/debug/pprof/heap      - ÈªòËÆ§ inuse_spaceÔºàÂΩìÂâçÊ¥ªË∑ÉÔºâÔºåÁî® sample_index=alloc_space ÂàáÊç¢Á¥ØËÆ°ÂàÜÈÖç- Â§öÊ¨°ÈááÊ†∑ÂêéÁî® diff ÂØπÊØîÊ≥ÑÊºè- Áî® list ÂÆö‰Ωç‰ª£Á†ÅË°å              CPUÂàÜÊûê      profile      CPUËÄóÊó∂ÈááÊ†∑ÔºàÈªòËÆ§10ÁßíÔºâÔºåËÆ∞ÂΩïÂáΩÊï∞CPUÂç†Áî®Êó∂ÈïøÔºàÁ∫≥ÁßíÁ∫ßÔºâ„ÄÇ      go tool pprof http://localhost:8080/debug/pprof/profile?seconds=30      - seconds=N ÊåáÂÆöÈááÊ†∑Êó∂ÈïøÔºàÂª∫ËÆÆ30ÁßíÔºâ- Áî® top ÊâæCPUÁÉ≠ÁÇπÔºålist ÂÆö‰Ωç‰ª£Á†ÅË°å- Áî® web ÂèØËßÜÂåñË∞ÉÁî®Âõæ              ÈòªÂ°ûÂàÜÊûê      block      ÈòªÂ°û‰∫ã‰ª∂ÈááÊ†∑ÔºàchannelÊìç‰Ωú„ÄÅIOÁ≠âÂæÖÁ≠âÔºâÔºåËÆ∞ÂΩïgoroutineÈòªÂ°ûÊó∂Èïø/Ê¨°Êï∞„ÄÇ      go tool pprof http://localhost:8080/debug/pprof/block?seconds=30      - ÈúÄÂÖàË∞ÉÁî® runtime.SetBlockProfileRate(1) ÂêØÁî®ÈááÊ†∑- Áî® top ÁúãÈòªÂ°ûÁÉ≠ÁÇπÔºålist ÂÆö‰ΩçÈòªÂ°û‰ª£Á†Å              ¬†      mutex      ÈîÅÁ´û‰∫â‰∫ã‰ª∂ÈááÊ†∑Ôºàsync.MutexÔºâÔºåËÆ∞ÂΩïgoroutineÂõ†ÈîÅÁ´û‰∫âÁöÑÈòªÂ°ûÊó∂Èïø/Ê¨°Êï∞„ÄÇ      go tool pprof http://localhost:8080/debug/pprof/mutex?seconds=30      - ÈúÄÂÖàË∞ÉÁî® runtime.SetMutexProfileFraction(1) ÂêØÁî®ÈááÊ†∑- Áî® top ÁúãÈîÅÁ´û‰∫âÁÉ≠ÁÇπ              Âπ∂ÂèëÂàÜÊûê      goroutine      ÂΩìÂâçÊâÄÊúâgoroutineÁöÑÂ†ÜÊ†àË∑üË∏™ÔºàÂê´Áä∂ÊÄÅÔºöËøêË°å‰∏≠„ÄÅÈòªÂ°û„ÄÅÊ≠ªÈîÅÔºâ„ÄÇ      go tool pprof http://localhost:8080/debug/pprof/goroutine      - Áî® curl http://.../goroutine?debug=2 &gt; goroutines.txt ÂØºÂá∫Â†ÜÊ†à- ÊêúÁ¥¢ chan receive/lock ÂÆö‰ΩçÈòªÂ°û/Ê≥ÑÊºè              Á∫øÁ®ãÂàÜÊûê      threadcreate      Á∫øÁ®ãÂàõÂª∫‰∫ã‰ª∂ÈááÊ†∑ÔºåËÆ∞ÂΩïÊñ∞Á∫øÁ®ãÂàõÂª∫ÁöÑÂ†ÜÊ†àÔºàÂê´ÂàõÂª∫ËÄóÊó∂Ôºâ„ÄÇ      go tool pprof http://localhost:8080/debug/pprof/threadcreate?seconds=30      - Áî® top ÁúãÁ∫øÁ®ãÂàõÂª∫ÁÉ≠ÁÇπ- ÈÄÇÂêàÂàÜÊûêÁ∫øÁ®ãÂàõÂª∫ÂºÄÈîÄÔºàÂ¶ÇÈ¢ëÁπÅÂàõÂª∫Á∫øÁ®ãÔºâ              ÊâßË°åÊµÅÁ®ãÂàÜÊûê      trace      ÊâßË°åÊó∂Â∫èË∑üË∏™ÔºàgoroutineË∞ÉÂ∫¶„ÄÅGC„ÄÅÁ≥ªÁªüË∞ÉÁî®„ÄÅËØ∑Ê±ÇÂ§ÑÁêÜÊµÅÁ®ãÔºâÔºåÁîüÊàêÊó∂Â∫èÊó•Âøó„ÄÇ      1. ‰∏ãËΩΩtraceÊñá‰ª∂Ôºöcurl -o trace.bin 'http://.../trace?seconds=5'2. ÂàÜÊûêÔºögo tool trace trace.bin      - ÈúÄÂÖà‰∏ãËΩΩ‰∫åËøõÂà∂Êñá‰ª∂Ôºàtrace.binÔºâÔºåÂÜçÁî® go tool trace ÊâìÂºÄ- ÂèØËßÜÂåñÁïåÈù¢ÁúãÁîòÁâπÂõæ„ÄÅgoroutineÂàÜÊûê              ÈÖçÁΩÆÊü•Áúã      cmdline      Á®ãÂ∫èÂêØÂä®ÂëΩ‰ª§Ë°åÂèÇÊï∞ÔºàÂ¶Ç ./main -port=8080Ôºâ„ÄÇ      go tool pprof http://localhost:8080/debug/pprof/cmdline      - Áõ¥Êé•ËøîÂõûÊñáÊú¨ÔºåÊü•ÁúãÂêØÂä®ÈÖçÁΩÆÔºàÁéØÂ¢ÉÂèòÈáè„ÄÅGOMAXPROCSÁ≠âÔºâ              Ë∞ÉËØïÂ∑•ÂÖ∑      symbol      Á¨¶Âè∑Ë°®Êü•ËØ¢Êé•Âè£ÔºåÂ∞ÜÂÜÖÂ≠òÂú∞ÂùÄËΩ¨Êç¢‰∏∫ÂáΩÊï∞ÂêçÔºà‰æõË∞ÉËØïÂ∑•ÂÖ∑‰ΩøÁî®Ôºâ„ÄÇ      go tool pprof http://localhost:8080/debug/pprof/symbol      - Êó•Â∏∏ÂàÜÊûêÊûÅÂ∞ëÁî®Ôºå‰ªÖË∞ÉËØïÊó∂Ëß£ÊûêÂ¥©Ê∫ÉÂ†ÜÊ†à‰∏≠ÁöÑÊú™Áü•Âú∞ÂùÄ      ÂÖ≥ÈîÆËØ¥Êòé1. ÂàÜÁ±ªÈÄªËæëÊåâÂàÜÊûêÂØπË±°ÂàíÂàÜÔºàÂÜÖÂ≠ò„ÄÅCPU„ÄÅÈòªÂ°ûÁ≠âÔºâÔºå‰æø‰∫éÂø´ÈÄüÂåπÈÖçÈóÆÈ¢òÁ±ªÂûãÔºö  ÂÜÖÂ≠òÈóÆÈ¢ò ‚Üí heapÔºàÂΩìÂâçÊ≥ÑÊºèÔºâ+ allocsÔºàÁ¥ØËÆ°ÂàÜÈÖçÔºâ  CPUÈóÆÈ¢ò ‚Üí profileÔºàCPUÁÉ≠ÁÇπÔºâ  ÈòªÂ°û/Âπ∂ÂèëÈóÆÈ¢ò ‚Üí goroutineÔºàÁä∂ÊÄÅÔºâ+ blockÔºàÈòªÂ°û‰∫ã‰ª∂Ôºâ+ mutexÔºàÈîÅÁ´û‰∫âÔºâ  Êó∂Â∫èÈóÆÈ¢ò ‚Üí traceÔºàÁîòÁâπÂõæÂàÜÊûêÂª∂ËøüÔºâ2. ÈÄöÁî®ÂëΩ‰ª§‰∏éÈÅøÂùëÁÇπ            Âú∫ÊôØ      Ê†∏ÂøÉÂëΩ‰ª§      ÈÅøÂùëÁÇπ                  ÂÜÖÂ≠òÊ≥ÑÊºèÂÆö‰Ωç      go tool pprof http://.../heap ‚Üí Â§öÊ¨°ÈááÊ†∑ ‚Üí diff ÂØπÊØî ‚Üí list ÂÆö‰Ωç‰ª£Á†ÅË°å      ÈªòËÆ§ inuse_space ‰ªÖÁúãÊ¥ªË∑ÉÂÜÖÂ≠òÔºåÈúÄÂàá alloc_space ÁúãÁ¥ØËÆ°ÂàÜÈÖçÔºõÂ∞èÊ≥ÑÊºèÈúÄÂ§öÊ¨°ÈááÊ†∑              CPUÁÉ≠ÁÇπÂÆö‰Ωç      go tool pprof http://.../profile?seconds=30 ‚Üí top ‚Üí list ‚Üí web      ÈááÊ†∑Êó∂ÈïøÂª∫ËÆÆ30ÁßíÔºàË¶ÜÁõñÂ§öËΩÆËØ∑Ê±ÇÔºâÔºåÈÅøÂÖçÁü≠Êó∂Ê≥¢Âä®Âπ≤Êâ∞              ÈòªÂ°û‰∫ã‰ª∂ÂàÜÊûê      ÂÖà runtime.SetBlockProfileRate(1) ‚Üí go tool pprof http://.../block?seconds=30      Êú™ÂêØÁî®ÈááÊ†∑Êó∂Êó†Êï∞ÊçÆÔºåÈúÄ‰ª£Á†Å‰∏≠ÊòæÂºèÂºÄÂêØ              traceÊó∂Â∫èÂàÜÊûê      curl -o trace.bin 'http://.../trace?seconds=5' ‚Üí go tool trace trace.bin      ÈúÄ‰∏ãËΩΩ‰∫åËøõÂà∂Êñá‰ª∂ÔºàÈùûURLÁõ¥Êé•ÂàÜÊûêÔºâÔºåÁî®ÂèØËßÜÂåñÁïåÈù¢ÁúãÁîòÁâπÂõæ      3. Ê†∏ÂøÉÂú∫ÊôØÈÄüÊü•  ‚ÄúÂÜÖÂ≠òÊ∂®‰∫Ü‰ΩÜheapÊ≤°ÂèçÂ∫î‚Äù ‚Üí Áî® alloc_space Áª¥Â∫¶ + Â§öÊ¨°ÈááÊ†∑ diff ÂØπÊØî  ‚ÄúCPUÂç†Áî®È´ò‰ΩÜ‰∏çÁü•ÈÅìÂì™ÈáåÊÖ¢‚Äù ‚Üí profile ÈááÊ†∑ + top ÊâæÁÉ≠ÁÇπÂáΩÊï∞  ‚ÄúgoroutineÊï∞ÈáèÁàÜÁÇ∏‚Äù ‚Üí goroutine ÂØºÂá∫Â†ÜÊ†à + ÊêúÁ¥¢ chan receive/lock ÂÆö‰ΩçÊ≥ÑÊºèÊ∫ê  ‚ÄúËØ∑Ê±ÇÂª∂ËøüÂøΩÈ´òÂøΩ‰Ωé‚Äù ‚Üí trace ÁîòÁâπÂõæÁúãGC/Á≥ªÁªüË∞ÉÁî®‰∏éËØ∑Ê±ÇÁöÑÊó∂Â∫èÈáçÂè†ÂÆûÊàòÁ§∫‰æã]]></content>
      <categories>
        
          <category> go </category>
        
      </categories>
      <tags>
        
          <tag> Gin </tag>
        
          <tag> pprof </tag>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[RabbitmqÈù¢ËØïÊ±áÊÄª]]></title>
      <url>/%E9%9D%A2%E8%AF%95/2025/12/05/rabbitmq-ms/</url>
      <content type="text"><![CDATA[Ê∂àÊÅØÈòüÂàóÁîü‰∫ßËÄÖÂ∞ÜÊ∂àÊÅØÂèëÂæÄ‰∫§Êç¢Êú∫Ôºå‰∫§Êç¢Êú∫‰æùÊçÆË∑ØÁî±ËßÑÂàôÂíåÁªëÂÆöÂÖ≥Á≥ªÂ∞ÜÊ∂àÊÅØÊäïÈÄíÂà∞ÊåáÂÆöÈòüÂàóÔºõÈòüÂàóÊåÅ‰πÖÂåñÂ≠òÂÇ®Ê∂àÊÅØÔºåÊ∂àË¥πËÄÖÁõëÂê¨ÈòüÂàóËé∑ÂèñÊ∂àÊÅØÔºåÂ§ÑÁêÜÂÆåÊàêÂêéÂèëÈÄÅ ACKÔºåRabbitMQ Á°ÆËÆ§ÂêéÂà†Èô§Ê∂àÊÅØ ‚Äî‚Äî ÂΩ¢Êàê‰∏ÄÊù°ÂÆåÊï¥„ÄÅÂèØÈù†„ÄÅÂèØÊéßÁöÑÊ∂àÊÅØÊµÅËΩ¨ÈìæË∑Ø„ÄÇ+----------------+      Ë∑ØÁî±       +-------------+      Â≠òÂÇ®      +-------------+| Áîü‰∫ßËÄÖÂèëÈÄÅÊ∂àÊÅØ | -------------&gt; | ‰∫§Êç¢Êú∫Ë∑ØÁî±  | -------------&gt; | ÈòüÂàóÂ≠òÂÇ®Ê∂àÊÅØ |+----------------+               +-------------+               +-------------+                                       ‚Üë                                       ÁªëÂÆöÂÖ≥Á≥ªÔºàExchange-QueueÔºâ                                       ‚Üì+----------------+      ËÆ¢ÈòÖ/ACK      +-------------+| Ê∂àË¥πËÄÖÁõëÂê¨ÈòüÂàó | &lt;------------------ | Ê∂àÊÅØÂ§ÑÁêÜÂÆåÊàê |+----------------+                   +-------------+Áîü‰∫ßËÄÖ‚úÖ Â¶Ç‰ΩïÁ°Æ‰øù‚ÄúÂá†‰πé 100%‚Äù‰∏ç‰∏¢Ôºü‚Äî‚Äî 5 Â±ÇÈò≤Êä§ËØ¶Ëß£            Â±ÇÁ∫ß      Êú∫Âà∂      Ëß£ÂÜ≥ÁöÑÈóÆÈ¢ò                  1Ô∏è‚É£ ÂπÇÁ≠âÊéßÂà∂      Redis SET NX      Èò≤Ê≠¢Âπ∂ÂèëÂéãÊµãÂØºËá¥ÈáçÂ§çÂèëÈÄÅ              2Ô∏è‚É£ ÊåÅ‰πÖÂåñ      delivery_mode=2 + durable=true      Èò≤Ê≠¢ Broker ÈáçÂêØ‰∏¢Ê∂àÊÅØ              3Ô∏è‚É£ Publisher Confirms      ack/nack      Á°ÆËÆ§Ê∂àÊÅØË¢´ Broker Êé•Êî∂Âπ∂ÊåÅ‰πÖÂåñ              4Ô∏è‚É£ Mandatory + Return      Ë∑ØÁî±Â§±Ë¥•ËøîÂõû      Èò≤Ê≠¢Ê∂àÊÅØÂõ†Ë∑ØÁî±ÈîôËØØË¢´ÈùôÈªò‰∏¢ÂºÉ              5Ô∏è‚É£ Â§±Ë¥•ÂõûÊªö      Âà†Èô§ Redis Ê†áËÆ∞      ÂÖÅËÆ∏ÈáçËØïÔºåÈÅøÂÖçÊ∞∏‰πÖÈòªÂ°û      Áîü‰∫ßÁéØÂ¢É‰∏≠Áîü‰∫ßËÄÖÁöÑÊ†áÂáÜÁ≠îÊ°àÊ≤°Êúâ‰∏Ä‰∏™ basic_publish()ËÉΩ‰øùËØÅÊ∂àÊÅØÂÖ•ÈòüÔºå‰ΩÜ‚ÄúÊåÅ‰πÖÂåñ + confirms + mandatory + return + ÂπÇÁ≠â + ÈáçËØï‚ÄùÁöÑÁªÑÂêàÊã≥ÔºåÂèØ‰ª•ËÆ©Ê∂àÊÅØ‰∏¢Â§±Ê¶ÇÁéá‰Ωé‰∫é 0.001%ÔºåËææÂà∞Â∑•‰∏öÁ∫ßÂèØÈù†ÊÄß&lt;?phprequire_once __DIR__ . '/vendor/autoload.php';use PhpAmqpLib\Connection\AMQPStreamConnection;use PhpAmqpLib\Message\AMQPMessage;use PhpAmqpLib\Exception\AMQPTimeoutException;class ReliableRabbitMQProducer{    private $connection;    private $redis; // Áî®‰∫éÂπÇÁ≠âÊéßÂà∂    public function __construct()    {        // 1. Âª∫Á´ã RabbitMQ ËøûÊé•ÔºàËøõÁ®ãÂÜÖÂ§çÁî®Ôºâ        $this-&gt;connection = new AMQPStreamConnection(            'rabbitmq', 5672, 'guest', 'guest',            '/', false, 'plain', null, 'en_US',            3.0, 3.0, null, false, 60        );        // 2. ÂàùÂßãÂåñ RedisÔºàÁî®‰∫éÂπÇÁ≠âÔºâ        $this-&gt;redis = new Redis();        $this-&gt;redis-&gt;connect('redis', 6379);    }    /**     * ÂèØÈù†ÂèëÈÄÅÊ∂àÊÅØÔºàÂ§öÂ±ÇÈò≤Êä§Ôºâ     * @param string $orderId ‰∏öÂä°ÂîØ‰∏ÄID     * @param array $orderData ËÆ¢ÂçïÊï∞ÊçÆ     * @return bool ÊòØÂê¶ÊàêÂäü     */    public function sendOrderCreated(string $orderId, array $orderData): bool    {        $lockKey = "sent:order:{$orderId}";        // === Á¨¨1Â±ÇÔºöÂπÇÁ≠âÊéßÂà∂ÔºàÈò≤Âπ∂ÂèëÂéãÊµãÔºâ===        $isFirstSend = $this-&gt;redis-&gt;set($lockKey, 1, ['nx', 'ex' =&gt; 86400]);        if (!$isFirstSend) {            error_log("Duplicate request ignored: {$orderId}");            return true; // ÂπÇÁ≠âËøîÂõûÊàêÂäü        }        $channel = null;        try {            $channel = $this-&gt;connection-&gt;channel();            // === Á¨¨2Â±ÇÔºöÂ£∞ÊòéËµÑÊ∫êÔºàÂπÇÁ≠âÊìç‰ΩúÔºâ===            $exchange = 'orders';            $queue = 'order.created';            $routingKey = 'order.created';            $channel-&gt;exchange_declare($exchange, 'direct', false, true, false);            $channel-&gt;queue_declare($queue, false, true, false, false);            $channel-&gt;queue_bind($queue, $exchange, $routingKey);            // === Á¨¨3Â±ÇÔºöÊûÑÈÄ†ÊåÅ‰πÖÂåñÊ∂àÊÅØ + mandatory ===            $messageId = 'order:' . $orderId . ':' . str_replace('.', '', microtime(true));            $msg = new AMQPMessage(                json_encode([                    'message_id' =&gt; $messageId,                    'order_id'   =&gt; $orderId,                    'data'       =&gt; $orderData,                    'timestamp'  =&gt; time()                ]),                [                    'delivery_mode' =&gt; AMQPMessage::DELIVERY_MODE_PERSISTENT, // ÊåÅ‰πÖÂåñ                    'content_type'  =&gt; 'application/json',                    'message_id'    =&gt; $messageId,                    'mandatory'     =&gt; true  // ÂÖ≥ÈîÆÔºöË∑ØÁî±Â§±Ë¥•ËøîÂõûÁªôÁîü‰∫ßËÄÖ                ]            );            // === Á¨¨4Â±ÇÔºöÂºÄÂêØ Publisher Confirms ===            $channel-&gt;confirm_select();            $acked = false;            $nacked = false;            $returned = false;            // ËÆæÁΩÆ ack/nack ÂõûË∞É            $channel-&gt;set_ack_handler(function (AMQPMessage $message) use (&amp;$acked, $messageId) {                if ($message-&gt;get('message_id') === $messageId) {                    $acked = true;                    error_log("‚úÖ [CONFIRMED] Message acked: {$messageId}");                }            });            $channel-&gt;set_nack_handler(function (AMQPMessage $message) use (&amp;$nacked, $messageId) {                if ($message-&gt;get('message_id') === $messageId) {                    $nacked = true;                    error_log("‚ùå [FAILED] Message nacked: {$messageId}");                }            });            // ËÆæÁΩÆ return ÂõûË∞ÉÔºàË∑ØÁî±Â§±Ë¥•Ôºâ            $channel-&gt;set_return_listener(function ($replyCode, $replyText, $exchange, $routingKey, AMQPMessage $message) use (&amp;$returned, $messageId) {                $returned = true;                error_log("üö® [RETURNED] Message returned: {$replyCode} {$replyText}, msg: {$messageId}");                // ÂèØËÆ∞ÂΩïÂà∞Êï∞ÊçÆÂ∫ìÔºå‰∫∫Â∑•Â§ÑÁêÜ            });            // === Á¨¨5Â±ÇÔºöÂèëÈÄÅÊ∂àÊÅØ ===            $channel-&gt;basic_publish($msg, $exchange, $routingKey);            // === Á¨¨6Â±ÇÔºöÁ≠âÂæÖ Broker Á°ÆËÆ§ÔºàÂêåÊ≠•ÈòªÂ°ûÔºåÊúÄÂ§ö5ÁßíÔºâ===            $channel-&gt;wait_for_pending_acks_returns(5.0);            // === Á¨¨7Â±ÇÔºöÂà§Êñ≠ÁªìÊûú ===            if ($nacked) {                throw new Exception("Broker nack'd the message (e.g., queue full)");            }            if ($returned) {                throw new Exception("Message was returned (routing failed)");            }            if (!$acked) {                throw new Exception("No ack received (network issue or broker down)");            }            // ‚úÖ ÊàêÂäüÔºöÊ∂àÊÅØÂ∑≤ÂÖ•ÈòüÂπ∂ÊåÅ‰πÖÂåñ            error_log("üéâ Message successfully persisted to queue: {$messageId}");            return true;        } catch (Exception $e) {            // === Á¨¨8Â±ÇÔºöÂ§±Ë¥•ÂõûÊªöÂπÇÁ≠âÊ†áËÆ∞ÔºàÂÖÅËÆ∏ÈáçËØïÔºâ===            $this-&gt;redis-&gt;del($lockKey);            error_log("‚ùå Send failed: {$e-&gt;getMessage()} | Order: {$orderId}");            return false;        } finally {            // Ê∏ÖÁêÜËµÑÊ∫ê            if ($channel &amp;&amp; $channel-&gt;is_open()) {                $channel-&gt;close();            }        }    }}Ë∞ÉÁî®Á§∫‰æã$producer = new ReliableRabbitMQProducer();$success = $producer-&gt;sendOrderCreated('123456', ['amount' =&gt; 99.9, 'user_id' =&gt; 789]);if ($success) {    echo "Ê∂àÊÅØÂ∑≤ÂèØÈù†ÊäïÈÄí\n";} else {    echo "ÊäïÈÄíÂ§±Ë¥•ÔºåËØ∑ÈáçËØïÊàñÂëäË≠¶\n";}Ê∂àÊÅØÊåÅ‰πÖÂåñÂπÇÁ≠âÂ§ÑÁêÜ  ÊµÅÁ®ãÂõæ    +----------------+     +------------------+     +------------------+|   HTTP Client  | --&gt; |   PHP-FPM        | --&gt; |   RabbitMQ       || (Âπ∂ÂèëÂéãÊµã)     |     | (Áîü‰∫ßËÄÖÈÄªËæë)      |     | (Ê∂àÊÅØÈòüÂàó)       |+----------------+     +------------------+     +------------------+                           |                           | 1. ÊèêÂèñ order_id                           v                     +------------------+                     |   Redis: SET NX  |                     | sent:order:X     |                     | NX EX 3600       |                     +------------------+                           |                  true ‚Üí ÂèëÈÄÅÊ∂àÊÅØ                          ‚Ü≥ success ‚Üí ÂÆåÊàê ‚úÖ                          ‚Ü≥ failure ‚Üí DEL Ê†áËÆ∞ ‚Üí ËøîÂõûÈîôËØØ ‚ö†Ô∏è                  false ‚Üí ËøîÂõûÊàêÂäüÔºàÂπÇÁ≠âÔºâ‚úÖ        ‰ª£Á†Å    public function sendOrderCreated(string $orderId, array $data): bool{  $lockKey = "sent:order:{$orderId}";  $tempKey = "temp:order:{$orderId}"; // ÂèØÈÄâÔºöÁî®‰∏¥Êó∂Ê†áËÆ∞  // ÊñπÊ°à AÔºöÁõ¥Êé• SET NXÔºàÁÆÄÂçïÔºâ  $isFirst = $this-&gt;redis-&gt;set($lockKey, 1, ['nx', 'ex' =&gt; 3600]);  if (!$isFirst) {      return true; // ÂπÇÁ≠â  }  // ÂèëÈÄÅÊ∂àÊÅØ  try {      $this-&gt;doPublish($orderId, $data);      return true; // ÊàêÂäü  } catch (Exception $e) {      // ÂÖ≥ÈîÆÔºöÂèëÈÄÅÂ§±Ë¥•ÔºåÊ∏ÖÈô§Ê†áËÆ∞ÔºÅ      $this-&gt;redis-&gt;del($lockKey);      error_log("Publish failed, rollback mark: {$orderId}");      return false;  }}        üõ°Ô∏è RabbitMQ Ê∂àË¥πËÄÖÈò≤ÈáçÂ§çÊ∂àË¥π‰∏éÂπÇÁ≠âÂ§ÑÁêÜÂÆåÊï¥ÊñπÊ°à    Ê†∏ÂøÉÊÄùÊÉ≥ÔºöRabbitMQ Âè™‰øùËØÅ‚ÄúËá≥Â∞ë‰∏ÄÊ¨°‚ÄùÊàñ‚ÄúËá≥Â§ö‰∏ÄÊ¨°‚Äù‰∫§‰ªòÔºå‰∏ç‰øùËØÅ‚ÄúÊÅ∞Â•Ω‰∏ÄÊ¨°‚Äù„ÄÇÂõ†Ê≠§ÔºåÊ∂àË¥πËÄÖÂøÖÈ°ªÂÖ∑Â§áËØÜÂà´ÈáçÂ§çÊ∂àÊÅØ„ÄÅÂÆâÂÖ®ÂøΩÁï•ÈáçÂ§ç„ÄÅ‰øùËØÅ‰∏öÂä°ÂπÇÁ≠âÁöÑËÉΩÂäõÔºåÂê¶ÂàôÂ∞ÜÂØºËá¥ËµÑÊçü„ÄÅÊï∞ÊçÆÈîô‰π±Á≠â‰∏•ÈáçÈóÆÈ¢ò„ÄÇ‰∏Ä„ÄÅ‰∏∫‰ªÄ‰πàÂøÖÈ°ªÂ§ÑÁêÜÈáçÂ§çÊ∂àË¥πÔºü            ÂéüÂõ†      ËØ¥Êòé                  üîÅ ÁΩëÁªúÊäñÂä®ÊàñÂ§ÑÁêÜË∂ÖÊó∂      RabbitMQ Êú™Êî∂Âà∞ ACKÔºåÈáçÊäïÊ∂àÊÅØ              üí• Ê∂àË¥πËÄÖÂ¥©Ê∫É      ‰∏öÂä°Â∑≤ÊâßË°å‰ΩÜÊú™ ACKÔºåÈáçÂêØÂêéÊ∂àÊÅØÈáçÂèë              üß± ÊâãÂä® ACK ÈÅóÊºè      ‰ª£Á†Å Bug ÂØºËá¥ÂøòËÆ∞ basic_ack()              üîÑ ÈõÜÁæ§ HA ÂàáÊç¢      ÈïúÂÉèÈòüÂàó‰∏ª‰ªéÂàáÊç¢ÂèØËÉΩËß¶ÂèëÈáçÂèë              üì§ Áîü‰∫ßËÄÖÈáçËØï      ÁΩëÁªúÈóÆÈ¢òÂØºËá¥Âêå‰∏ÄÊù°Ê∂àÊÅØË¢´ÂèëÂ§öÊ¨°      üëâ ÁªìËÆ∫ÔºöÈáçÂ§çÊ∂àË¥πÊòØÂàÜÂ∏ÉÂºèÁ≥ªÁªü‰∏≠ÁöÑÂ∏∏ÊÄÅÔºåÂøÖÈ°ªËÆæËÆ°ÂπÇÁ≠âÊú∫Âà∂Â∫îÂØπ„ÄÇ‰∫å„ÄÅÂπÇÁ≠âÊÄßÔºöÊ∂àË¥πËÄÖÁöÑÁîüÂëΩÁ∫ø  ÂÆö‰πâÔºöÊó†ËÆ∫Âêå‰∏ÄÊù°Ê∂àÊÅØË¢´Ê∂àË¥πÂ§öÂ∞ëÊ¨°ÔºåÁ≥ªÁªüÁöÑ‰∏öÂä°Áä∂ÊÄÅÂíåÊúÄÁªàÁªìÊûúÈÉΩ‰∏éÂè™Ê∂àË¥π‰∏ÄÊ¨°Áõ∏Âêå„ÄÇ‚úÖ ÂπÇÁ≠â‰∏çÊòØ‚ÄúÂèØÈÄâÈ°π‚ÄùÔºåËÄåÊòØÁîü‰∫ßÁéØÂ¢ÉÁöÑÂøÖÈÄâÈ°π„ÄÇ‰∏â„ÄÅ‰∫îÂ§ßÂπÇÁ≠âÁ≠ñÁï•ÔºàÊåâÊé®ËçêÂ∫¶ÊéíÂ∫èÔºâ            ÊñπÊ°à      ÂéüÁêÜ      ÈÄÇÁî®Âú∫ÊôØ      ‰ºòÁÇπ      Áº∫ÁÇπ                  1Ô∏è‚É£ Âü∫‰∫é message_id + Redis/NX      Ê∂àË¥πÂâçÁî® SET message_id NX EX Âà§Êñ≠ÊòØÂê¶Â∑≤Â§ÑÁêÜ      ÈÄöÁî®Âú∫ÊôØÔºåÂ∞§ÂÖ∂ÂºÇÊ≠•Ê∂àÊÅØ      ‚úÖ ÁÆÄÂçïÈ´òÊïà‚úÖ ÂàÜÂ∏ÉÂºèÂèãÂ•Ω‚úÖ ÂèØËÆæÁΩÆËøáÊúü      ‚ùå ‰æùËµñ Redis ÂèØÁî®ÊÄß              2Ô∏è‚É£ Âü∫‰∫é‰∏öÂä°‰∏ªÈîÆÔºàÂ¶Ç order_idÔºâ      Áî®‰∏öÂä°ÂîØ‰∏Ä ID Âà§Êñ≠ÊòØÂê¶Â∑≤Â§ÑÁêÜ      ÊúâÊòéÁ°Æ‰∏öÂä°Ê†áËØÜÁöÑÂú∫ÊôØ      ‚úÖ Êó†ÈúÄÂÖ®Â±Ä ID‚úÖ Ë¥¥Ëøë‰∏öÂä°ÈÄªËæë      ‚ùå Âêå‰∏Ä‰∏öÂä°ÂèØËÉΩÂ§öÊ¨°ÂêàÊ≥ïÊõ¥Êñ∞ÔºàÂ¶ÇÁä∂ÊÄÅÂèòÊõ¥Ôºâ              3Ô∏è‚É£ Êï∞ÊçÆÂ∫ìÂîØ‰∏ÄÁ∫¶Êùü      ÊèíÂÖ•Êó∂‰æùËµñ UNIQUE KEY Êä•Èîô      Êï∞ÊçÆÂÖ•Â∫ì„ÄÅÁî®Êà∑Ê≥®ÂÜåÁ≠â      ‚úÖ Âº∫‰∏ÄËá¥ÊÄß‚úÖ ‰∏ç‰æùËµñÂ§ñÈÉ®ÁºìÂ≠ò      ‚ùå ÊÄßËÉΩÂ∑Æ‚ùå ÈúÄÊçïËé∑ÂºÇÂ∏∏              4Ô∏è‚É£ Áä∂ÊÄÅÊú∫ÊéßÂà∂      ‰∏öÂä°Áä∂ÊÄÅÂè™ËÉΩÂçïÂêëÊµÅËΩ¨ÔºàÂ¶ÇÔºöÂæÖÊîØ‰ªò ‚Üí Â∑≤ÊîØ‰ªòÔºâ      Êúâ‰∏•Ê†ºÁä∂ÊÄÅÊµÅËΩ¨ÁöÑ‰∏öÂä°      ‚úÖ Â§©ÁÑ∂Èò≤Èáç‚úÖ Êó†È¢ùÂ§ñÂ≠òÂÇ®      ‚ùå ‰∏çÈÄÇÁî®‰∫éÂπÇÁ≠âÊõ¥Êñ∞ÔºàÂ¶ÇÂ§öÊ¨°Âä†ÁßØÂàÜÔºâ              5Ô∏è‚É£ Êú¨Âú∞Êñá‰ª∂ÊàñÂÜÖÂ≠òÊ†áËÆ∞      ÂçïÊú∫ËÑöÊú¨ÂèØÁî® flock() ÊàñÊï∞ÁªÑÁºìÂ≠ò      ÂçïÊú∫„ÄÅ‰ΩéÈ¢ëÂú∫ÊôØ      ‚úÖ ÁÆÄÂçï      ‚ùå ‰∏çÊîØÊåÅÂàÜÂ∏ÉÂºè‚ùå ÈáçÂêØ‰∏¢Â§±        ‚úÖ Êé®ËçêÁªÑÂêàÔºö      Â∏∏ËßÑ‰∏öÂä°ÔºöÊñπÊ°à 1Ôºàmessage_id + RedisÔºâ    Ê†∏ÂøÉ‰∫§ÊòìÔºöÊñπÊ°à 1 + ÊñπÊ°à 3ÔºàÊï∞ÊçÆÂ∫ìÂîØ‰∏ÄÈîÆÔºâÂèåÈáç‰øùÈô©    Áä∂ÊÄÅÈ©±Âä®ÔºöÊñπÊ°à 4ÔºàÁä∂ÊÄÅÊú∫Ôºâ‰∏∫‰∏ªÔºåËæÖ‰ª•ÊñπÊ°à 1  Âõõ„ÄÅÊ∂àË¥πËÄÖÂºÄÂèëÂçÅÂ§ßÂÖ≥ÈîÆÂÆûË∑µÔºàÊï¥ÂêàÂèØÈù†ÊÄß‰∏éÂèØÁª¥Êä§ÊÄßÔºâ            Á±ªÂà´      ÂÆûË∑µË¶ÅÁÇπ      ËØ¥Êòé                  üîê 1. ÊâãÂä® ACK      Á¶ÅÁî® auto_ack=trueÔºå‰∏öÂä°ÂÆåÊàêÂêé basic_ack()      Èò≤Ê≠¢Êú™Â§ÑÁêÜÂÆåÂ∞±Á°ÆËÆ§ÔºåÈÅøÂÖçÊ∂àÊÅØ‰∏¢Â§±              ‚öñÔ∏è 2. ÂÖ¨Âπ≥ÂàÜÂèëÔºàQoSÔºâ      basic_qos(null, 1, null) ÊéßÂà∂Êú™ ACK Ê∂àÊÅØÊï∞      ÈÅøÂÖçÊüêÊ∂àË¥πËÄÖËøáËΩΩÔºåÊèêÂçáË¥üËΩΩÂùáË°°              üßº 3. ‰ºòÈõÖÂÖ≥Èó≠      ÊçïËé∑ SIGTERMÔºåÂÅúÊ≠¢ wait() Âπ∂Á≠âÂæÖÂΩìÂâçÊ∂àÊÅØÂ§ÑÁêÜÂÆå      Èò≤Ê≠¢Âº∫Âà∂ÈÄÄÂá∫ÂØºËá¥Ê∂àÊÅØÈáçÊäï              üóëÔ∏è 4. Ê≠ª‰ø°ÈòüÂàóÔºàDLXÔºâ      ÈÖçÁΩÆ DLX Â§ÑÁêÜÈáçËØïË∂ÖÈôêÁöÑÊ∂àÊÅØ      ÈÅøÂÖçÊó†ÈôêÈáçÂÖ•ÈòüÔºå‰æø‰∫éÈóÆÈ¢òÊéíÊü•              üïí 5. ÊéßÂà∂Â§ÑÁêÜÊó∂Èïø      ÈÅøÂÖçÈòªÂ°ûÊìç‰ΩúÔºåËÆæÁΩÆ read_write_timeout      Èò≤Ê≠¢ÂøÉË∑≥Ë∂ÖÊó∂ÂØºËá¥ËøûÊé•Êñ≠ÂºÄ              üîÅ 6. ÈáçËØïÁ≠ñÁï•      Â§±Ë¥•Âêé nack(true) ÈáçËØïÊúâÈôêÊ¨°Êï∞ÔºàÂ¶Ç 3 Ê¨°Ôºâ      Èò≤Ê≠ªÂæ™ÁéØÔºåÁªìÂêà DLX ‰ΩøÁî®              üìä 7. Êó•Âøó‰∏éÁõëÊéß      ËÆ∞ÂΩï message_id„ÄÅÂ§ÑÁêÜÁªìÊûú„ÄÅÈáçËØïÊ¨°Êï∞      ‰æø‰∫éËøΩË∏™ÈóÆÈ¢òÔºåÊîØÊåÅÂØπË¥¶              üÜî 8. ÂîØ‰∏ÄÊ†áËØÜ‰º†ÈÄí      Ê∂àÊÅØ‰ΩìÂøÖÈ°ªÂåÖÂê´ message_idÔºàÁîü‰∫ßËÄÖÁîüÊàêÔºâ      ÂπÇÁ≠âÂéªÈáçÁöÑ‰æùÊçÆ              üß© 9. ÂπÇÁ≠â‰ºòÂÖà‰∫éÈáçËØï      ÂÖàÂà§Êñ≠ÊòØÂê¶Â∑≤Â§ÑÁêÜÔºåÂÜçÂÜ≥ÂÆöÊòØÂê¶ÊâßË°å‰∏öÂä°      ÂáèÂ∞ëÊó†ÊïàÈáçËØïÔºåÊèêÂçáÊÄßËÉΩ              üß™ 10. ÂéãÊµãÈ™åËØÅ      Ê®°ÊãüÁΩëÁªúÊäñÂä®„ÄÅÊ∂àË¥πËÄÖÂ¥©Ê∫ÉÔºåÈ™åËØÅÂéªÈáçÊúâÊïàÊÄß      Á°Æ‰øùÊñπÊ°àÂú®Áîü‰∫ßÁéØÂ¢ÉÂèØÈù†      ‰∫î„ÄÅÂÆåÊï¥Â§ÑÁêÜÊµÅÁ®ãÔºà‰ª• PHP ‰∏∫‰æãÔºâ[Êé•Êî∂Ê∂àÊÅØ]     ‚Üì[ÊèêÂèñ message_id]     ‚Üì[Redis SET message_id NX EX 86400]     ‚Üì   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ Â∑≤Â≠òÂú®ÔºüYES  ‚îÇ ‚Üí Áõ¥Êé• ACKÔºåË∑≥Ëøá‰∏öÂä° ‚úÖ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚Üì NO[ÊâßË°å‰∏öÂä°ÈÄªËæë]     ‚Üì[ÊàêÂäü] ‚Üí ACK ‚úÖ[Â§±Ë¥•] ‚Üí ÂèØÈÄâÔºöÂà†Èô§ Redis Ê†áËÆ∞ ‚Üí NACKÔºàÈáçËØïÊàñËøõ DLXÔºâ‚ö†Ô∏è  ‚úÖ ÂÖ≥ÈîÆÁÇπÔºö      SET NX ÊòØÂéüÂ≠êÊìç‰ΩúÔºåÈò≤Âπ∂ÂèëÈáçÂ§çÂ§ÑÁêÜ    ‰∏öÂä°ÊàêÂäüÂêéÊâç ACKÔºåÂ§±Ë¥•ÂèØÂõûÊªöÊ†áËÆ∞ÂÖÅËÆ∏ÈáçËØï    ÈáçËØïÊ¨°Êï∞Ë∂ÖÈôê ‚Üí Ëøõ DLXÔºå‰∫∫Â∑•‰ªãÂÖ•  ÂÖ≠„ÄÅÊÄªÁªìÔºöÊûÑÂª∫‚ÄúÈõ∂ËµÑÊçü‚ÄùÊ∂àË¥πËÄÖ‰ΩìÁ≥ªÁöÑÂõõÂ§ßÊîØÊü±            ÊîØÊü±      ÂÜÖÊ∂µ      ËêΩÂú∞Âä®‰Ωú                  1Ô∏è‚É£ ËÆ§Áü•Âà∞‰Ωç      Êé•Âèó‚ÄúÈáçÂ§çÊ∂àË¥πÊòØÂ∏∏ÊÄÅ‚Äù      ËÆæËÆ°Êó∂ÈªòËÆ§Ê∂àÊÅØÂèØËÉΩÈáçÂ§ç              2Ô∏è‚É£ ÂπÇÁ≠â‰ºòÂÖà      ‰∏öÂä°Â±ÇÂÖ∑Â§áÂéªÈáçËÉΩÂäõ      ÈááÁî® message_id + Redis Á≠âÊñπÊ°à              3Ô∏è‚É£ Êú∫Âà∂ÂÅ•ÂÖ®      ACK„ÄÅQoS„ÄÅDLX„ÄÅÁõëÊéßÂÖ®Ë¶ÜÁõñ      ÈÅøÂÖçÊäÄÊúØÊÄßÈáçÂ§çÔºàÂ¶ÇÊú™ ACKÔºâ              4Ô∏è‚É£ È™åËØÅÂÖÖÂàÜ      ÂéãÊµã + ÂØπË¥¶ + ÁõëÊéß      Á°Æ‰øùÊñπÊ°àÂú®ÁúüÂÆûÂú∫ÊôØ‰∏≠ÂèØÈù†      ‚úÖ ÊúÄÁªàÂª∫ËÆÆ  ‰∏çË¶Å‰æùËµñ RabbitMQ ‰øùËØÅ‚ÄúÂè™Ê∂àË¥π‰∏ÄÊ¨°‚Äù ‚Äî‚Äî ÂÆÉÊ≤°ÊúâËøô‰∏™ËØ≠‰πâ„ÄÇ  ‰∏çË¶ÅÊää‚ÄúÊ≤°Êä•Èîô‚ÄùÂΩìÊàê‚ÄúÊàêÂäü‚Äù ‚Äî‚Äî ÂøÖÈ°ª ACK ÊâçÁÆóÂÆåÊàê„ÄÇ  ‰∏çË¶ÅÊää‚ÄúÈáçËØï‚ÄùÂΩì‚ÄúÂÆπÈîô‚Äù ‚Äî‚Äî Êó†ÂπÇÁ≠âÁöÑÈáçËØïÊòØÁÅæÈöæ„ÄÇ  Êää‚ÄúÂπÇÁ≠â‚ÄùÂΩì‰ΩúÂíå‚Äú‰∏öÂä°ÈÄªËæë‚ÄùÂêåÁ≠âÈáçË¶ÅÁöÑÊ®°ÂùóÊù•ËÆæËÆ°„ÄÇüí° ÈáëÂè•ÊÄªÁªìÔºö  Âú®Ê∂àÊÅØÈ©±Âä®ÁöÑÁ≥ªÁªü‰∏≠ÔºåÊ∂àË¥πËÄÖ‰∏çÊòØ‚ÄúÊâßË°åËÄÖ‚ÄùÔºåËÄåÊòØ‚ÄúÂÜ≥Á≠ñËÄÖ‚Äù‚Äî‚ÄîÂÆÉÂøÖÈ°ªÂà§Êñ≠ÔºöËøôÊù°Ê∂àÊÅØÊàë‰ª•ÂâçËßÅËøáÂêóÔºüÊàëÁé∞Âú®ËØ•Â§ÑÁêÜÂêóÔºüÂ§ÑÁêÜÈîô‰∫ÜËÉΩÂõûÊªöÂêóÔºüÂè™ÊúâÊÉ≥Ê∏ÖÊ•öËøô‰∏â‰∏™ÈóÆÈ¢òÔºåÁ≥ªÁªüÊâçËÉΩÁúüÊ≠£ÂèØÈù†„ÄÇ‰∏Ä„ÄÅ‰∫îÂ§ßÊ†∏ÂøÉÊ®°ÂùóÔºàÁ≥ªÁªüÈ™®Êû∂Ôºâ            Ê®°Âùó      ËÅåË¥£      ÂØπÂ∫î‰ª£Á†ÅÊñá‰ª∂                  1Ô∏è‚É£ ÈÖçÁΩÆÁÆ°ÁêÜÂ±Ç      Áªü‰∏ÄÁÆ°ÁêÜ RabbitMQ„ÄÅRedis„ÄÅÈòüÂàó„ÄÅÊ≠ª‰ø°Á≠âÂèÇÊï∞Ôºå‰∏éÁéØÂ¢ÉËß£ËÄ¶ÔºåÊîØÊåÅÂ§öÁéØÂ¢ÉÁÅµÊ¥ªÂàáÊç¢      config/rabbitmq.php              2Ô∏è‚É£ ËøûÊé•ËµÑÊ∫êÁÆ°ÁêÜ      ÂàùÂßãÂåñÂπ∂Áª¥Êä§ RabbitMQ ËøûÊé•„ÄÅChannel„ÄÅRedis ËøûÊé•Ê±†ÔºåÁ°Æ‰øùËµÑÊ∫êÁîüÂëΩÂë®ÊúüÂÆâÂÖ®„ÄÅÂºÇÂ∏∏Ëá™Âä®Ê∏ÖÁêÜ      BaseConsumer::initializeRabbitMQ()BaseConsumer::initializeRedis()              3Ô∏è‚É£ Ê∂àÊÅØÊ∂àË¥πÂºïÊìé      ÂÆûÁé∞Ê∂àË¥πÂæ™ÁéØ„ÄÅÂõûË∞ÉÂàÜÂèë„ÄÅÊâãÂä® ACK/NACK ÊéßÂà∂„ÄÅQoS ÂÖ¨Âπ≥ÂàÜÂèëÔºå‰øùÈöúÊ∂àÊÅØÂèØÈù†ÊäïÈÄí‰∏éË¥üËΩΩÂùáË°°      BaseConsumer::startConsuming()              4Ô∏è‚É£ ‰∏öÂä°Â§ÑÁêÜÊ†∏ÂøÉ      ÊäΩË±°‰∏öÂä°Â§ÑÁêÜÈÄªËæëÔºåÂÜÖÁΩÆÂπÇÁ≠âÂéªÈáç„ÄÅ‰∫ãÂä°ÊéßÂà∂„ÄÅÈáçËØïÊú∫Âà∂„ÄÅÊ≠ª‰ø°Á≠ñÁï•ÔºåÁ°Æ‰øù‰∏öÂä°ÊâßË°åÁöÑÂáÜÁ°ÆÊÄßÂíåÂÆπÈîôÊÄß      BaseConsumer::onMessage()+ Â≠êÁ±ª processMessage()              5Ô∏è‚É£ ËøêÁª¥ÊîØÊíë‰ΩìÁ≥ª      Êèê‰æõÁªìÊûÑÂåñÊó•Âøó„ÄÅÁõëÊéßÂüãÁÇπ„ÄÅ‰ºòÈõÖÂÖ≥Èó≠Ôºà‰ø°Âè∑Â§ÑÁêÜÔºâ„ÄÅSupervisor ËøõÁ®ãÊâòÁÆ°Ôºå‰øùÈöúÁ≥ªÁªüÂèØËßÇÊµãÊÄß‰∏éÈ´òÂèØÁî®      BaseConsumer::signalHandler()bin/consumer.phpsupervisor/*.conf        ‰∏Ä„ÄÅ ÈÖçÁΩÆÊñá‰ª∂ (config/rabbitmq.php)&lt;?phpreturn [    // RabbitMQ ËøûÊé•ÈÖçÁΩÆ    'rabbitmq' =&gt; [        'host' =&gt; 'rabbitmq-host',        'port' =&gt; 5672,        'username' =&gt; 'your_username',        'password' =&gt; 'your_password',        'vhost' =&gt; '/',        'heartbeat' =&gt; 60,        'read_write_timeout' =&gt; 60,    ],        // ÈòüÂàóÈÖçÁΩÆ    'queues' =&gt; [        'order.created' =&gt; [            'name' =&gt; 'order.created',            'exchange' =&gt; 'orders',            'routing_key' =&gt; 'order.created',            'durable' =&gt; true,            'prefetch' =&gt; 1, // ÂÖ¨Âπ≥ÂàÜÂèë            'retry_count' =&gt; 3, // ÊúÄÂ§ßÈáçËØïÊ¨°Êï∞            'retry_delay' =&gt; 5000, // ÈáçËØïÂª∂Ëøü(ÊØ´Áßí)        ],        'payment.success' =&gt; [            'name' =&gt; 'payment.success',            'exchange' =&gt; 'payments',            'routing_key' =&gt; 'payment.success',            'durable' =&gt; true,            'prefetch' =&gt; 2,            'retry_count' =&gt; 5,            'retry_delay' =&gt; 10000,        ],    ],        // Redis ÈÖçÁΩÆÔºàÁî®‰∫éÂπÇÁ≠âÔºâ    'redis' =&gt; [        'host' =&gt; 'redis-host',        'port' =&gt; 6379,        'password' =&gt; '',        'database' =&gt; 0,        'timeout' =&gt; 3,    ],        // Ê≠ª‰ø°ÈòüÂàóÈÖçÁΩÆ    'dead_letter' =&gt; [        'enabled' =&gt; true,        'exchange' =&gt; 'dlx.orders',        'queue' =&gt; 'dlx.order.created',        'ttl' =&gt; 60000, // Ê∂àÊÅØÂú®ÈòüÂàó‰∏≠Â≠òÊ¥ªÊó∂Èó¥(ÊØ´Áßí)    ],];  ‰∫å„ÄÅ Ê†∏ÂøÉÊ∂àË¥πËÄÖÁ±ª (app/Consumers/BaseConsumer.php)&lt;?phpnamespace App\Consumers;use PhpAmqpLib\Connection\AMQPStreamConnection;use PhpAmqpLib\Message\AMQPMessage;use PhpAmqpLib\Exception\AMQPTimeoutException;use Redis;use Psr\Log\LoggerInterface;abstract class BaseConsumer{    protected $connection;    protected $channel;    protected $redis;    protected $logger;    protected $config;        // ‰ø°Âè∑ÊéßÂà∂    protected $shouldStop = false;    protected $currentMessage = null;    protected $currentStartTime = 0;    public function __construct(array $config, LoggerInterface $logger)    {        $this-&gt;config = $config;        $this-&gt;logger = $logger;        $this-&gt;setupSignalHandlers();    }    /**     * ÂàùÂßãÂåñËøûÊé•ÂíåËµÑÊ∫ê     */    public function initialize(): void    {        // ÂàùÂßãÂåñ Redis        $this-&gt;initializeRedis();                // ÂàùÂßãÂåñ RabbitMQ ËøûÊé•        $this-&gt;initializeRabbitMQ();    }    /**     * ÂàùÂßãÂåñ Redis     */    protected function initializeRedis(): void    {        try {            $this-&gt;redis = new Redis();            $redisConfig = $this-&gt;config['redis'];                        if (!$this-&gt;redis-&gt;connect(                $redisConfig['host'],                 $redisConfig['port'],                 $redisConfig['timeout']            )) {                throw new \Exception("Redis connection failed");            }                        if (!empty($redisConfig['password'])) {                $this-&gt;redis-&gt;auth($redisConfig['password']);            }                        $this-&gt;redis-&gt;select($redisConfig['database']);                        $this-&gt;logger-&gt;info("Redis connected successfully");        } catch (\Exception $e) {            $this-&gt;logger-&gt;error("Redis initialization failed: " . $e-&gt;getMessage());            throw $e;        }    }    /**     * ÂàùÂßãÂåñ RabbitMQ ËøûÊé•     */    protected function initializeRabbitMQ(): void    {        try {            $rabbitConfig = $this-&gt;config['rabbitmq'];                        $this-&gt;connection = new AMQPStreamConnection(                $rabbitConfig['host'],                $rabbitConfig['port'],                $rabbitConfig['username'],                $rabbitConfig['password'],                $rabbitConfig['vhost'],                false,                'AMQPLAIN',                null,                'en_US',                $rabbitConfig['read_write_timeout'],                $rabbitConfig['read_write_timeout'],                null,                false,                $rabbitConfig['heartbeat']            );            $this-&gt;channel = $this-&gt;connection-&gt;channel();                        // ËÆæÁΩÆ QoSÔºàÂÖ¨Âπ≥ÂàÜÂèëÔºâ            $this-&gt;channel-&gt;basic_qos(null, $this-&gt;getPrefetchCount(), null);                        $this-&gt;logger-&gt;info("RabbitMQ connected successfully");        } catch (\Exception $e) {            $this-&gt;logger-&gt;error("RabbitMQ initialization failed: " . $e-&gt;getMessage());            throw $e;        }    }    /**     * Â£∞ÊòéÈòüÂàóÂíåÁªëÂÆö     */    protected function declareQueue(string $queueName): void    {        $queueConfig = $this-&gt;config['queues'][$queueName];                // Â£∞ÊòéÊ≠ª‰ø°‰∫§Êç¢Êú∫ÂíåÈòüÂàóÔºàÂ¶ÇÊûúÂêØÁî®Ôºâ        if ($this-&gt;config['dead_letter']['enabled']) {            $this-&gt;declareDeadLetter($queueName);        }        // Â£∞Êòé‰∏ªÈòüÂàó        $args = [];        if ($this-&gt;config['dead_letter']['enabled']) {            $args['x-dead-letter-exchange'] = $this-&gt;config['dead_letter']['exchange'];            $args['x-dead-letter-routing-key'] = $this-&gt;config['dead_letter']['queue'];            $args['x-message-ttl'] = $this-&gt;config['dead_letter']['ttl'];        }        $this-&gt;channel-&gt;queue_declare(            $queueConfig['name'],            false, // passive            $queueConfig['durable'], // durable            false, // exclusive            false, // auto_delete            false, // nowait            $args // arguments        );        // Â£∞Êòé‰∫§Êç¢Êú∫        $this-&gt;channel-&gt;exchange_declare(            $queueConfig['exchange'],            'direct', // type            false, // passive            $queueConfig['durable'], // durable            false // auto_delete        );        // ÁªëÂÆöÈòüÂàóÂà∞‰∫§Êç¢Êú∫        $this-&gt;channel-&gt;queue_bind(            $queueConfig['name'],            $queueConfig['exchange'],            $queueConfig['routing_key']        );        $this-&gt;logger-&gt;info("Queue {$queueName} declared and bound successfully");    }    /**     * Â£∞ÊòéÊ≠ª‰ø°ÈòüÂàó     */    protected function declareDeadLetter(string $queueName): void    {        $dlxConfig = $this-&gt;config['dead_letter'];        $queueConfig = $this-&gt;config['queues'][$queueName];        // Â£∞ÊòéÊ≠ª‰ø°‰∫§Êç¢Êú∫        $this-&gt;channel-&gt;exchange_declare(            $dlxConfig['exchange'],            'direct',            false,            true,            false        );        // Â£∞ÊòéÊ≠ª‰ø°ÈòüÂàó        $this-&gt;channel-&gt;queue_declare(            $dlxConfig['queue'] . '.' . $queueName,            false,            true,            false,            false        );        // ÁªëÂÆöÊ≠ª‰ø°ÈòüÂàó        $this-&gt;channel-&gt;queue_bind(            $dlxConfig['queue'] . '.' . $queueName,            $dlxConfig['exchange'],            $queueConfig['routing_key']        );    }    /**     * Ê∂àÊÅØÂ§ÑÁêÜÂáΩÊï∞ÔºàÂ≠êÁ±ªÂøÖÈ°ªÂÆûÁé∞Ôºâ     */    abstract protected function processMessage(array $data, array $headers): bool;    /**     * Ëé∑ÂèñÊ∂àÊÅØÂéªÈáçÈîÆ     */    protected function getDeduplicationKey(AMQPMessage $message): string    {        $data = json_decode($message-&gt;getBody(), true);        return $data['message_id'] ?? $message-&gt;getDeliveryTag() . '_' . md5($message-&gt;getBody());    }    /**     * Ê£ÄÊü•Ê∂àÊÅØÊòØÂê¶Â∑≤Â§ÑÁêÜÔºàÂπÇÁ≠âÊÄßÔºâ     */    protected function isMessageProcessed(string $deduplicationKey): bool    {        $key = "processed:message:{$deduplicationKey}";        return $this-&gt;redis-&gt;exists($key);    }    /**     * Ê†áËÆ∞Ê∂àÊÅØÂ∑≤Â§ÑÁêÜ     */    protected function markMessageProcessed(string $deduplicationKey, int $ttl = 86400): void    {        $key = "processed:message:{$deduplicationKey}";        $this-&gt;redis-&gt;setex($key, $ttl, 1);    }    /**     * Ê∂àÊÅØÊ∂àË¥πÂõûË∞É     */    public function onMessage(AMQPMessage $message): void    {        $this-&gt;currentMessage = $message;        $this-&gt;currentStartTime = microtime(true);        try {            // ÊèêÂèñÊ∂àÊÅØÂÜÖÂÆπ            $data = json_decode($message-&gt;getBody(), true);            if (json_last_error() !== JSON_ERROR_NONE) {                throw new \Exception("Invalid JSON: " . json_last_error_msg());            }            $headers = $message-&gt;get_properties();            $deduplicationKey = $this-&gt;getDeduplicationKey($message);            $this-&gt;logger-&gt;info("Processing message", [                'message_id' =&gt; $data['message_id'] ?? 'unknown',                'delivery_tag' =&gt; $message-&gt;getDeliveryTag(),                'redelivered' =&gt; $message-&gt;isRedelivered()            ]);            // ÂπÇÁ≠âÊÄßÊ£ÄÊü•            if ($this-&gt;isMessageProcessed($deduplicationKey)) {                $this-&gt;logger-&gt;info("Duplicate message detected, skipping", [                    'message_id' =&gt; $data['message_id'] ?? 'unknown'                ]);                $message-&gt;ack();                return;            }            // ‰∏öÂä°Â§ÑÁêÜ            $success = $this-&gt;processMessage($data, $headers);            if ($success) {                // Ê†áËÆ∞Ê∂àÊÅØÂ∑≤Â§ÑÁêÜ                $this-&gt;markMessageProcessed($deduplicationKey);                                // Á°ÆËÆ§Ê∂àÊÅØ                $message-&gt;ack();                                $processingTime = round((microtime(true) - $this-&gt;currentStartTime) * 1000, 2);                $this-&gt;logger-&gt;info("Message processed successfully", [                    'message_id' =&gt; $data['message_id'] ?? 'unknown',                    'processing_time_ms' =&gt; $processingTime                ]);            } else {                throw new \Exception("Business processing failed");            }        } catch (\Exception $e) {            $this-&gt;handleProcessingFailure($message, $e);        } finally {            $this-&gt;currentMessage = null;            $this-&gt;currentStartTime = 0;        }    }    /**     * Â§ÑÁêÜÂ§ÑÁêÜÂ§±Ë¥•     */    protected function handleProcessingFailure(AMQPMessage $message, \Exception $e): void    {        $data = json_decode($message-&gt;getBody(), true);        $messageId = $data['message_id'] ?? 'unknown';                $processingTime = round((microtime(true) - $this-&gt;currentStartTime) * 1000, 2);                $this-&gt;logger-&gt;error("Message processing failed", [            'message_id' =&gt; $messageId,            'error' =&gt; $e-&gt;getMessage(),            'processing_time_ms' =&gt; $processingTime,            'delivery_tag' =&gt; $message-&gt;getDeliveryTag(),            'redelivered' =&gt; $message-&gt;isRedelivered()        ]);        // Ê†πÊçÆÈáçËØïÊ¨°Êï∞ÂÜ≥ÂÆöÊòØÂê¶ÈáçËØïÊàñÊãíÁªù        $retryCount = $this-&gt;getCurrentRetryCount($message);        $maxRetries = $this-&gt;getMaxRetryCount();        if ($retryCount &lt; $maxRetries) {            // ÈáçËØïÔºöÈáçÊñ∞ÂÖ•Èòü            $this-&gt;logger-&gt;info("Retrying message", [                'message_id' =&gt; $messageId,                'retry_count' =&gt; $retryCount + 1,                'max_retries' =&gt; $maxRetries            ]);                        // Âª∂ËøüÈáçËØïÔºàÈÄöËøá TTL ÂÆûÁé∞Ôºâ            $message-&gt;nack(false); // ‰∏çÈáçÊñ∞ÂÖ•ÈòüÔºåÁ≠âÂæÖ TTL ÂêéËøõÂÖ•Ê≠ª‰ø°ÊàñÈáçÊñ∞ÂèëÂ∏É        } else {            // ËææÂà∞ÊúÄÂ§ßÈáçËØïÊ¨°Êï∞ÔºåÊãíÁªùÊ∂àÊÅØÔºàËøõÂÖ•Ê≠ª‰ø°ÈòüÂàóÔºâ            $this-&gt;logger-&gt;warning("Max retries exceeded, sending to dead letter", [                'message_id' =&gt; $messageId,                'retry_count' =&gt; $retryCount            ]);                        $message-&gt;nack(false); // ÊãíÁªùÔºå‰∏çÈáçÊñ∞ÂÖ•Èòü        }    }    /**     * Ëé∑ÂèñÂΩìÂâçÈáçËØïÊ¨°Êï∞     */    protected function getCurrentRetryCount(AMQPMessage $message): int    {        $headers = $message-&gt;get_properties();        $retryCount = $headers['application_headers']['x-retry-count'][1] ?? 0;        return (int)$retryCount;    }    /**     * Ëé∑ÂèñÊúÄÂ§ßÈáçËØïÊ¨°Êï∞     */    protected function getMaxRetryCount(): int    {        return $this-&gt;config['queues']['order.created']['retry_count'] ?? 3;    }    /**     * Ëé∑ÂèñÈ¢ÑÂèñËÆ°Êï∞     */    protected function getPrefetchCount(): int    {        return $this-&gt;config['queues']['order.created']['prefetch'] ?? 1;    }    /**     * ËÆæÁΩÆ‰ø°Âè∑Â§ÑÁêÜÂô®Ôºà‰ºòÈõÖÂÖ≥Èó≠Ôºâ     */    protected function setupSignalHandlers(): void    {        pcntl_signal(SIGTERM, [$this, 'signalHandler']);        pcntl_signal(SIGINT, [$this, 'signalHandler']);        pcntl_signal(SIGHUP, [$this, 'signalHandler']);    }    /**     * ‰ø°Âè∑Â§ÑÁêÜ     */    public function signalHandler(int $signal): void    {        $this-&gt;logger-&gt;info("Received signal {$signal}, shutting down gracefully...");        $this-&gt;shouldStop = true;    }    /**     * ÂºÄÂßãÊ∂àË¥π     */    public function startConsuming(string $queueName): void    {        $this-&gt;declareQueue($queueName);        $this-&gt;logger-&gt;info("Starting consumer for queue: {$queueName}");        $callback = function (AMQPMessage $message) {            // Ê£ÄÊü•ÊòØÂê¶ÈúÄË¶ÅÂÅúÊ≠¢            pcntl_signal_dispatch();            if ($this-&gt;shouldStop) {                $this-&gt;logger-&gt;info("Stopping consumer due to shutdown signal");                throw new \Exception("Consumer shutdown requested");            }            $this-&gt;onMessage($message);        };        $queueConfig = $this-&gt;config['queues'][$queueName];                $this-&gt;channel-&gt;basic_consume(            $queueConfig['name'],            '', // consumer tag            false, // no local            false, // no ack (we do manual ack)            false, // exclusive            false, // no wait            $callback        );        // ‰∏ªÂæ™ÁéØ        try {            while (count($this-&gt;channel-&gt;callbacks) &amp;&amp; !$this-&gt;shouldStop) {                $this-&gt;channel-&gt;wait(null, false, 1); // 1ÁßíË∂ÖÊó∂Ôºå‰æø‰∫éÊ£ÄÊü•ÂÅúÊ≠¢‰ø°Âè∑                pcntl_signal_dispatch();            }        } catch (\Exception $e) {            $this-&gt;logger-&gt;info("Consumer stopped: " . $e-&gt;getMessage());        }        $this-&gt;logger-&gt;info("Consumer stopped gracefully");    }    /**     * ÂÖ≥Èó≠ËøûÊé•     */    public function close(): void    {        try {            if ($this-&gt;channel &amp;&amp; $this-&gt;channel-&gt;is_open()) {                $this-&gt;channel-&gt;close();            }            if ($this-&gt;connection &amp;&amp; $this-&gt;connection-&gt;isConnected()) {                $this-&gt;connection-&gt;close();            }            if ($this-&gt;redis) {                $this-&gt;redis-&gt;close();            }            $this-&gt;logger-&gt;info("All connections closed");        } catch (\Exception $e) {            $this-&gt;logger-&gt;error("Error closing connections: " . $e-&gt;getMessage());        }    }    public function __destruct()    {        $this-&gt;close();    }}  ‰∏â„ÄÅ ÂÖ∑‰Ωì‰∏öÂä°Ê∂àË¥πËÄÖ (app/Consumers/OrderCreatedConsumer.php)&lt;?phpnamespace App\Consumers;use Psr\Log\LoggerInterface;class OrderCreatedConsumer extends BaseConsumer{    public function __construct(array $config, LoggerInterface $logger)    {        parent::__construct($config, $logger);    }    /**     * ‰∏öÂä°Ê∂àÊÅØÂ§ÑÁêÜ     */    protected function processMessage(array $data, array $headers): bool    {        try {            $messageId = $data['message_id'] ?? 'unknown';            $orderId = $data['order_id'] ?? null;            $orderData = $data['data'] ?? [];            if (!$orderId) {                throw new \Exception("Missing order_id in message");            }            $this-&gt;logger-&gt;info("Processing order creation", [                'order_id' =&gt; $orderId,                'message_id' =&gt; $messageId            ]);            // Ê®°Êãü‰∏öÂä°Â§ÑÁêÜÔºöÂàõÂª∫ËÆ¢Âçï„ÄÅÊâ£Â∫ìÂ≠ò„ÄÅÂèëÈÄöÁü•Á≠â            // ËøôÈáåÂ∫îËØ•ÊòØ‰Ω†ÁöÑÂÆûÈôÖ‰∏öÂä°ÈÄªËæë            $result = $this-&gt;createOrder($orderId, $orderData);                        if (!$result) {                throw new \Exception("Order creation failed for order_id: {$orderId}");            }            // Ê®°ÊãüÊï∞ÊçÆÂ∫ì‰∫ãÂä°Êèê‰∫§            $this-&gt;commitTransaction();            return true;        } catch (\Exception $e) {            $this-&gt;rollbackTransaction();            throw $e;        }    }    /**     * ÂàõÂª∫ËÆ¢Âçï‰∏öÂä°ÈÄªËæë     */    private function createOrder(string $orderId, array $orderData): bool    {        // ËøôÈáåÂÆûÁé∞‰Ω†ÁöÑËÆ¢ÂçïÂàõÂª∫ÈÄªËæë        // ‰æãÂ¶ÇÔºöÂÜôÂÖ•Êï∞ÊçÆÂ∫ì„ÄÅË∞ÉÁî®Â∫ìÂ≠òÊúçÂä°„ÄÅÂèëÈÄÅÈÄöÁü•Á≠â                // Ê®°ÊãüÂ§ÑÁêÜÊó∂Èó¥        usleep(rand(100000, 500000)); // 0.1-0.5Áßí                // Ê®°ÊãüÂÅ∂Â∞îÁöÑÂ§±Ë¥•ÔºàÁî®‰∫éÊµãËØïÈáçËØïÊú∫Âà∂Ôºâ        if (rand(1, 100) &lt;= 5) { // 5% Â§±Ë¥•Áéá            return false;        }                $this-&gt;logger-&gt;info("Order created successfully", ['order_id' =&gt; $orderId]);        return true;    }    /**     * Êèê‰∫§‰∫ãÂä°     */    private function commitTransaction(): void    {        // ÂÆûÁé∞‰Ω†ÁöÑ‰∫ãÂä°Êèê‰∫§ÈÄªËæë        // ‰æãÂ¶ÇÔºöDB::commit() ÊàñÂÖ∂‰ªñÊúçÂä°ÁöÑÁ°ÆËÆ§    }    /**     * ÂõûÊªö‰∫ãÂä°     */    private function rollbackTransaction(): void    {        // ÂÆûÁé∞‰Ω†ÁöÑ‰∫ãÂä°ÂõûÊªöÈÄªËæë        // ‰æãÂ¶ÇÔºöDB::rollBack() ÊàñÂÖ∂‰ªñÊúçÂä°ÁöÑÂèñÊ∂à    }}  Âõõ„ÄÅ Ê∂àË¥πËÄÖÂêØÂä®ËÑöÊú¨ (bin/consumer.php)#!/usr/bin/env php&lt;?phprequire_once __DIR__ . '/../vendor/autoload.php';use App\Consumers\OrderCreatedConsumer;use Monolog\Logger;use Monolog\Handler\RotatingFileHandler;use Monolog\Formatter\LineFormatter;// Âä†ËΩΩÈÖçÁΩÆ$config = require_once __DIR__ . '/../config/rabbitmq.php';// ÂàùÂßãÂåñÊó•Âøó$logger = new Logger('rabbitmq_consumer');// Êñá‰ª∂Â§ÑÁêÜÂô®ÔºàÊåâÂ§©ËΩÆËΩ¨Ôºå‰øùÁïô30Â§©Ôºâ$fileHandler = new RotatingFileHandler(    __DIR__ . '/../logs/consumer.log',    30, // ‰øùÁïôÂ§©Êï∞    Logger::INFO);$formatter = new LineFormatter(    "[%datetime%] %channel%.%level_name%: %message% %context% %extra%\n",    "Y-m-d H:i:s.u");$fileHandler-&gt;setFormatter($formatter);$logger-&gt;pushHandler($fileHandler);try {    // ÂàõÂª∫Ê∂àË¥πËÄÖÂÆû‰æã    $consumer = new OrderCreatedConsumer($config, $logger);        // ÂàùÂßãÂåñËøûÊé•    $consumer-&gt;initialize();        // ÂºÄÂßãÊ∂àË¥πÔºà‰ºòÈõÖÂÖ≥Èó≠ÊîØÊåÅÔºâ    $consumer-&gt;startConsuming('order.created');    } catch (\Exception $e) {    $logger-&gt;critical("Consumer failed to start: " . $e-&gt;getMessage(), [        'exception' =&gt; $e-&gt;getTraceAsString()    ]);    exit(1);}  ‰∫î„ÄÅ Supervisor ÈÖçÁΩÆ (supervisor/consumer.conf)[program:rabbitmq-order-consumer]process_name=%(program_name)s_%(process_num)02dcommand=/usr/bin/php /path/to/your/project/bin/consumer.phpdirectory=/path/to/your/projectnumprocs=2autostart=trueautorestart=truestartretries=3user=www-dataredirect_stderr=truestdout_logfile=/path/to/your/project/logs/supervisor.logstopwaitsecs=30killasgroup=truepriority=999; ÁéØÂ¢ÉÂèòÈáèenvironment=APP_ENV="production",APP_DEBUG="false"; ÂÅúÊ≠¢‰ø°Âè∑Ôºà‰ºòÈõÖÂÖ≥Èó≠Ôºâstopsignal=TERMstopasgroup=trueüöÄ ‰ΩøÁî®ÊñπÂºè  ‰∏Ä„ÄÅ ÂÆâË£Ö‰æùËµñÔºöcomposer require php-amqplib/php-amqplib monolog/monolog predis/predis  ‰∫å„ÄÅ ÈÖçÁΩÆ SupervisorÔºösudo cp supervisor/consumer.conf /etc/supervisor/conf.d/sudo supervisorctl rereadsudo supervisorctl updatesudo supervisorctl start rabbitmq-order-consumer:*  ‰∏â„ÄÅ ÁõëÊéßÊó•ÂøóÔºötail -f logs/consumer.log]]></content>
      <categories>
        
          <category> Èù¢ËØï </category>
        
      </categories>
      <tags>
        
          <tag> rabbitmq </tag>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[XHProfÊÄßËÉΩÂàÜÊûêÂ∑•ÂÖ∑„ÄÇ]]></title>
      <url>/php/2025/12/03/xhprof/</url>
      <content type="text"><![CDATA[XHProf ÊúÄÂàùÁî± Facebook ÂºÄÊ∫êÔºåÊõæÊòØ PHP ÊÄßËÉΩÂàÜÊûêÁöÑÊ†áÊùÜÂ∑•ÂÖ∑ÔºõÂ¶Ç‰ªäÂú®Á§æÂå∫ÁöÑÊåÅÁª≠Áª¥Êä§‰∏ãÔºåÂ∑≤ÂÆûÁé∞ÂØπ PHP 8.4 ÁöÑÂÆåÊï¥ÊîØÊåÅÔºåÂá≠ÂÄüÂÖ∂‰ΩéÂºÄÈîÄÈááÊ†∑„ÄÅÂ§öÁª¥Â∫¶ÊåáÊ†áÈááÈõÜÔºàÊó∂Èó¥„ÄÅÂÜÖÂ≠ò„ÄÅË∞ÉÁî®Ê†àÔºâÂíåÂèØËßÜÂåñË∞ÉÁî®ÂõæËÉΩÂäõÔºå‰æùÁÑ∂ÊòØ PHP ÂºÄÂèëËÄÖÂú®ÂºÄÂèëË∞ÉËØï‰∏éÁîü‰∫ßËØäÊñ≠‰∏≠ËøõË°åÊÄßËÉΩÁì∂È¢àÂÆö‰ΩçÁöÑÈ´òÊïàÂà©Âô®„ÄÇXHProf2.3.10Êä•ÂëäË°®Â§¥            Ëã±ÊñáË°®Â§¥      ‰∏≠ÊñáËß£Èáä      ËØ¶ÁªÜËØ¥Êòé‰∏éÈáçË¶ÅÊÄß                  Function Name      ÂáΩÊï∞ÂêçÁß∞      Ë¢´Ë∞ÉÁî®ÁöÑÂáΩÊï∞ÊàñÊñπÊ≥ïÁöÑÂÆåÊï¥ÂêçÁß∞„ÄÇ‰æãÂ¶Ç main(), mysql_query, UserController::index()„ÄÇËøôÊòØËØÜÂà´‰ª£Á†Å‰ΩçÁΩÆÁöÑÂÖ≥ÈîÆ„ÄÇ              Calls      Ë∞ÉÁî®Ê¨°Êï∞      ËØ•ÂáΩÊï∞Âú®Ê≠§Ê¨°ËØ∑Ê±Ç‰∏≠Ë¢´Ë∞ÉÁî®ÁöÑÊÄªÊ¨°Êï∞„ÄÇÈáçË¶ÅÊÄßÔºöÂ¶ÇÊûú‰∏Ä‰∏™ÂáΩÊï∞Ë¢´Ë∞ÉÁî®‰∫ÜÊàêÂçÉ‰∏ä‰∏áÊ¨°Ôºà‰æãÂ¶ÇÂæ™ÁéØÂÜÖÔºâÔºåÂç≥‰ΩøÂçïÊ¨°ÂæàÂø´ÔºåÁ¥ØÁßØËµ∑Êù•‰πüÂèØËÉΩÊàê‰∏∫ÊÄßËÉΩÁì∂È¢à„ÄÇ              Calls%      Ë∞ÉÁî®Ê¨°Êï∞Âç†ÊØî      ËØ•ÂáΩÊï∞ÁöÑË∞ÉÁî®Ê¨°Êï∞Âç†ÊÄªË∞ÉÁî®Ê¨°Êï∞ÁöÑÁôæÂàÜÊØî„ÄÇÁî®ÈÄîÔºöÂ∏ÆÂä©ËØÜÂà´Âì™‰∫õÂáΩÊï∞ÊòØÁ®ãÂ∫èÁöÑ‰∏ªË¶ÅÊâßË°åË∑ØÂæÑ„ÄÇ              Incl. Wall Time (microsec)      ÊÄªËÄóÊó∂ (ÂæÆÁßí) (Êàñ: ÂåÖÂê´ÂÆûÈôÖÊó∂Èó¥)      Ê†∏ÂøÉÊåáÊ†á„ÄÇÊåáÂáΩÊï∞‰ªéÂºÄÂßãÂà∞ÁªìÊùüÁöÑÊÄªËÄóÊó∂ÔºåÂåÖÊã¨ÂÖ∂ÂÜÖÈÉ®Ë∞ÉÁî®ÁöÑÊâÄÊúâÂ≠êÂáΩÊï∞ÁöÑÊó∂Èó¥„ÄÇÂçï‰ΩçÔºöÂæÆÁßí (1Áßí = 1,000,000 ÂæÆÁßí)„ÄÇÈáçË¶ÅÊÄßÔºöÁî®‰∫éÂÆö‰ΩçÂì™‰∏™Â§ßÁöÑÂäüËÉΩÊ®°ÂùóÊúÄËÄóÊó∂„ÄÇ              IWall%      ÊÄªËÄóÊó∂Âç†ÊØî (Êàñ: ÂåÖÂê´ÂÆûÈôÖÊó∂Èó¥Âç†ÊØî)      ËØ•ÂáΩÊï∞ÁöÑÂåÖÂê´Êó∂Èó¥Âç†ÊÄªÂåÖÂê´Êó∂Èó¥ÁöÑÁôæÂàÜÊØî„ÄÇÈáçË¶ÅÊÄßÔºöÁõ¥ËßÇÂú∞ÁúãÂá∫ÊØè‰∏™ÂáΩÊï∞ÂØπÊÄªÂìçÂ∫îÊó∂Èó¥ÁöÑ‚ÄúË¥°ÁåÆ‚ÄùÊØî‰æã„ÄÇmain() ÂáΩÊï∞Ê∞∏ËøúÊòØ 100%„ÄÇ              Excl. Wall Time (microsec)      Ëá™Ë∫´ËÄóÊó∂ (ÂæÆÁßí) (Êàñ: Áã¨Âç†ÂÆûÈôÖÊó∂Èó¥)      Âè¶‰∏Ä‰∏™Ê†∏ÂøÉÊåáÊ†á„ÄÇÊåáÂáΩÊï∞Ëá™Ë∫´ÁöÑÊâßË°åÊó∂Èó¥Ôºå‰∏çÂåÖÊã¨ÂÖ∂ÂÜÖÈÉ®Ë∞ÉÁî®ÁöÑ‰ªª‰ΩïÂ≠êÂáΩÊï∞ÁöÑÊó∂Èó¥„ÄÇÈáçË¶ÅÊÄßÔºöËøôÊòØ‰ºòÂåñÁöÑÂÖ≥ÈîÆÔºÅÂ¶ÇÊûúËøô‰∏™ÂÄºÂæàÈ´òÔºåËØ¥ÊòéÂáΩÊï∞Ëá™Ë∫´ÁöÑÈÄªËæëÔºàÁÆóÊ≥ï„ÄÅÂæ™ÁéØ„ÄÅËÆ°ÁÆóÔºâÈúÄË¶Å‰ºòÂåñ„ÄÇ              EWall%      Ëá™Ë∫´ËÄóÊó∂Âç†ÊØî (Êàñ: Áã¨Âç†ÂÆûÈôÖÊó∂Èó¥Âç†ÊØî)      ËØ•ÂáΩÊï∞ÁöÑÁã¨Âç†Êó∂Èó¥Âç†ÊÄªÊó∂Èó¥ÁöÑÁôæÂàÜÊØî„ÄÇÁî®ÈÄîÔºöËæÖÂä©Âà§Êñ≠ÂáΩÊï∞Ëá™Ë∫´ÈÄªËæëÁöÑËÄóÊó∂Âç†ÊØî„ÄÇ‰ΩÜÈÄöÂ∏∏Êàë‰ª¨Êõ¥ÂÖ≥Ê≥®ÁªùÂØπÂÄº„ÄÇ              Incl. CPU (microsecs)      ÊÄªCPUÊó∂Èó¥ (ÂæÆÁßí)      Á±ª‰ºº‰∫é ÊÄªËÄóÊó∂Ôºå‰ΩÜÊòØÁªüËÆ°ÁöÑÊòØCPUÂÆûÈôÖÂ∑•‰ΩúÁöÑÊó∂Èó¥ÔºåÊéíÈô§‰∫ÜÁ≠âÂæÖÊó∂Èó¥ÔºàÂ¶ÇI/O„ÄÅÁΩëÁªú„ÄÅsleepÔºâ„ÄÇÈáçË¶ÅÊÄßÔºöÂ¶ÇÊûú ÊÄªËÄóÊó∂ ÂæàÈ´ò‰ΩÜ ÊÄªCPUÊó∂Èó¥ Âæà‰ΩéÔºåËØ¥ÊòéÁì∂È¢àÂèØËÉΩÂú®I/OÊàñÂ§ñÈÉ®ÊúçÂä°ÔºàÊï∞ÊçÆÂ∫ì„ÄÅAPIË∞ÉÁî®Ôºâ„ÄÇ              Excl. CPU (microsecs)      Ëá™Ë∫´CPUÊó∂Èó¥ (ÂæÆÁßí)      Á±ª‰ºº‰∫é Ëá™Ë∫´ËÄóÊó∂ÔºåÊòØÂáΩÊï∞Ëá™Ë∫´Ê∂àËÄóÁöÑÁ∫ØCPUÊó∂Èó¥„ÄÇ              Incl. MemUse (bytes)      ÂåÖÂê´ÂÜÖÂ≠òÂç†Áî® (Â≠óËäÇ)      ÂáΩÊï∞ÊâßË°åËøáÁ®ã‰∏≠ÂàÜÈÖçÁöÑÂÜÖÂ≠òÊÄªÈáèÔºåÂåÖÊã¨ÂÖ∂Â≠êÂáΩÊï∞ÂàÜÈÖçÁöÑÂÜÖÂ≠ò„ÄÇ              Excl. MemUse (bytes)      Áã¨Âç†ÂÜÖÂ≠òÂç†Áî® (Â≠óËäÇ)      ÂáΩÊï∞Ëá™Ë∫´Áõ¥Êé•ÂàÜÈÖçÁöÑÂÜÖÂ≠òÈáèÔºå‰∏çÂåÖÊã¨Â≠êÂáΩÊï∞„ÄÇÈáçË¶ÅÊÄßÔºöÁî®‰∫éÂèëÁé∞ÂÜÖÂ≠òÊ≥ÑÊºèÊàñÂ§ßÂØπË±°ÂàÜÈÖçÁöÑÁÉ≠ÁÇπ„ÄÇ              Incl. PeakMemUse (bytes)      ÂåÖÂê´Â≥∞ÂÄºÂÜÖÂ≠ò (Â≠óËäÇ)      Âú®ÂáΩÊï∞ÊâßË°åÊúüÈó¥ÔºåÊï¥‰∏™ËøõÁ®ãËææÂà∞ÁöÑÂÜÖÂ≠ò‰ΩøÁî®Â≥∞ÂÄºÔºåÂåÖÊã¨Â≠êÂáΩÊï∞ÁöÑÂΩ±Âìç„ÄÇ              Excl. PeakMemUse (bytes)      Áã¨Âç†Â≥∞ÂÄºÂÜÖÂ≠ò (Â≠óËäÇ)      Âú®ÂáΩÊï∞Ëá™Ë∫´ÊâßË°åÊ†àÂ∏ßÂÜÖËææÂà∞ÁöÑÂÜÖÂ≠òÂ≥∞ÂÄº„ÄÇ      xhprofÊâ©Â±ïÂú∞ÂùÄhttps://pecl.php.net/package/xhprofxhprof‰ª£Á†ÅÂú∞ÂùÄhttps://github.com/longxinH/xhprofxhprof‰ΩøÁî®‰æãÂ≠ê‰ª£Á†Å&lt;?phpxhprof_enable(XHPROF_FLAGS_CPU + XHPROF_FLAGS_MEMORY);for ($i = 0; $i &lt;= 1000; $i++) {    $a = $i * $i;}$xhprof_data = xhprof_disable();$XHPROF_ROOT = "/tools/xhprof/";include_once $XHPROF_ROOT . "/xhprof_lib/utils/xhprof_lib.php";include_once $XHPROF_ROOT . "/xhprof_lib/utils/xhprof_runs.php";$xhprof_runs = new XHProfRuns_Default();$run_id = $xhprof_runs-&gt;save_run($xhprof_data, "xhprof_testing");echo "http://localhost/xhprof/xhprof_html/index.php?run={$run_id}&amp;source=xhprof_testing\n";?&gt;ËæìÂá∫Êä•ÂëäÈìæÊé•http://localhost/xhprof/xhprof_html/index.php?run=t11_4bdf44d21121f&amp;source=xhprof_testingÊä•ÂëäË°®‰æãÂ≠ê]]></content>
      <categories>
        
          <category> php </category>
        
      </categories>
      <tags>
        
          <tag> xhprof </tag>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[docker ÂÆπÂô®ÂåñÊûÑÂª∫php-laravelÂºÄÂèëÁéØÂ¢É]]></title>
      <url>/php/2025/11/30/php-larvel/</url>
      <content type="text"><![CDATA[ÊûÑÂª∫php-laravel:8.4.15.1-fpm-xdebugÈïúÂÉè‰ΩøÁî®php8.4.15-fpmÈïúÂÉè‰Ωú‰∏∫Âü∫Á°ÄÈïúÂÉèÊûÑÂª∫8.4.15.1-fpm-xdebugÈïúÂÉè„ÄÇlaravellaravelÁâàÊú¨ÊòØ12root@bcb209344039:/app/app# php artisan -VLaravel Framework 12.39.0php‰ΩøÁî®root@bcb209344039:/app/app# php --versionPHP 8.4.15 (cli) (built: Nov 20 2025 19:53:54) (NTS)Copyright (c) The PHP GroupBuilt by https://github.com/docker-library/phpZend Engine v4.4.15, Copyright (c) Zend Technologies    with Zend OPcache v8.4.15, Copyright (c), by Zend Technologies    with Xdebug v3.4.7, Copyright (c) 2002-2025, by Derick Rethansdocker-composeservices:  laravel-svc:    container_name: laravel-ctr    build: ./build/    command: sh -c "cd /app/app &amp;&amp; npm install &amp;&amp; npm run build &amp;&amp;            composer run dev"    image: php-laravel:8.4.15.1-fpm-xdebug    restart: always    ports:      - 8000:8000    volumes:      - ./app/app:/app/app      - ./build/etc/docker-php-ext-xdebug.ini:/usr/local/etc/php/conf.d/docker-php-ext-xdebug.ini     networks:      - laravel_network    environment:      PWD: /app/app      PHP_PORT: 8000      DB_CONNECTION: mysql      DB_HOST: laravel-db-svc      DB_PORT: 3306      DB_DATABASE: laravel_db      DB_USERNAME: zhaoqhu      DB_PASSWORD: larH2025,.    # command: ["php", "-S", "0.0.0.0:8000", "-t", "/var/www/html"]  laravel-db-svc:    container_name: laravel-db-ctr    image: mysql:8.0    restart: always    environment:      MYSQL_ROOT_PASSWORD: larH20025,.      MYSQL_DATABASE: laravel_db      MYSQL_USER: zhaoqhu      MYSQL_PASSWORD: larH2025,.    ports:      - 3206:3306    volumes:      - ./db:/var/lib/mysql    networks:      - laravel_networkvolumes:  html:  db:networks:  laravel_network:    driver: bridgeËøêË°åÊïàÊûú]]></content>
      <categories>
        
          <category> php </category>
        
      </categories>
      <tags>
        
          <tag> laravel </tag>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[Bj]]></title>
      <url>/2025/11/05/bj/</url>
      <content type="text"><![CDATA[‰∏úÂüéË•øÂüéÊúùÈò≥‰∏∞Âè∞Êµ∑Ê∑Ähttps://www.zhipin.com/web/geek/jobs?city=101010100&amp;multiBusinessDistrict=110101,110102,110105,110106,110108&amp;query=phphttps://www.zhipin.com/web/geek/jobs?city=101010100&amp;multiBusinessDistrict=110101,110102,110105,110106,110108&amp;query=php%20golangcurl -X POST "https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions" \-H "Authorization: Bearer sk-4a93b67d823047df8121c9093e2fb1d0" \-H "Content-Type: application/json" \--no-buffer \-d '{    "model": "qwen-plus",    "messages": [{"role": "user", "content": "‰Ω†ÊòØË∞ÅÔºü"}],    "stream": true,    "stream_options": {"include_usage": true}}'curl -X POST "https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions" \-H "Authorization: Bearer sk-4a93b67d823047df8121c9093e2fb1d0" \-H "Content-Type: application/json" \--no-buffer \-d '{    "model": "qwen-plus",    "messages": [{"role": "user", "content": "‰Ω†ÊòØË∞ÅÔºü"}]}'curl -X POST "https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions" \-H "Authorization: Bearer sk-4a93b67d823047df8121c9093e2fb1d0" \-H "Content-Type: application/json" \--no-buffer \-d '{    "model": "qwen-plus",    "messages": [{"role": "user", "content": "phpÂú®Ë∞ÉÁî®ÈòøÈáå‰∫ëÂ§ßÊ®°ÂûãÈòøÈáåÁôæÁÇºÊÄé‰πàÂÅöÂà∞ÊµÅÂºèËæìÂá∫„ÄÇ"}],    "stream": true,    "stream_options": {"include_usage": true}}'curl -X POST "https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions" \-H "Authorization: Bearer sk-4a93b67d823047df8121c9093e2fb1d0" \-H "Content-Type: application/json" \--no-buffer \-d '{    "model": "qwen-plus",    "messages": [{"role": "user", "content": "phpÂú®Ë∞ÉÁî®ÈòøÈáå‰∫ëÂ§ßÊ®°ÂûãÈòøÈáåÁôæÁÇºÊÄé‰πàÂÅöÂà∞ÊµÅÂºèËæìÂá∫„ÄÇ"}]}']]></content>
      <categories>
        
      </categories>
      <tags>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[Hugging face Â≠¶‰π†ËÆ∞ÂΩï]]></title>
      <url>/2025/10/21/huggingface/</url>
      <content type="text"><![CDATA[Hugging face  hugging faceÂÖ•Èó®ÊïôÁ®ãÔºåÂèØ‰ª•Âú®macbook pro 15Ê¨æ‰∏äÂ≠¶‰π†ÂíåÁªÉ‰π†huggging faceÂêóÔºü  macbook pro 15Ê¨æ8+256GÁöÑÊúâdockerÁéØÂ¢ÉÔºåÁ¨¨‰∏ÄÈÉ®ÂàÜHuggingfaceÁöÑPythonÁéØÂ¢ÉÂèØ‰ª•Áî®dockerÁöÑpythonÁéØÂ¢ÉÂêóÔºüÁéØÂ¢ÉÂáÜÂ§áÂÆâË£ÖPython 3.9PipÂÆâË£ÖPyTorchPipÂÆâË£ÖHugging FaceÊ†∏ÂøÉÂ∫ìtransformerÂíådatasets]]></content>
      <categories>
        
      </categories>
      <tags>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[mysqlÈù¢ËØïÊ±áÊÄª]]></title>
      <url>/%E9%9D%A2%E8%AF%95/2025/10/11/mysql-ms/</url>
      <content type="text"><![CDATA[MySQLMysqlÁ¥¢ÂºïÁî®ÁöÑÊòØ‰ªÄ‰πàÁÆóÊ≥ïMysqlÈÄâÁî®ÁöÑÊòØB+Ê†ëÔºåB+Ê†ë‰∏ªË¶ÅÊòØÊü•ËØ¢ÊïàÁéáÈ´òÔºåÊó∂Èó¥Â§çÊùÇÂ∫¶ÊòØO(logmN)ÔºåÂÜÖÈÉ®ËäÇÁÇπÂèØ‰ª•Êã•ÊúâÂ§ö‰∏™Â≠êËäÇÁÇπÔºåÈÄöÂ∏∏Â§ß‰∫é2ÔºåËøô‰ΩøÂæóB+Ê†ëÊØî‰∫åÂèâÊ†ëÊõ¥ÂÆΩÔºåÊõ¥ÁüÆÊó∂Èó¥Â§çÊùÇÂ∫¶ÊòØO(log2N)ÊúâÂä©‰∫éÂáèÂ∞ëÊ†ëÁöÑÈ´òÂ∫¶ÔºåËøõËÄåÂáèÂ∞ëÁ£ÅÁõòI/OÊìç‰Ωú„ÄÇÊÄªÁªìÔºöMysql‰∏≠ÂàõÂª∫Á¥¢ÂºïÁöÑÁõÆÁöÑÊòØ‰∏∫‰∫ÜÊõ¥Âø´ÁöÑÊü•ËØ¢ÔºåÁ¥¢ÂºïÈÄâÁî®B+Ê†ëÁöÑÊï∞ÊçÆÁªìÊûÑÔºåËøôÁßçÁªìÊûÑÁöÑÊü•ÊâæÁÆóÊ≥ïÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶ÊòØO(logmN)ÔºåÊü•ÊâæÁöÑÊïàÁéáÂø´ÔºåÁ£ÅÁõòI/OÊìç‰ΩúÂ∞ë„ÄÇMySQL‰∫ãÂä°ÁöÑÂÖ≥ÈîÆÁâπÊÄß  ÂéüÂ≠êÊÄß‰∫ãÂä°ÊòØÊìç‰ΩúÁöÑÊúÄÂ∞èÂçïÂÖÉÔºåË¶Å‰πàÂÖ®ÊàêÂäüÔºåË¶Å‰πàÂÖ®ÂõûÊªö„ÄÇÂéüÂ≠êÊÄßÊòØÊåáÂºÄÂêØ‰∫ãÂä°ÂêéÊï∞ÊçÆÂ∫ìÁöÑ‰øÆÊîπÊìç‰ΩúË¶Å‰πàÈÉΩÊàêÂäüÔºåË¶Å‰πàÈÉΩÂ§±Ë¥•ÔºåÂõûÊªöÂà∞‰∫ãÂä°‰πãÂâçÁöÑÁä∂ÊÄÅ„ÄÇ  ‰∏ÄËá¥ÊÄß‰∫ãÂä°ÊâßË°åÂâçÂêéÔºåÊï∞ÊçÆÂ∫ì‰ªé‰∏Ä‰∏™ÂêàÊ≥ïÁä∂ÊÄÅÂèò‰∏∫Âè¶‰∏Ä‰∏™ÂêàÊ≥ïÁä∂ÊÄÅÔºàÂ¶ÇËΩ¨Ë¥¶ÊÄªÈáëÈ¢ù‰∏çÂèòÔºâ„ÄÇ‰∏ÄËá¥ÊÄßÊòØÊåáÈÅµÂÆàËµÑÈáëÂÆàÊÅíÂéüÂàôÔºå‰æãÂ¶ÇÈì∂Ë°åËΩ¨Ë¥¶Êìç‰ΩúAË¥¶Êà∑ËΩ¨Âá∫‰∏ÄÂÆöÁöÑÈáëÈ¢ùÁªôBË¥¶Êà∑Ôºå‰∏∫‰∫ÜÂæóÂà∞‰∏ÄËá¥ÊÄßËøô‰∏™‰∫ãÂä°ÈúÄË¶ÅÁ°Æ‰øùÈáëÈ¢ù‰ªéAÂáèÂ∞ëÂπ∂Âú®Â¢ûÂä†„ÄÇ  ÈöîÁ¶ªÊÄßÂ§ö‰∫ãÂä°Âπ∂ÂèëÊó∂‰∫í‰∏çÂπ≤Êâ∞ÔºåÈªòËÆ§ÈöîÁ¶ªÁ∫ßÂà´REPEATABLE READÈÄöËøáMVCCÂíåÈó¥ÈöôÈîÅÈÅøÂÖçËÑèËØª„ÄÅ‰∏çÂèØÈáçÂ§çËØª„ÄÅÈÉ®ÂàÜÂπªËØªÈöîÁ¶ªÊÄßÔºåÂú®Âπ∂Âèë‰∫ãÂä°T1ÂíåT2ÈÉΩÈúÄË¶ÅÊõ¥Êñ∞Âêå‰∏Ä‰∏™Ë¥¶Êà∑ÁöÑ‰ΩôÈ¢ùÔºåËã•Ê≤°ÊúâÈöîÁ¶ªÊé™ÊñΩÔºåT1ÂíåT2ÂèØËÉΩ‰ºö‰ΩøÁî®ÂêåÊ†∑ÁöÑÈáëÈ¢ùËøõË°åËÆ°ÁÆóÔºå‰ªéËÄåÂØºËá¥ÁªìÊûúÈîôËØØ„ÄÇ  ÊåÅ‰πÖÊÄßmysql‰∫ãÂä°Êèê‰∫§ÂêéÊ∞∏‰πÖ‰øùÂ≠òÔºåÂÆïÊú∫‰∏ç‰∏¢Â§±„ÄÇMysql‰∏≠ÈîÅ            ÈîÅÁ±ªÂûã      Ëß¶ÂèëÊñπÂºè      ‰ΩúÁî®ËåÉÂõ¥      ÂÖºÂÆπÊÄß      ‰ΩøÁî®Âú∫ÊôØ                  ËÆ∞ÂΩïÈîÅÔºàRecord LockÔºâ      ÈöêÂºèÔºöUPDATE„ÄÅDELETE Ëá™Âä®Âä†ÈîÅÊòæÂºèÔºöSELECT ... FOR UPDATE Á≤æÁ°ÆÂåπÈÖçÂîØ‰∏ÄÁ¥¢Âºï      Á¥¢Âºï‰∏≠ÁöÑÊüê‰∏ÄË°åËÆ∞ÂΩï      ‰∏é X ÈîÅ‰∫íÊñ•Ôºå‰∏é S ÈîÅ‰∫íÊñ•      Á≤æÁ°Æ‰øÆÊîπ/Âà†Èô§ÂçïË°åÊï∞ÊçÆÔºåÂ¶ÇÂ∫ìÂ≠òÊâ£Âáè„ÄÅË¥¶Êà∑‰ΩôÈ¢ùÊõ¥Êñ∞              Èó¥ÈöôÈîÅÔºàGap LockÔºâ      ÈöêÂºèÔºöUPDATE„ÄÅDELETE„ÄÅSELECT ... FOR UPDATE/FOR SHARE Âú® REPEATABLE READ ‰∏ãÊâßË°åËåÉÂõ¥Êü•ËØ¢ÔºàÈùûÂîØ‰∏ÄÁ¥¢ÂºïÊàñËåÉÂõ¥Êù°‰ª∂Ôºâ      Á¥¢ÂºïËÆ∞ÂΩï‰πãÈó¥ÁöÑÈó¥ÈöôÔºà‰∏çÂê´ËÆ∞ÂΩïÊú¨Ë∫´Ôºâ      ÈòªÊ≠¢ÂÖ∂‰ªñ‰∫ãÂä°Âú®Èó¥ÈöôÊèíÂÖ•Êñ∞Ë°åÔºõS/X ÈîÅÂùá‰∫íÊñ•ÊèíÂÖ•      Èò≤Ê≠¢ÂπªËØªÔºàÂÜôÊó∂ÔºâÔºåÂ¶ÇÈîÅÂÆöÊüê‰ª∑Ê†ºÂå∫Èó¥‰∏çÂÖÅËÆ∏Êñ∞Â¢ûÂïÜÂìÅ              ‰∏¥ÈîÆÈîÅÔºàNext-Key LockÔºâ      ÈöêÂºèÔºöInnoDB Âú® REPEATABLE READ ‰∏ãÈªòËÆ§ÂØπËåÉÂõ¥Êü•ËØ¢Âä†ÈîÅÔºàËÆ∞ÂΩïÈîÅ+Èó¥ÈöôÈîÅÔºâ      Â∑¶ÂºÄÂè≥Èó≠Âå∫Èó¥ÔºåÂ¶Ç (10, 20]      ÈòªÊ≠¢ÊèíÂÖ•„ÄÅ‰øÆÊîπ„ÄÅÂà†Èô§Âå∫Èó¥ÂÜÖÊï∞ÊçÆ      RR Á∫ßÂà´ÈªòËÆ§Èò≤ÂπªËØªÊú∫Âà∂ÔºåÊó†ÈúÄÊâãÂä®ÊéßÂà∂              ÂÖ±‰∫´ÈîÅÔºàS ÈîÅÔºâ      ÊòæÂºèÔºöSELECT ... FOR SHAREÔºàMySQL 8.0+ÔºâÊòæÂºèÔºöSELECT ... LOCK IN SHARE MODEÔºàÊóßËØ≠Ê≥ïÔºâ      Âä†Âú®Á¥¢ÂºïËÆ∞ÂΩï‰∏ä      Â§ö‰∏™ S ÈîÅÁõ∏ÂÆπÔºå‰∏é X ÈîÅ‰∫íÊñ•      ËØªÂ§öÂÜôÂ∞ëÂú∫ÊôØÔºåÂÖÅËÆ∏Â§ö‰∫ãÂä°ÂêåÊó∂ËØª‰ΩÜÈòªÊ≠¢‰øÆÊîπÔºåÂ¶ÇËØªÂèñÈÖçÁΩÆË°®„ÄÅÂü∫Á°ÄÂ≠óÂÖ∏Êï∞ÊçÆ              Êéí‰ªñÈîÅÔºàX ÈîÅÔºâ      ÊòæÂºèÔºöSELECT ... FOR UPDATEÈöêÂºèÔºöUPDATE„ÄÅDELETE„ÄÅINSERT Ëá™Âä®Âä†ÈîÅ      Âä†Âú®Á¥¢ÂºïËÆ∞ÂΩï‰∏ä      ‰∏é‰ªª‰Ωï S/X ÈîÅ‰∫íÊñ•      ÂÜôÂÜ≤Á™Å‰∏•ÈáçÂú∫ÊôØÔºåÈúÄÁã¨Âç†Êï∞ÊçÆÔºåÂ¶ÇËÆ¢ÂçïÁä∂ÊÄÅÂèòÊõ¥„ÄÅÂ∫ìÂ≠òÊâ£Âáè„ÄÅËµÑÈáëËΩ¨Ë¥¶              ÊÑèÂêëÂÖ±‰∫´ÈîÅÔºàIS ÈîÅÔºâ      ÈöêÂºèÔºöInnoDB Ëá™Âä®Âú®Âä†Ë°åÁ∫ß S ÈîÅÂâç‰∫éË°®Á∫ßÂä† IS ÈîÅ      Ë°®Á∫ß      ‰∏é IX ÈîÅÁõ∏ÂÆπÔºå‰∏éË°®Á∫ß X ÈîÅ‰∫íÊñ•      ÂÜÖÈÉ®Êú∫Âà∂ÔºåÊèêÈ´òË°®ÈîÅ‰∏éË°åÈîÅÂÖºÂÆπÊÄßÊ£ÄÊü•ÊïàÁéáÔºåDBA ‰∏ÄËà¨‰∏çÁõ¥Êé•‰ΩøÁî®              ÊÑèÂêëÊéí‰ªñÈîÅÔºàIX ÈîÅÔºâ      ÈöêÂºèÔºöInnoDB Ëá™Âä®Âú®Âä†Ë°åÁ∫ß X ÈîÅÂâç‰∫éË°®Á∫ßÂä† IX ÈîÅ      Ë°®Á∫ß      ‰∏é IS ÈîÅÁõ∏ÂÆπÔºå‰∏éË°®Á∫ß X ÈîÅ‰∫íÊñ•      ÂÜÖÈÉ®Êú∫Âà∂ÔºåÂêå‰∏ä              Ëá™Â¢ûÈîÅÔºàAUTO-INC LockÔºâ      ÈöêÂºèÔºöÊèíÂÖ•Âê´ AUTO_INCREMENT ÂàóÊó∂Ëá™Âä®Âä†      Ë°®Á∫ßÔºàËØ≠Âè•Á∫ßÊàñ‰∫ãÂä°Á∫ßÔºåÂèñÂÜ≥‰∫é innodb_autoinc_lock_modeÔºâ      ÈòªÂ°ûÂÖ∂‰ªñ‰ºöËØùÁöÑËá™Â¢û ID ÂàÜÈÖç      ‰øùËØÅËá™Â¢û‰∏ªÈîÆÂîØ‰∏ÄÊÄßÔºåÊâπÈáèÊèíÂÖ•Êó∂ÂèØË∞ÉÊ®°ÂºèÂπ≥Ë°°ËøûÁª≠ÊÄß‰∏éÂπ∂ÂèëÊÄßËÉΩ              ÂÖÉÊï∞ÊçÆÈîÅÔºàMDL ÈîÅÔºâ      ÈöêÂºèÔºö‰ªª‰Ωï DML/DDL Êìç‰ΩúËá™Âä®Âä†      Ë°®Á∫ß      ËØªÈîÅÔºàSHAREDÔºâÁõ∏ÂÆπÔºåÂÜôÈîÅÔºàEXCLUSIVEÔºâ‰∫íÊñ•      Èò≤Ê≠¢ DML ‰∏é DDL Âπ∂Âèë‰øÆÊîπË°®ÁªìÊûÑÔºåÈúÄÊ≥®ÊÑèÈïø‰∫ãÂä°‰ºöÈòªÂ°û DDL      MySQL‰∫ãÂä°ÈöîÁ¶ªÁ∫ßÂà´            ÈöîÁ¶ªÁ∫ßÂà´      ËÑèËØª      ‰∏çÂèØÈáçÂ§çËØª      ÂπªËØª      MySQL ÈªòËÆ§                  READ UNCOMMITTED      ‚ùå ÂèØËÉΩ      ‚ùå ÂèØËÉΩ      ‚ùå ÂèØËÉΩ      Âê¶              READ COMMITTED      ‚úÖ ÈÅøÂÖç      ‚ùå ÂèØËÉΩ      ‚ùå ÂèØËÉΩ      Âê¶              REPEATABLE READ      ‚úÖ ÈÅøÂÖç      ‚úÖ ÈÅøÂÖç      ‚ö†Ô∏è ÂèØËÉΩÔºà‰ΩÜ InnoDB ÈÄöËøá MVCC + Èó¥ÈöôÈîÅÈÅøÂÖçÔºâ      ‚úÖ ÊòØ              SERIALIZABLE      ‚úÖ ÈÅøÂÖç      ‚úÖ ÈÅøÂÖç      ‚úÖ ÈÅøÂÖç      Âê¶        ËØªÊú™Êèê‰∫§ÔºàREAD UNCOMMITTEDÔºâ  A‰∫ãÂä°ÂèØ‰ª•ËØªÂèñB‰∫ãÂä°Êú™Ë∞ÉÊïôÁöÑÊï∞ÊçÆÔºåÂºïÂèëËÑèËØª„ÄÇ      ËØªÂ∑≤Êèê‰∫§ÔºàREAD COMMITTEDÔºâ    A‰∫ãÂä°ÂèØ‰ª•ËØªÂèñB‰∫ãÂä°Â∑≤Êèê‰∫§ÁöÑÊï∞ÊçÆ        ÂèØÈáçÂ§çËØªÔºàREPEATABLE READÔºâ    ÈªòËÆ§ÁöÑ‰∫ãÂä°ÈöîÁ¶ªÁ∫ßÂà´Ôºå‰∫ãÂä°ÂºÄÂêØÊó∂Ôºå‰∏çÂú®ÂÖÅËÆ∏‰øÆÊîπÊìç‰ΩúÔºåÂèØÈÅøÂÖçËÑèËØªÔºå‰πüÂèØ‰ª•ÈÄöËøáÂú®Êü•ËØ¢Êó∂Âä†ÊéíÂÆÉÈîÅÈÅøÂÖçÂπªËØª„ÄÇ          ËØªÂπªËØª‚Äã ‚Üí Èù† RR ÈöîÁ¶ªÁ∫ßÂà´ + ÊôÆÈÄö SELECTÔºàMVCC Ëá™Âä®Â§ÑÁêÜÔºâ„ÄÇ      ÂÜôÂπªËØª‚Äã ‚Üí Áî® SELECT ‚Ä¶ FOR UPDATEËß¶Âèë Next-Key LockÔºàPHP ‰∏≠Â∞±ÊòØÊâßË°åËøôÊù° SQL Âπ∂ÂºÄÂêØ‰∫ãÂä°Ôºâ„ÄÇ      ‰∏§ËÄÖÁªìÂêàÔºåÂç≥ÂèØÂú®‰∏öÂä°‰ª£Á†Å‰∏≠ÂèØÈù†Èò≤Ê≠¢ÂπªËØª„ÄÇ            ‰∏≤Ë°åÔºàSERIALIZABLEÔºâ    ‰∏≤Ë°åÊòØÊúÄÈ´òÁöÑÈöîÁ¶ªÁ∫ßÂà´ÔºåÂèØ‰ª•ÈÅøÂÖçËÑèËØª„ÄÅÂπªËØª„ÄÅÂèØÈáçÂ§çËØªÔºå‰ΩÜÊòØÊÄßËÉΩÂ§™Â∑Æ„ÄÇ  MySQLÂ≠òÂÇ®ÂºïÊìé  InnoDBInnoDBÊòØÈªòËÆ§ÁöÑÂ≠òÂÇ®ÂºïÊìéÔºåÊîØÊåÅ‰∫ãÂä°„ÄÅË°åÈîÅÔºåÊîØÊåÅÂ§öÁâàÊú¨Âπ∂ÂèëÊéßÂà∂„ÄÇ  MyIsAmMyIsAmÂú®5.5ÁâàÊú¨‰πãÂâçÊòØÈªòËÆ§ÁöÑÈÄâÈ°πÔºå‰∏çÊîØÊåÅ‰∫ãÂä°„ÄÅË°åÈîÅÔºåÊîØÊåÅË°®ÈîÅ„ÄÇÈÄÇÂêàËØªÂØÜÈõÜÂ∫îÁî®ÔºåÊï∞ÊçÆÂéãÁº©ËÉΩÂäõÂº∫ÔºåÈÄÇÂêàÂè™ËØªÊï∞ÊçÆÂ≠òÂÇ®„ÄÇ  MemoryÂ∞ÜÊâÄÊúâÊï∞ÊçÆ‰øùÂ≠òÂú®ÂÜÖÂ≠ò‰∏≠ÔºåÊï∞ÊçÆÊòì‰∏¢Â§±„ÄÇ  ArchiveËÆæËÆ°Áî®‰∫éÂ≠òÂÇ®Â§ßÈáèÁöÑÂΩíÊ°£Êï∞ÊçÆÔºåÂÖ∑ÊúâÈ´òÂéãÁº©Áéá„ÄÇÂè™ÊîØÊåÅInsertÂíåSelectÊìç‰ΩúÔºåÈùûÂ∏∏ÈÄÇÂêàÂ≠òÂÇ®Êó•ÂøóÊï∞ÊçÆÊàñÂÖ∂‰ªñÂæàÂ∞ëÈúÄË¶Å‰øÆÊîπÁöÑÊï∞ÊçÆ„ÄÇMySQLÈ´òÂèØÁî®ÊñπÊ°à  ‰∏ª‰ªéÂ§çÂà∂ÈÄÇÂêàËØªÂØÜÈõÜÂûãÂ∫îÁî®  InnoDB ClusterÈÄÇÂêàÂ§ßËßÑÊ®°Âπ∂ÂèëÂÜôÂÖ•Â∫îÁî®„ÄÇMySQL‰∏≠utf8Âíåutf8mb4ÁöÑÂå∫Âà´mysqlÂú®5.5.3‰πãÂêéÂ¢ûÂä†‰∫Üutf8mb4ÁöÑÁºñÁ†ÅÔºåmb4Â∞±ÊòØmost bytes4Ôºåutf8ÁºñÁ†ÅÊúÄÂ§ßÂ≠óÁ¨¶ÈïøÂ∫¶‰∏∫3Â≠óËäÇÔºåÂ¶ÇÊûúÈÅáÂà∞4Â≠óËäÇÁöÑÂÆΩÂ≠óÁ¨¶Â∞±‰ºöÊèíÂÖ•ÂºÇÂ∏∏„ÄÇutf8mb4Â∞±ÊòØmost bytes4ÁöÑÊÑèÊÄùÔºå‰∏ìÈó®Áî®Êù•ÂÖºÂÆπ4Â≠óËäÇÁöÑunicodeÂ≠óÁ¨¶„ÄÇMySQL‰∏≠‰πêËßÇÈîÅÂíåÊÇ≤ËßÇÈîÅÁöÑÂå∫Âà´Ôºü‰º†ÁªüÁöÑÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ìÈáåËæπÂ∞±Áî®Âà∞‰∫ÜÂæàÂ§öËøôÁßçÈîÅÊú∫Âà∂ÔºåÊØîÂ¶ÇË°åÈîÅ„ÄÅË°®ÈîÅÁ≠âÔºåËØªÈîÅ„ÄÅÂÜôÈîÅÁ≠â„ÄÇÈÉΩÊòØÂú®ÂÅöÊìç‰Ωú‰πãÂâçÂÖà‰∏äÈîÅ„ÄÇ‰πêËßÇÈîÅÂíåÊÇ≤ËßÇÈîÅ‰∏ªË¶ÅÊòØ‰∏∫‰∫ÜËß£ÂÜ≥Âπ∂Âèë‰∫ãÂä°‰∏≠ÁöÑÊï∞ÊçÆ‰∏ÄËá¥ÊÄßÈóÆÈ¢òÔºå‰ªñ‰ª¨ÁöÑËÆæËÆ°ÂàùË°∑ÊòØ‰∏∫‰∫ÜÂú®Â§öÁî®Êà∑ÊàñËøõÁ®ãÂêåÊó∂ËÆøÈóÆÂíå‰øÆÊîπÁõ∏ÂêåÊï∞ÊçÆÊó∂Ôºå‰øùËØÅÊï∞ÊçÆÁöÑ‰∏ÄËá¥ÊÄßÂíåÂÆåÊï¥ÊÄß„ÄÇ‰∏æ‰æãÔºöÂú®ÁßíÊùÄÂú∫ÊôØ‰∏ãÂØπÂ∫ìÂ≠òÁöÑÊü•ËØ¢Âä†ÈîÅÔºåÂú®Ëøô‰∏™‰∫ãÂä°ÁªìÊùüÂâçÔºåÂÖ∂‰ªñÂπ∂Âèë‰∫ãÂä°ÈúÄË¶ÅÈòªÂ°ûÊéíÈòüÁ≠âÂæÖ„ÄÇMySQLÁ¥¢Âºï‰∏ªË¶ÅÊòØÂì™‰∫õÔºüÁ¥¢ÂºïÁöÑÁõÆÁöÑÊòØÊèêÈ´òÊü•ËØ¢ÊïàÁéáÔºåÁ¥¢ÂºïÁöÑÁ±ªÂûãÊúâÂîØ‰∏ÄÁ¥¢Âºï„ÄÅÊôÆÈÄöÁ¥¢Âºï„ÄÅ‰∏ªÈîÆÁ¥¢Âºï„ÄÅÁªÑÂêàÁ¥¢Âºï„ÄÇÂîØ‰∏ÄÁ¥¢Âºï‰∏çÂèØ‰ª•Âá∫Áé∞Áõ∏ÂêåÁöÑÂÄºÔºåÂèØ‰ª•ÊúâNullÂÄº„ÄÇÁ¥¢Âºï‰ΩøÁî®ÊäÄÂ∑ßÔºå1.‰ΩøÁî®Áü≠Á¥¢ÂºïÔºåÂ¶ÇÊûúÊúâ‰∏Ä‰∏™char(255)ÂàóÔºåÂèØ‰ª•Âú®Ââç10‰∏™Êàñ20‰∏™Â≠óÁ¨¶ÂÜÖÂÅöÁü≠Á¥¢Âºï„ÄÇ2.‰ΩøÁî®likeËØ≠Âè•%aaa%Ôºå‰∏ç‰ºö‰ΩøÁî®Á¥¢ÂºïÔºåËÄå ‚Äúaaa%‚ÄùÂèØ‰ª•‰ΩøÁî®Á¥¢Âºï„ÄÇ3.whereÂíåjoinÁöÑÂàóÈîÆÁ¥¢Âºï„ÄÇÁªÑÂêàÁ¥¢ÂºïÊúÄÂ∑¶ÂåπÈÖçÂéüÂàôÔºüÂú®Êü•ËØ¢Êï∞ÊçÆÊó∂Ôºå‰ªéËÅîÂêàÁ¥¢ÂºïÁöÑÊúÄÂ∑¶ËæπÂºÄÂßãÂåπÈÖç„ÄÇMySQL‰ºö‰∏ÄÁõ¥ÂêëÂè≥ÂåπÈÖçÁõ¥Âà∞ÈÅáÂà∞ËåÉÂõ¥Êü•ËØ¢(&gt;„ÄÅ&lt;„ÄÅbetwwen„ÄÅlikeÂ∞±ÂÅúÊ≠¢ÂåπÈÖç‰∫Ü)ÔºåÊØîÂ¶ÇÁ¥¢ÂºïÂàó(abcd) where a=1 and c=2 and b&gt;5 and d=6ÔºåËøôÊ†∑cÂíådÈÉΩ‰∏ç‰ºöÁî®Âà∞Á¥¢Âºï„ÄÇËÅöÁ∞áÁ¥¢ÂºïÂíåÈùûËÅöÁ∞áÁ¥¢ÂºïÁöÑÂå∫Âà´ÔºüMyIsAMÂ≠òÂÇ®ÂºïÊìéÊòØÈùûËÅöÁ∞áÁ¥¢ÂºïÔºåInnnoDBÊòØËÅöÁ∞áÁ¥¢Âºï„ÄÇËÅöÁ∞áÁ¥¢Âºï‰∏≠‰∏ªÈîÆÁ¥¢ÂºïÂ≠òÊîæÊï∞ÊçÆÔºå‰∫åÁ∫ßÁ¥¢ÂºïÂ≠òÂÇ®Á¥¢ÂºïÂàóÂíå‰∏ªÈîÆÂàó„ÄÇÈùûËÅöÁ∞áÁ¥¢Âºï‰∏ªÈîÆÁ¥¢ÂºïÂíå‰∫åÁ∫ßÁ¥¢ÂºïÈÉΩÂ≠òÊîæÂÆåÊï¥ÁöÑÊï∞ÊçÆ„ÄÇËÅöÁ∞áÁ¥¢Âºï‰ºöÈ¢ùÂ§ñÂç†Áî®Á©∫Èó¥Ôºå‰ΩÜÊü•ËØ¢ÊïàÁéáÈ´ò„ÄÇÂ¶Ç‰ΩïÊü•ËØ¢‰∏Ä‰∏™Â≠óÊÆµÊòØÂê¶ÂëΩ‰∏≠‰∫ÜÁ¥¢ÂºïÔºü‰ΩøÁî®explainÂàÜÊûêSQLÊòØÂê¶Ëµ∞‰∫ÜÁ¥¢Âºï„ÄÇMysql‰∏≠ÁöÑMVCCÊòØ‰ªÄ‰πàÔºüÂ§öÁâàÊú¨Âπ∂ÂèëÊéßÂà∂Multiversion concurrency controlÔºåÂ§öÁâàÊú¨Âπ∂ÂèëÊéßÂà∂Â∏∏Áî®ÁöÑÊòØÊâÄÔºåÁªôÂΩìÂâç‰∫ãÂä°DQLÂä†ÊØíÁ¥†Âì¶ÔºåÁªôDMLÂä†ÂÜôÈîÅÔºåËøôÁßçÈîÅÊòØ‰∏ÄÁßçÊÇ≤ËßÇÈîÅÁöÑÂÆûÁé∞ÊñπÂºèÔºå‰ºöÈòªÂ°ûÂÖ∂‰ªñ‰∫ãÂä°Ôºå‰ªéËÄåÂΩ±ÂìçÊï∞ÊçÆÂ∫ìÊÄßËÉΩ„ÄÇMySQLËØªÂÜôÂàÜÁ¶ª‰ª•Âèä‰∏ª‰ªéÂêåÊ≠•„ÄÇÂéüÁêÜÔºå‰∏ªÂ∫ìÂ∞ÜÂèòÊõ¥ÂÜôbinlogÊó•ÂøóÔºåÁÑ∂Âêé‰ªéÂ∫ìÈìæÊé•Âà∞‰∏ªÂ∫ìÂêéÔºå‰ªéÂ∫ìÊúâ‰∏Ä‰∏™IOÁ∫øÁ®ãÂ∞Ü‰∏ªÂ∫ìÁöÑbinlogÊó•ÂøóÊã∑Ë¥ùÂà∞Ëá™Â∑±Êú¨Âú∞ÔºåÂÜôÂÖ•‰∏Ä‰∏™‰∏≠ÁªßÊó•ÂøóÔºåÊé•ÁùÄ‰ªéÂ∫ìÊúâ‰∏Ä‰∏™sqlÁ∫øÁ®ã‰ªé‰∏≠ÁªßÊó•ÂøóËØªÂèñbinlogÁÑ∂ÂêéÊâßË°åbinlogÊó•ÂøóÁöÑÂÜÖÂÆπ„ÄÇMysqlÂ¶Ç‰Ωï‰øùËØÅ‰∏ÄËá¥ÊÄßÂíåÊåÅ‰πÖÊÄßÔºüMysql‰∏∫‰∫Ü‰øùËØÅACID‰∏≠ÁöÑ‰∏ÄËá¥ÊÄßÂíåÊåÅ‰πÖÊÄßÔºå‰ΩøÁî®‰∫ÜWAL(Write A head logging)ÔºåÂÖàÂÜôÊó•ÂøóÂú®ÂÜôÁ£ÅÁõò„ÄÇRedologÂ∞±ÊòØ‰∏ÄÂº†WALÁöÑÂ∫îÁî®ÔºåÂΩìÊï∞ÊçÆÂ∫ìÂøΩÁÑ∂Êñ≠ÁÇπÂú®ÈáçÊñ∞ÂêØÂä®Êó∂ÔºåMysqlÂèØ‰ª•ÈÄöËøáRedologËøòÂéüÊï∞ÊçÆ„ÄÇ‰∏∫‰ªÄ‰πàÈÄâB+Ê†ë‰Ωú‰∏∫Á¥¢ÂºïÁªìÊûÑÔºü1.ÈùûÂè∂Â≠êËäÇÁÇπ‰ªÖÂ≠òÁ¥¢ÂºïÔºàÈîÆÂÄºÂíåÊåáÈíàÔºâÔºåÊîØÊåÅÈ´òÊïàËåÉÂõ¥Êü•ËØ¢„ÄÇ2.Âè∂Â≠êËäÇÁÇπÂ≠òÊï∞ÊçÆÂπ∂ÈìæË°®ËøûÊé•Â§©ÁÑ∂ÊîØÊåÅÊ∞¥Âπ≥Êâ©Â±ïÁêÜËÆ∫Â≠òÂÇ®ÂÆπÈáè‰ªÖÂèóÁ£ÅÁõòÊÄªÁ©∫Èó¥ÈôêÂà∂„ÄÇ3.B+Ê†ëÁöÑËäÇÁÇπÔºàÈùûÂè∂Â≠êÂíåÂè∂Â≠êÔºâÂ§ßÂ∞èËÆæËÆ°‰∏∫Á£ÅÁõòÈ°µÔºà16KBÔºâÂ§ßÂ∞èÔºåËÆ©B+Ê†ëÊü•ËØ¢Êó∂Áî®ÊúÄÂ∞ëÁöÑI/OÂÆö‰ΩçÊï∞ÊçÆ„ÄÇInnnoDBÁöÑË°åÈîÅÊ®°ÂºèÔºü1.ÂÖ±‰∫´ÈîÅ(s)ÔºåÁî®Ê≥ïlock in share modeÂèàÁß∞ËØªÈîÅÔºå2. ÊéíÂÆÉÈîÅÔºåÂèàÁß∞ÂÜôÈîÅ„ÄÇsÈîÅÔºåËã•‰∫ãÂä°TÂØπÊï∞ÊçÆÂØπË±°AÂä†‰∏äSÈîÅÔºåÂÖ∂‰ªñ‰∫ãÂä°Êô∫ËÉΩÂØπAÂä†SÈîÅÔºåËÄå‰∏çËÉΩÂä†XÈîÅ„ÄÇxÈîÅÔºåËã•‰∫ãÂä°TÂØπÊï∞ÊçÆÂØπË±°Âä†‰∏äXÈîÅÔºå‰∫ãÂä°TÂèØ‰ª•ËØªA‰πüÂèØ‰ª•ÂÜôAÔºåÂÖ∂‰ªñ‰∫ãÂä°‰∏çËÉΩÂú®ÂØπAÂä†‰ªª‰ΩïÈîÅÔºåXÈîÅÁî®Ê≥ïfor update„ÄÇÂìàÂ∏å(hash)ÊØîÊ†ë(tree)Êõ¥Âø´ÔºåÁ¥¢ÂºïÁªìÊûÑ‰∏∫‰ªÄ‰πàËÆæËÆ°ÊàêÊ†ëÂΩ¢ÂìàÂ∏åÊü•ËØ¢„ÄÅÊèíÂÖ•„ÄÅ‰øÆÊîπ„ÄÅÂà†Èô§ÁöÑÂπ≥ÂùáÂìçÂ∫îÊó∂Èó¥Â§çÊùÇÂ∫¶ÈÉΩÊòØO(1)ÔºåÊ†ëÁöÑÂπ≥ÂùáÂìçÂ∫îÊó∂Èó¥Â§çÊùÇÂ∫¶ÊòØO(logmN)ÔºåÂìàÂ∏åÂè™ËÉΩÊª°Ë∂≥Á≠âÂÄºÊü•ËØ¢Ôºå‰∏çËÉΩÊª°Ë∂≥ËåÉÂõ¥ÂíåÂ§ßÂ∞èÊü•ËØ¢ÔºåÂÖ∂Ê¨°‰∏çÂèØ‰ª•ÊéíÂ∫è„ÄÇ‰∏∫‰ªÄ‰πàÁ¥¢ÂºïÁöÑkeyÈïøÂ∫¶‰∏çËÉΩÂ§™Èïø„ÄÇkeyÂ§™Èïø‰ºöÂØºËá¥‰∏Ä‰∏™È°µÂΩì‰∏≠ËÉΩÂ§üÊùëÊòÇÁöÑkeyÊï∞ÁõÆÂèòÂ∞èÔºåÈó¥Êé•ÂØºËá¥Á¥¢ÂºïÊ†ëÁöÑÈ°µÊï∞ÂèòÂ§öÔºåÁ¥¢ÂºïÂ±ÇÊ¨°Â¢ûÂä†„ÄÇ‰ªéËÄåÂΩ±ÂìçÊü•ËØ¢ÊïàÁéá„ÄÇMySQLÁöÑÊï∞ÊçÆÂ¶Ç‰ΩïÊÅ¢Â§çÂà∞‰ªªÊÑèÊó∂Èó¥ÁÇπ1.ÂêØÁî®‰∫åËøõÂà∂Êó•Âøó„ÄÇ2.È¶ñÂÖà‰ΩøÁî®ÊúÄËøë‰∏ÄÊ¨°ÁöÑÂ§á‰ªΩÊÅ¢Â§çÊï∞ÊçÆÂ∫ì„ÄÇ3.‰ΩøÁî®mysqlbinlogÂ∑•ÂÖ∑Â∞ÜbinlogÊñá‰ª∂ÂêàÂπ∂ÔºåÁÑ∂Âêé‰ΩøÁî®mysqlÂ∑•ÂÖ∑ÂØºÂÖ•Â∑≤ÂêàÂπ∂ÁöÑsqlÊñá‰ª∂„ÄÇMysql‰∏∫‰ªÄ‰πàÂä†‰∫ÜÁ¥¢ÂºïÂèØ‰ª•Âä†Âø´Êü•ËØ¢‰ΩøÁî®Á¥¢ÂºïÂêéÂÜçÊü•ËØ¢Êó∂‰∏çÁî®Êâ´ÊèèÂÖ®Ë°®Êù•ÂÆö‰Ωç„ÄÇExplainÂëΩ‰ª§Êúâ‰ªÄ‰πàÁî®ÂàÜÊûêÊÖ¢Êü•ËØ¢ËØ≠Âè•ÊúâÊ≤°ÊúâÂëΩ‰∏≠Á¥¢Âºï„ÄÇ]]></content>
      <categories>
        
          <category> Èù¢ËØï </category>
        
      </categories>
      <tags>
        
          <tag> mysql </tag>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[Go RedisÂ≠¶‰π†Á¨îËÆ∞]]></title>
      <url>/go/2025/09/23/go-redis-note/</url>
      <content type="text"><![CDATA[ÂÆâË£Ögo get github.com/redis/go-redis/v9‰ΩøÁî®‰æãÂ≠êpackage mainimport (	"context"	"fmt"	"log"	"time"	"github.com/redis/go-redis/v9")func main() {	rdb := redis.NewClient(&amp;redis.Options{		Addr:     "localhost:16379",		Password: "CXqwr12_", // no password set		DB:       0,          // use default DB	})	var ctx = context.Background()	pong, err2 := rdb.Ping(ctx).Result()	if err2 != nil {		//panic(err2)		log.Printf("redis connect failed,err:%v", err2)	}	fmt.Println("redis connect success:", pong)	err := rdb.Set(ctx, "go-redis-key", "redis-go-value", 0).Err()	if err != nil {		//panic(err)		log.Printf("set key failed,err:%v", err)	}	rdb.Set(ctx, "go-redis-key2", "redis-go-value2", 300*time.Second)	rdb.Set(ctx, "go-redis-key3", "redis-go-value3", 60*time.Second)	rdb.Set(ctx, "go-redis-key4", "redis-go-value3", 160*time.Second)	rdb.HSet(ctx, "go-redis-hash-key1", "field1", "hash-value1")	rdb.HSet(ctx, "go-redis-hash-key1", "field2", "hash-value2")	rdb.HSet(ctx, "go-redis-hash-key1", "field3", "hash-value3")	//val, err := rdb.Get(ctx, "go-redis-key").Result()	val, err := rdb.Get(ctx, "key").Result()	if err != nil {		//panic(err)		log.Printf("get key failed,err:%v", err)	}	fmt.Println("key", val)	deleted, err := rdb.Del(ctx, "go-redis-key3", "go-redis-key2").Result()	if err != nil {		log.Printf("delete key failed,err:%v", err)	}	fmt.Print("deleted is ", deleted)	deleted, err = rdb.HDel(ctx, "go-redis-hash-key1", "field1", "field2").Result()	if err != nil {		log.Printf("delete key failed,err:%v", err)	}	fmt.Print("HDel deleted is ", deleted)	//ctx := context.Background()}ÂèÇËÄÉËµÑÊñô  https://github.com/redis/go-redis  https://redis.uptrace.dev/zh/  https://pkg.go.dev/github.com/redis/go-redis/v9@v9.14.0#section-readme]]></content>
      <categories>
        
          <category> Go </category>
        
      </categories>
      <tags>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[Go Gorm MysqlÂ≠¶‰π†Á¨îËÆ∞]]></title>
      <url>/go/2025/09/23/go-gorm-mysql-note/</url>
      <content type="text"><![CDATA[ÂÆâË£Ögo get -u gorm.io/gormgo get -u gorm.io/driver/sqliteËøûÊé•Êï∞ÊçÆÂ∫ìpackage mainimport (	"context"	"encoding/json"	"fmt"	"gorm.io/driver/mysql"	"gorm.io/gorm")func connectDB(dsn string) (*gorm.DB, error) {	db, err := gorm.Open(mysql.Open(dsn), &amp;gorm.Config{})	return db, err}func main() {	dsn := "root:12345678@tcp(127.0.0.1:13301)/nextcloud?charset=utf8mb4&amp;collation=utf8mb4_bin&amp;parseTime=True&amp;loc=Local"	db, err := connectDB(dsn)}Ê®°Âûãgorm.Modelgorm.ModelÊòØgormÈ¢ÑÂÆö‰πâÁöÑÁªìÊûÑ‰ΩìÔºåÂú®Ëá™ÂÆö‰πâÁöÑÁªìÊûÑ‰ΩìÊ®°Âûã‰∏≠ÂèØ‰ª•ÂºïÂÖ•‰ΩøÁî®„ÄÇ  gorm.Model definition// gorm.Model definitiontype Model struct {  ID        uint           `gorm:"primaryKey"`  CreatedAt time.Time  UpdatedAt time.Time  DeletedAt gorm.DeletedAt `gorm:"index"`}myGormModelTestÊ®°ÂûãÂÆö‰πâÂíåÊâßË°åpackage mainimport (	"context"	"encoding/json"	"fmt"	"gorm.io/driver/mysql"	"gorm.io/gorm")type myGormModelTest struct {	gorm.Model}func connectDB(dsn string) (*gorm.DB, error) {	db, err := gorm.Open(mysql.Open(dsn), &amp;gorm.Config{})	return db, err}func main() {	dsn := "root:12345678@tcp(127.0.0.1:13301)/nextcloud?charset=utf8mb4&amp;collation=utf8mb4_bin&amp;parseTime=True&amp;loc=Local"	db, err := connectDB(dsn)	ctx := context.Background()	if err != nil {		fmt.Println("connect db failed,err:", err)		return	}	err = db.Set("gorm:table_options", "ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin").AutoMigrate(myGormModelTest{})	if err != nil {		fmt.Println("migrate failed,err:", err)		return	}}ÁîüÊàêÊï∞ÊçÆÂ∫ìË°®ÁªìÊûÑÊòØshow create table my_gorm_model_testsCREATE TABLE `my_gorm_model_tests` (  `id` bigint unsigned NOT NULL AUTO_INCREMENT,  `created_at` datetime(3) DEFAULT NULL,  `updated_at` datetime(3) DEFAULT NULL,  `deleted_at` datetime(3) DEFAULT NULL,  PRIMARY KEY (`id`),  KEY `idx_my_gorm_model_tests_deleted_at` (`deleted_at`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_binUserÊ®°ÂûãÂÆö‰πâÂíåÊâßË°åpackage mainimport (	"context"	"encoding/json"	"fmt"	"gorm.io/driver/mysql"	"gorm.io/gorm")type User struct {	gorm.Model	UserName string `gorm:"column:user_name;size:100;not null;default:'';"`	Age      int    `gorm:"column:user_age"`	Email    string `gorm:"column:user_email"`	Phone    string `gorm:"column:user_phone"`}func (u *User) TableName() string {	return "my_gorm_user"}func connectDB(dsn string) (*gorm.DB, error) {	db, err := gorm.Open(mysql.Open(dsn), &amp;gorm.Config{})	return db, err}func main() {	dsn := "root:12345678@tcp(127.0.0.1:13301)/nextcloud?charset=utf8mb4&amp;collation=utf8mb4_bin&amp;parseTime=True&amp;loc=Local"	db, err := connectDB(dsn)	ctx := context.Background()	if err != nil {		fmt.Println("connect db failed,err:", err)		return	}	// ‰ΩøÁî® AutoMigrate ËøõË°åËøÅÁßª	err = db.Set("gorm:table_options", "ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin").AutoMigrate(&amp;User{})	if err != nil {		fmt.Println("migrate failed,err:", err)		return	}}ÁîüÊàêÊï∞ÊçÆÂ∫ìË°®ÁªìÊûÑÊòØshow create table my_gorm_userCREATE TABLE `my_gorm_user` (  `user_name` varchar(100) COLLATE utf8mb4_bin NOT NULL DEFAULT '',  `user_age` bigint DEFAULT NULL,  `user_email` longtext COLLATE utf8mb4_bin,  `user_phone` longtext COLLATE utf8mb4_bin,  `id` bigint unsigned NOT NULL AUTO_INCREMENT,  `created_at` datetime(3) DEFAULT NULL,  `updated_at` datetime(3) DEFAULT NULL,  `deleted_at` datetime(3) DEFAULT NULL,  PRIMARY KEY (`id`),  KEY `idx_my_gorm_user_deleted_at` (`deleted_at`)) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin‰ΩøÁî®‰æãÂ≠êpackage mainimport (	"encoding/json"	"fmt"	"gorm.io/driver/mysql"	"gorm.io/gorm")type OcFileCacheQuery struct {	Fileid int    `gorm:"column:fileid"`	Name   string `gorm"column:name"`	Path   string `gorm:"column:path"`}func connectDB(dsn string) (*gorm.DB, error) {	db, err := gorm.Open(mysql.Open(dsn), &amp;gorm.Config{})	return db, err}func main() {	dsn := "root:12345678@tcp(127.0.0.1:13301)/nextcloud?charset=utf8mb4&amp;parseTime=True&amp;loc=Local"	db, err := connectDB(dsn)	if err != nil {		fmt.Println("connect db failed,err:", err)		return	}	var fileCacheList []OcFileCacheQuery	whereFileId := 10	wherePath := "files/%"	LimitNum := 10	db.Table("oc_filecache").		Select("fileid,name,path").		Where("fileid &gt; ?", whereFileId).		Where("path LIKE ?", wherePath).		Limit(LimitNum).		Order("fileid desc").		Find(&amp;fileCacheList)	// ÈÅçÂéÜÁªìÊûú	// fmt.Println("fileCacheList:", fileCacheList)	// fmt.Printf("fileCacheList type is %T\n", fileCacheList)	// fmt.Println("len is ", len(fileCacheList))	// fmt.Println("ÂÜÖÂÆπÂ¶Ç‰∏ã:")	// for _, v := range fileCacheList {	// 	fmt.Println(v)	// }	jsonBytes, err := json.Marshal(fileCacheList)	if err != nil {		fmt.Println("json marshal failed", err)		return	}	//fmt.Println(jsonBytes)	jsonStr := string(jsonBytes)	fmt.Println(jsonStr)	//fmt.Print(fileCacheList)	//fmt.Println(db, err)}ÂèÇËÄÉËµÑÊñô  https://gorm.io/docs/]]></content>
      <categories>
        
          <category> Go </category>
        
      </categories>
      <tags>
        
          <tag> go </tag>
        
          <tag> gorm </tag>
        
          <tag> mysql </tag>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[Go ËØ≠Ë®ÄÂ≠¶‰π†Á¨îËÆ∞]]></title>
      <url>/go/2025/09/18/go-study-note/</url>
      <content type="text"><![CDATA[Êï∞ÊçÆÁ±ªÂûãGo ËØ≠Ë®Ä‰∏≠ÁöÑÊï∞ÊçÆÁ±ªÂûãÂèØ‰ª•‰ªé‰∏çÂêåÁª¥Â∫¶ËøõË°åÂàÜÁ±ª„ÄÇÊåâÁªÑÊàêÁªìÊûÑ‚Äã‚ÄãÔºåÂàÜ‰∏∫Âü∫Êú¨Á±ªÂûãÂíåÂ§çÂêàÁ±ªÂûã„ÄÇ‚Äã‚ÄãÊåâËµãÂÄº‰º†ÈÄíË°å‰∏∫‚Äã‚ÄãÂàÜ‰∏∫ÂÄºÁ±ªÂûãÂíåÂºïÁî®Á±ªÂûã„ÄÇÂü∫Á°ÄÁ±ªÂûãÊûÑÊàêÁ®ãÂ∫èÁöÑÂü∫Á°ÄÔºå‰∏çÂèØÂÜçÊãÜÂàÜÔºåÂÜÖÂ≠òÂç†Áî®Âõ∫ÂÆöÂ∏ÉÂ∞îvar b1 boolb1 = trueb2 := falseÂ≠óÁ¨¶‰∏≤string Âíå byte[]ÔºåstringÂèØ‰ª•Áõ¥Êé•ËΩ¨Êç¢ÊàêbyteÂ≠óËäÇÂàáÁâá	var (		str1 string = "hello string"	)	str2 := "hello str2"	fmt.Println(str1, str2)Êï¥Âûã11ÁßçÂÜÖÁΩÆÊï¥Êï∞Á±ªÂûãÔºöint8„ÄÅuint8„ÄÅint16„ÄÅuint16„ÄÅint32„ÄÅuint32„ÄÅint64„ÄÅuint64„ÄÅint„ÄÅuintÂíåuintptrvar a int = 10var i1, i2 int = 10, 20i3 := 30                  //ÈªòËÆ§Á±ªÂûãÊòØintfmt.Println(i1, i2, i3)fmt.Printf("i1 type is %T\n ", i1)fmt.Printf("i3 type is %T\n\n ", i3)ÊµÆÁÇπÂûã‰∏§ÁßçÂÜÖÁΩÆÊµÆÁÇπÊï∞Á±ªÂûãÔºöfloat32Âíåfloat64„ÄÇvar f1 float32 = 3.14f2 := 3.14              //ÈªòËÆ§Êï∞ÊçÆÁ±ªÂûãÊòØfloat64fmt.Println(f1, f2)fmt.Printf("f2 type is %T\n ", f2)Â§çÊï∞var cmp1 complex64 = 1 + 2icmp2 := 2 + 4i        //ÈªòËÆ§ÂÄºÊòØcomplex128fmt.Println(cmp1, cmp2)fmt.Printf("cmp2 type is %T\n", cmp2)Èõ∂Âûãvar (  zb   bool  zs   string  zi   int  zf   float64  zcmp complex128)fmt.Println(zb, zs, zi, zf, zcmp)ËæìÂá∫ÁªìÊûú‰∏∫false  0 0 (0+0i)Â∏∏ÈáèÂ§çÂêàÁ±ªÂûãÁî±Âü∫Êú¨Á±ªÂûãÊàñÂÖ∂‰ªñÂ§çÂêàÁ±ªÂûãÁªÑÂêàËÄåÊàêÔºåÁî®‰∫éÊûÑÂª∫Êõ¥Â§çÊùÇÁöÑÊï∞ÊçÆÁªìÊûÑÊï∞ÁªÑ  ÂÆö‰πâÊï∞ÁªÑ          var ÂèòÈáèÂêç [ÈïøÂ∫¶]Á±ªÂûã        ÂàùÂßãÂåñÂÆö‰πâÊï∞ÁªÑ          var ÂèòÈáèÂêç = [ÈïøÂ∫¶]Á±ªÂûã{v1,v2,v3}      var ÂèòÈáèÂêç = [‚Ä¶]Á±ªÂûã{v1,v2,v3}      //Êï∞ÁªÑvar arr = [5]int{1, 2, 3, 4, 5}var arr1 [3]intvar arr2 = [3]int{1, 2, 3}arr3 := [3]int{4, 5, 6}var arr4 = [...]int{1, 2, 3}arr5 := [...]int{4, 5, 6}fmt.Println(arr1, arr2, arr3, arr4, arr5)for i, v := range arr2 {  fmt.Println(i, v)}// ÂÜíÊ≥°ÊéíÂ∫èfor i := 0; i &lt; len(arr)-1; i++ {  for j := 0; j &lt; len(arr)-1-i; j++ {    if arr[j] &lt; arr[j+1] {      arr[j], arr[j+1] = arr[j+1], arr[j]    }    fmt.Println("aa:", arr)  }  fmt.Println("aaa:", arr)}fmt.Println(arr)//Â§öÁª¥Êï∞ÁªÑÂÆö‰πâÂíåÈÅçÂéÜvar arrM3 = [3][2]int{ {1, 2}, {3, 4}, {5, 6}}for i := 0; i &lt; len(arrM3); i++ {  for j := 0; j &lt; len(arrM3[i]); j++ {    fmt.Printf("%d ", arrM3[i][j])  }}for _, val := range arrM3 {  for index2, val2 := range val {    fmt.Printf("index is %d,val is %d \n", index2, val2)  }}ÂàáÁâáÂºïÁî®Á±ªÂûã  ÂÆö‰πâÂàáÁâá          var ÂèòÈáèÂêç []Á±ªÂûãÔºå‰∏çÈúÄË¶ÅÊåáÂÆöÈïøÂ∫¶„ÄÇ      ÂèòÈáèÂêç := make([]int,len,cap)ÔºåËøôÁßçÈúÄË¶ÅÂêàÁêÜÈ¢Ñ‰º∞ÂàáÁâáÂÆπÈáèÂ§ßÂ∞èÔºåÂ¶ÇÊûúÈ¢Ñ‰º∞ËøáÂ§ß‰ºöÈÄ†ÊàêÂÜÖÂ≠òÊµ™Ë¥πÔºåÈ¢Ñ‰º∞ÂáÜÁ°Æ‰ºöÊèêÂçáÊÄßËÉΩ„ÄÇ        var slice1 []intslice2 := []int{1, 2, 3}var slice3 = make([]int, 0)slice4 := make([]int, 0)fmt.Println(slice1, slice2, slice3, slice4)fmt.Printf("slice1 type is %T\nslice2 type is %T\n", slice1, slice2)fmt.Printf("slice1 type is %T\n", slice1)fmt.Println(slice1 == nil)slice1 = append(slice1, 1)slice1 = append(slice1, 2, 3, 4)fmt.Println(slice1 == nil)fmt.Println(slice1)                      ÂàáÁâáÂ∏∏Áî®Êìç‰Ωú          Ê∑ªÂä†Ôºåappend      Êà™ÂèñÔºåslice[start:end]ÔºåstartÊàñËÄÖendÈÉΩÂèØ‰ª•ÁúÅÁï•      Â§çÂà∂Ôºåcopy(ÁõÆÊ†áÂàáÁâáÔºåÊ∫êÂàáÁâá)ÔºåÂ§çÂà∂Ë¶ÜÁõñÂêå‰ΩçÁΩÆÁöÑÂÖÉÁ¥†Ôºå‰∏ç‰ºöÊîπÂèòÂàáÁâáÁöÑÈïøÂ∫¶„ÄÇ      Âà†Èô§,slice[:2],Âà†Èô§Á¨¨‰∫å‰∏™‰ª•ÂêéÊâÄÊúâÁöÑÂÖÉÁ¥†Ôºåslice[2:]ÔºåÂà†Èô§Á¨¨‰∫å‰∏™ÂíåÂâçÈù¢ÁöÑÂÖÉÁ¥†        slice1 := []int{1, 2, 3}slice2 := []int{4, 5, 6}slice1 = append(slice1, 7)//slice1 = slice1[:2]copy(slice1, slice2)fmt.Println(slice1, slice2)                ÈõÜÂêà„ÄÅÊò†Â∞Ñ              ÂÆö‰πâÊñπÂºè          map[ÈîÆÁöÑÁ±ªÂûã]ÂÄºÁöÑÁ±ªÂûã       //ÂÆö‰πâ‰∏Ä‰∏™Á©∫ÈõÜÂêà„ÄÅÊò†Â∞Ñ„ÄÇma := map[string]int{}ma["a"] = 1fmt.Println(ma)//ÂàùÂßãÂåñÂÆö‰πâ‰∏Ä‰∏™ÈùûÁ©∫ÈõÜÂêà„ÄÅÊò†Â∞Ñ„ÄÇm1 := map[string]int{"a": 1, "b": 2}//ÂÆö‰πâ‰∏Ä‰∏™Á©∫ÈõÜÂêà„ÄÅÊò†Â∞Ñ„ÄÇm2 := make(map[string]string)//m2["a"] = 1m2["b"] = "hello"//m2[3] = 3.14m2["name"] = "tom"m2["age"] = "20"m2["city"] = "beijing"delete(m2, "city")//m2["city"] = "shanghai"//Â∞ÜjsonÂ≠óÁ¨¶‰∏≤ËΩ¨Êç¢ÊàêmapÈõÜÂêà„ÄÇvar j stringj = `{"infos":[{"name":"tom","age":20,"city":"beijing"},{"name":"jack","age":22,"city":"shanghai"}]}`fmt.Println(j)var m3 = map[string]any{}json.Unmarshal([]byte(j), &amp;m3)for key, val := range m3 {  fmt.Println("key is ", key)  fmt.Println("val is ", val)  //valSlice := val.([]interface{})  //valSlice := val.([]any)  valSlice := val.([]interface{})  for index, val2 := range valSlice {    fmt.Println("index is ", index)    fmt.Println("val2 is ", val2)    valMap := val2.(map[string]any)    for key3, val3 := range valMap {      fmt.Printf("key3 is %s,val3 is %v \n", key3, val3)    }  }}ÂáΩÊï∞func sum(a,b int) int{  return a+b}func main(){  sumInt := sum(1,2)}ÊñπÊ≥ïÂáΩÊï∞ÂíåÊñπÊ≥ïÁöÑÂå∫Âà´ÊòØÊñπÊ≥ïÊúâ‰∏Ä‰∏™Á±ªÂûãÊé•Êî∂ËÄÖ„ÄÇtype Age intfunc (age Age) Hello() {	fmt.Println("hello", age)}func main(){  age := Age(10)  age.Hello}ÁªìÊûÑ‰Ωìtype Book struct {	Name   string	Price  float64	Author string	Page   int}//ÁªìÊûÑ‰ΩìÂÆö‰πâÊñπÊ≥ïfunc (b Book) HelloName() {	fmt.Println("book name is ", b.Name)}func (b Book) Pages() int {	return b.Page}func (b *Book) SetPages(page int) int {	b.Page = page	return b.Page}function main(){  Book1 := Book{Name: "Go",Price: 66.6, Author: "tom"}  Book1.HelloName()  var Book1 Book	Book1.SetPages(200)	pages := Book1.Pages()	fmt.Println(pages)	return}Êé•Âè£  Êé•Âè£ÁöÑÂÆö‰πâ  Êé•Âè£ÁöÑÂÆö‰πâ‰∏éÁªìÊûÑ‰ΩìÁ®çÂæÆÊúâ‰∫õÂ∑ÆÂà´ÔºåËôΩÁÑ∂ÈÉΩ‰ª•typeÂÖ≥ÈîÆÂ≠óÂºÄÂßãÔºå‰ΩÜÊé•Âè£ÁöÑÂÖ≥ÈîÆÂ≠óÊòØinterfaceÔºåË°®Á§∫ÂÆö‰πâÁöÑÁ±ªÂûãÊòØ‰∏Ä‰∏™Êé•Âè£„ÄÇtype Stringer interface {  String() string}  Êé•Âè£ÁöÑÂÆûÁé∞  Êé•Âè£ÁöÑÂÆûÁé∞ËÄÖÂøÖÈ°ªÊòØ‰∏Ä‰∏™ÂÖ∑‰ΩìÁöÑÁ±ªÂûãÔºå‰ª•personÁªìÊûÑ‰Ωì‰∏∫‰æãÔºåËÆ©ÂÆÉÊù•ÂÆûÁé∞StringerÊé•Âè£ÔºåÂ¶Ç‰∏ãÈù¢ÁöÑ‰ª£Á†ÅÊâÄÁ§∫type Stringer interface {  String() string}type Address struct {    province string    city string}type Person struct{  Name String  Age int  Address Address}func (p Person) String() string {  return fmt.Sprintf("the name is %s,age is %d",p.name,p.age)}ÈÄöÈÅì‚Äã‚Äã‰∏çË¶ÅÂú®Âêå‰∏Ä‰∏™ goroutine ‰∏≠ÔºåÂØπÊó†ÁºìÂÜ≤ channel È°∫Â∫èÊâßË°åÂÖàÊé•Êî∂ÂêéÂèëÈÄÅÊàñÂÖàÂèëÈÄÅÂêéÊé•Êî∂ÁöÑÊìç‰Ωú‚Äã‚ÄãÔºåËøô‰ºöÂØºËá¥ËØ• goroutine ÈòªÂ°ûÔºå‰ªéËÄå‰ΩøÂêéÁª≠ÁöÑÈÖçÂØπÊìç‰ΩúÊ≤°ÊúâÊú∫‰ºöÊâßË°å„ÄÇÂä°ÂøÖËÆ©ÂÆÉ‰ª¨Âú®‰∏§‰∏™‰∏çÂêåÁöÑ goroutine ‰∏≠Âπ∂ÂèëÊâßË°å„ÄÇfunc main(){ch3 := make(chan int)go func() {  ch3 &lt;- 100}()ch100 := &lt;-ch3fmt.Println("ch100 is ", ch100)returnch2 := make(chan int, 1)  //Â∏¶ÁºìÂÜ≤Âå∫ÁöÑÈÄöÈÅìch2 &lt;- 1//ch2 &lt;- 2cha1 := &lt;-ch2//cha2 := &lt;-ch2fmt.Println(cha1)return}ÂÄºÁ±ªÂûã‚Äã‚ÄãËµãÂÄºÂíå‰º†ÂèÇÊó∂Â§çÂà∂Êï¥‰∏™Êï∞ÊçÆÁöÑÂâØÊú¨‚Äã‚ÄãÔºåÊìç‰ΩúÊñ∞ÂâØÊú¨‰∏ç‰ºöÂΩ±ÂìçÂéüÊï∞ÊçÆ„ÄÇÊâÄÊúâ‚Äã‚ÄãÂü∫Êú¨Á±ªÂûã‚Äã‚Äã„ÄÅ‚Äã‚ÄãÊï∞ÁªÑ (array)‚Äã‚Äã„ÄÅ‚Äã‚ÄãÁªìÊûÑ‰Ωì (struct)‚Äã‚ÄãÂºïÁî®Á±ªÂûã‚Äã‚ÄãËµãÂÄºÂíå‰º†ÂèÇÊó∂Â§çÂà∂Êï∞ÊçÆÁöÑÂºïÁî®ÔºàÂÜÖÂ≠òÂú∞ÂùÄÔºâ‚Äã‚ÄãÔºåÂ§ö‰∏™ÂèòÈáèÂÖ±‰∫´Âêå‰∏ÄÂ∫ïÂ±ÇÊï∞ÊçÆÔºå‰øÆÊîπ‰ºöÁõ∏‰∫íÂΩ±Âìç„ÄÇ‚Äã‚ÄãÂàáÁâá (slice)‚Äã‚Äã„ÄÅ‚Äã‚ÄãÊò†Â∞Ñ (map)‚Äã‚Äã„ÄÅ‚Äã‚ÄãÈÄöÈÅì (channel)‚Äã‚Äã„ÄÅ‚Äã‚ÄãÂáΩÊï∞ (function)‚Äã‚Äã„ÄÅ‚Äã‚ÄãÊé•Âè£ (interface)‚Äã‚ÄãÊåáÈíàÊåáÈíàÁöÑÊú¨Ë¥®ÊòØÂ≠òÂÇ®‰∏Ä‰∏™‚Äã‚ÄãÂÜÖÂ≠òÂú∞ÂùÄ‚Äã‚Äã„ÄÇÁêÜËÆ∫‰∏äÔºå‰ªª‰ΩïÁ±ªÂûãÁöÑÂèòÈáèÈÉΩÊúâÂÖ∂ÂÜÖÂ≠òÂú∞ÂùÄÔºåÂõ†Ê≠§Âá†‰πé‚Äã‚ÄãÊâÄÊúâÊï∞ÊçÆÁ±ªÂûã‚Äã‚ÄãÔºàÂåÖÊã¨ÊâÄÊúâÂü∫Êú¨Á±ªÂûãÂíåÂ§çÂêàÁ±ªÂûãÔºâÈÉΩÂèØ‰ª•ÊúâÂØπÂ∫îÁöÑÊåáÈíàÁ±ªÂûã„ÄÇ  ÂáΩÊï∞ÂèÇÊï∞‰º†ÈÄíÈªòËÆ§ÊòØ‚Äã‚ÄãÂÄº‰º†ÈÄí‚Äã‚ÄãÔºåËøôÊÑèÂë≥ÁùÄ‰º†ÈÄíÁöÑÊòØÂèòÈáèÁöÑÂâØÊú¨„ÄÇÂΩìÂèÇÊï∞ÊòØÂ§ßÂûãÁªìÊûÑ‰ΩìÊàñÊï∞ÁªÑÊó∂ÔºåÁõ¥Êé•‰º†ÂÄº‰ºöÂØºËá¥ÊòæËëóÁöÑÂÜÖÂ≠òÊã∑Ë¥ùÂºÄÈîÄÔºåÂΩ±ÂìçÊÄßËÉΩ„ÄÇ‰ΩøÁî®ÊåáÈíà‰º†ÈÄíÂèØ‰ª•ÊúâÊïàÈÅøÂÖçËøôÁßç‰∏çÂøÖË¶ÅÁöÑÂ§çÂà∂ÔºåÂõ†‰∏∫‰º†ÈÄíÁöÑÂè™ÊòØ‰∏Ä‰∏™ÂÜÖÂ≠òÂú∞ÂùÄÔºàÂú® 64 ‰ΩçÁ≥ªÁªü‰∏äÈÄöÂ∏∏ÊòØ 8 Â≠óËäÇÔºâÔºåÊó†ËÆ∫ÂéüÂØπË±°ÊúâÂ§öÂ§ßÔºåÂºÄÈîÄÂá†‰πé‰∏çÂèò„ÄÇmakemakeÂáΩÊï∞ÊòØ‰∏ìÈó®Áî®‰∫éÂàùÂßãÂåñ‚Äã‚ÄãÂàáÁâáÔºàsliceÔºâ‚Äã‚Äã„ÄÅ‚Äã‚ÄãÊò†Â∞ÑÔºàmapÔºâ‚Äã‚Äã Âíå‚Äã‚ÄãÈÄöÈÅìÔºàchannelÔºâ‚Äã‚Äã Ëøô‰∏âÁßçÂÜÖÁΩÆÁöÑÂºïÁî®Á±ªÂûãÁöÑÂÜÖÁΩÆÂáΩÊï∞„ÄÇÂÆÉ‰ºöÂØπËøô‰∫õÁ±ªÂûãËøõË°åÂøÖË¶ÅÁöÑÂÜÖÂ≠òÂàÜÈÖçÂíåÂàùÂßãÂåñÔºå‰ΩøÂÖ∂Á´ãÂç≥ÂèØÁî®„ÄÇ  slice ÂàáÁâápackage mainimport "fmt"type Person struct {    Name string    Age  int}func main() {    // ‰ΩøÁî® make ÂàùÂßãÂåñ‰∏Ä‰∏™ÈïøÂ∫¶‰∏∫ 3 ÁöÑ *Person ÂàáÁâáÔºàÊåáÈíàÂàáÁâáÔºâ    people := make([]*Person, 3) // ÈïøÂ∫¶ÂíåÂÆπÈáèÂùá‰∏∫ 3    fmt.Printf("ÂàùÂßãÂåñÂêé: %v\n", people) // ËæìÂá∫: [&lt;nil&gt; &lt;nil&gt; &lt;nil&gt;]    // ‰∏∫ÂàáÁâá‰∏≠ÁöÑÊØè‰∏™ÊåáÈíàÂÖÉÁ¥†ÂàÜÈÖçÂÖ∑‰ΩìÁöÑ Person ÂÆû‰æã    for i := 0; i &lt; len(people); i++ {        people[i] = &amp;Person{            Name: fmt.Sprintf("Person%d", i+1),            Age:  20 + i,        }    }    // Áé∞Âú®ÂèØ‰ª•ÂÆâÂÖ®Âú∞ËÆøÈóÆÂíåÊìç‰Ωú    for _, p := range people {        fmt.Printf("Name: %s, Age: %d\n", p.Name, p.Age)    }}  mapÈõÜÂêàÊò†Â∞Ñpackage mainimport "fmt"func main() {    // ‰ΩøÁî® make ÂàùÂßãÂåñ‰∏Ä‰∏™ÈîÆ‰∏∫ string, ÂÄº‰∏∫ *int ÁöÑÊò†Â∞Ñ    scoreMap := make(map[string]*int, 5) // ÂàùÂßãÂÆπÈáèÊèêÁ§∫‰∏∫ 5    // ÂáÜÂ§á‰∏Ä‰∫õÊï∞ÊçÆ    scores := []int{100, 95, 88}    names := []string{"Alice", "Bob", "Charlie"}    // Â∞ÜÊåáÈíàÊåáÂêëÁöÑÂàÜÊï∞Â≠òÂÖ•Êò†Â∞Ñ    for i := 0; i &lt; len(scores); i++ {        // Ê≥®ÊÑèÔºö‰∏çËÉΩÁõ¥Êé•‰ΩøÁî® &amp;scores[i] Â¶ÇÊûú scores ÊòØÂàáÁâá‰∏îÂêéÁª≠ÂèØËÉΩ‰øÆÊîπÊàñÊâ©ÂÆπ        // Êõ¥ÂÆâÂÖ®ÁöÑÂÅöÊ≥ïÊòØÂàõÂª∫ÂèòÈáèÁöÑÂú∞ÂùÄÔºåÊàñÁ°Æ‰øùÂàáÁâá‰∏çÂÜç‰øÆÊîπ        score := scores[i] // ÂàõÂª∫ÂâØÊú¨ÔºåÂèñÂÖ∂Âú∞ÂùÄ        scoreMap[names[i]] = &amp;score    }    // ÈÅçÂéÜÊò†Â∞ÑÔºåÊâìÂç∞ÈîÆÂíåÊåáÈíàÊåáÂêëÁöÑÂÄº    for name, ptr := range scoreMap {        fmt.Printf("Name: %s, Score: %d (ÊåáÈíàÂú∞ÂùÄ: %p)\n", name, *ptr, ptr)    }    // ÈÄöËøáÊåáÈíà‰øÆÊîπÊò†Â∞Ñ‰∏≠ÁöÑÂÄº    if ptr, exists := scoreMap["Alice"]; exists {        *ptr = 99 // ‰øÆÊîπ Alice ÁöÑÂàÜÊï∞        fmt.Println("‰øÆÊîπÂêé Alice ÁöÑÂàÜÊï∞:", *scoreMap["Alice"])    }}  chan ÈÄöÈÅìpackage mainimport (    "fmt"    "time")func main() {    // ‰ΩøÁî® make ÂàõÂª∫‰∏Ä‰∏™ËÉΩÁºìÂÜ≤ 2 ‰∏™ int ÊåáÈíàÁöÑÈÄöÈÅì    msgChan := make(chan *int, 2)    go func() {        // Âú® goroutine ‰∏≠ÂàõÂª∫‰∏Ä‰∫õÊï¥Êï∞Âπ∂ÂèëÈÄÅÂÖ∂ÊåáÈíàÂà∞ÈÄöÈÅì        for i := 0; i &lt; 3; i++ {            num := i * 10 // ÂàõÂª∫Êï¥Êï∞            fmt.Printf("ÂèëÈÄÅ: %d (Âú∞ÂùÄ: %p)\n", num, &amp;num)            msgChan &lt;- &amp;num // ÂèëÈÄÅÊï¥Êï∞ÁöÑÊåáÈíàÂà∞ÈÄöÈÅì            time.Sleep(100 * time.Millisecond)        }        close(msgChan) // ÂèëÈÄÅÂÆåÊØïÂêéÂÖ≥Èó≠ÈÄöÈÅì    }()    // ‰ªéÈÄöÈÅìÊé•Êî∂Êï¥Êï∞ÁöÑÊåáÈíàÂπ∂ÊâìÂç∞ÂÖ∂ÂÄº    fmt.Println("Êé•Êî∂Êï∞ÊçÆ:")    for receivedPtr := range msgChan {        fmt.Printf("Êé•Êî∂: %d (Êù•Ëá™Âú∞ÂùÄ: %p)\n", *receivedPtr, receivedPtr)    }}newnewÂáΩÊï∞Â∏∏Áî®Êù•Â£∞ÊòéÈùûÂºïÁî®Êï∞ÊçÆÁ±ªÂûãÂ¶ÇÂü∫Êú¨Á±ªÂûã„ÄÅÂ§çÂêàÁ±ªÂûãÁöÑÂèòÈáè„ÄÇ// 1. Âü∫Êú¨Êï∞ÊçÆÁ±ªÂûãvar intPtr *int = new(int)           // *int, ÊåáÂêë 0var floatPtr *float64 = new(float64) // *float64, ÊåáÂêë 0.0var boolPtr *bool = new(bool)         // *bool, ÊåáÂêë falsevar strPtr *string = new(string)     // *string, ÊåáÂêë ""// 2. Êï∞ÁªÑ (array)var arrPtr *[3]int = new([3]int) // *[3]int, ÊåáÂêë [3]int{0, 0, 0}// 3. ÁªìÊûÑ‰Ωì (struct)type Person struct {    Name string    Age  int}var structPtr *Person = new(Person) // *Person, ÊåáÂêë Person{"", 0}// 4. ÂàáÁâá (slice) - Ê≥®ÊÑèÔºönew Âè™‰∏∫ÂàáÁâáÂ§¥ÁªìÊûÑÂàÜÈÖç‰∫ÜÂÜÖÂ≠òÔºåÂÖ∂Â∫ïÂ±ÇÊï∞ÁªÑ‰∏∫ nilvar slicePtr *[]int = new([]int) // *[]int, ÊåáÂêë‰∏Ä‰∏™ nil ÂàáÁâá// 5. ÈõÜÂêà (map) - Ê≥®ÊÑèÔºönew Âè™‰∏∫ map ÊåáÈíàÂàÜÈÖç‰∫ÜÂÜÖÂ≠òÔºåÂÖ∂Â∫ïÂ±ÇÂìàÂ∏åÁªìÊûÑ‰∏∫ nilvar mapPtr *map[string]int = new(map[string]int) // *map[string]int, ÊåáÂêë‰∏Ä‰∏™ nil map// 6. ÈÄöÈÅì (channel) - Ê≥®ÊÑèÔºönew Âè™‰∏∫ channel ÊåáÈíàÂàÜÈÖç‰∫ÜÂÜÖÂ≠òÔºåÂÖ∂Â∫ïÂ±ÇÈÄöÈÅìÁªìÊûÑ‰∏∫ nilvar chanPtr *chan int = new(chan int) // *chan int, ÊåáÂêë‰∏Ä‰∏™ nil channel// 7. ÊåáÈíàÁöÑÊåáÈíàvar ptrToPtr **int = new(*int) // **int, ÊåáÂêë‰∏Ä‰∏™ *int Á±ªÂûãÁöÑÊåáÈíàÔºåËØ•ÊåáÈíàÊú¨Ë∫´‰∏∫ nil// ÊâìÂç∞ÂàùÂßãÈõ∂ÂÄºfmt.Println("Âü∫Êú¨Á±ªÂûãÈõ∂ÂÄº:", *intPtr, *floatPtr, *boolPtr, *strPtr)fmt.Println("Êï∞ÁªÑÈõ∂ÂÄº:", *arrPtr)fmt.Println("ÁªìÊûÑ‰ΩìÈõ∂ÂÄº:", *structPtr)fmt.Println("ÂàáÁâáÊåáÈíàÁöÑÂÄº (Â∫ïÂ±ÇÊï∞ÁªÑ‰∏∫nil):", *slicePtr) // ËæìÂá∫ []fmt.Println("Êò†Â∞ÑÊåáÈíàÁöÑÂÄº (Â∫ïÂ±ÇÊò†Â∞Ñ‰∏∫nil):", *mapPtr)   // ËæìÂá∫ map[]fmt.Println("ÈÄöÈÅìÊåáÈíàÁöÑÂÄº (Â∫ïÂ±ÇÈÄöÈÅì‰∏∫nil):", *chanPtr)   // ËæìÂá∫ &lt;nil&gt;fmt.Println("ÊåáÈíàÁöÑÊåáÈíàÁöÑÂÄº (ÊåáÂêëÁöÑÊåáÈíà‰∏∫nil):", *ptrToPtr) // ËæìÂá∫ &lt;nil&gt;// ÈáçË¶ÅËØ¥ÊòéÔºöÂØπ‰∫éÂºïÁî®Á±ªÂûãÔºàslice, map, channelÔºâÔºånew ‰ªÖÂàÜÈÖç‰∫ÜÊåáÈíàÊú¨Ë∫´ÁöÑÂÜÖÂ≠òÔºå// Âπ∂Ê≤°ÊúâÂàùÂßãÂåñÂÖ∂Â∫ïÂ±ÇÊï∞ÊçÆÁªìÊûÑ„ÄÇÁõ¥Êé•‰ΩøÁî®ÔºàÂ¶ÇËµãÂÄº„ÄÅÂèëÈÄÅÊï∞ÊçÆÔºâ‰ºöÂØºËá¥ panic„ÄÇ// ‰æãÂ¶ÇÔºö// (*mapPtr)["key"] = 1 // ËøôË°å‰ºöÂºïÂèë panic: assignment to entry in nil map// *slicePtr = append(*slicePtr, 1) // ËøôË°åÂèØ‰ª•ÊâßË°åÔºåÂõ†‰∏∫ append ‰ºöÂ§ÑÁêÜ nil sliceÔºå‰ΩÜÈÄöÂ∏∏‰∏çËøôÊ†∑Áî®„ÄÇ// Ê≠£Á°ÆÂàùÂßãÂåñÂºïÁî®Á±ªÂûãÂ∫î‰ΩøÁî® make ÂáΩÊï∞Ôºö*slicePtr = make([]int, 0, 10) // ÂàùÂßãÂåñÂàáÁâáÂ∫ïÂ±ÇÊï∞ÁªÑ*mapPtr = make(map[string]int)  // ÂàùÂßãÂåñÊò†Â∞Ñ*chanPtr = make(chan int, 5)    // ÂàùÂßãÂåñÈÄöÈÅì// ÂàùÂßãÂåñÂêéÂç≥ÂèØÂÆâÂÖ®‰ΩøÁî®(*mapPtr)["key"] = 100*slicePtr = append(*slicePtr, 1, 2, 3)go func() { *chanPtr &lt;- 42 }()fmt.Println("ÂàùÂßãÂåñÂêéÁöÑÊò†Â∞Ñ:", *mapPtr)fmt.Println("ÂàùÂßãÂåñÂêéÁöÑÂàáÁâá:", *slicePtr)fmt.Println("‰ªéÈÄöÈÅìÊé•Êî∂ÂÄº:", &lt;-*chanPtr)ÊåáÈíàÂú®ÂáΩÊï∞‰∏≠ÁöÑÂ∫îÁî®package mainimport "fmt"// increment ÂáΩÊï∞Êé•Êî∂‰∏Ä‰∏™ÊåáÂêëÊï¥Êï∞ÁöÑÊåáÈíàÔºåÂπ∂Â∞ÜÂÖ∂ÊåáÂêëÁöÑÂÄºÂä†1func increment(ptr *int) {    *ptr = *ptr + 1 // ÈÄöËøáÊåáÈíà‰øÆÊîπÂéüÂßãÂÄº}func main() {    count := 10    fmt.Println("ÂéüÂßãÂÄº:", count) // ËæìÂá∫: ÂéüÂßãÂÄº: 10        increment(&amp;count)          // ‰º†ÈÄí count ÁöÑÂú∞ÂùÄ    fmt.Println("Ë∞ÉÁî®Âêé:", count) // ËæìÂá∫: Ë∞ÉÁî®Âêé: 11}ÊåáÈíàÂú®ÊñπÊ≥ï‰∏≠ÁöÑÂ∫îÁî®package mainimport "fmt"type Person struct {    Name string    Age  int}// Birthday ÊñπÊ≥ï‰ΩøÁî®ÊåáÈíàÊé•Êî∂ËÄÖ *PersonÔºåÁî®‰∫éÂ¢ûÂä†Âπ¥ÈæÑfunc (p *Person) Birthday() {    p.Age++ // Áõ¥Êé•‰øÆÊîπÊé•Êî∂ËÄÖ p ÊâÄÊåáÂêëÁöÑ Person ÂÆû‰æãÁöÑ Age Â≠óÊÆµ    fmt.Printf("%s ËøáÁîüÊó•Âï¶ÔºÅÁé∞Âú®Âπ¥ÈæÑÊòØ %d\n", p.Name, p.Age)}func main() {  person := Person{Name: "Alice", Age: 25}  fmt.Println("Ë∞ÉÁî®Ââç:", person.Age) // ËæìÂá∫: Ë∞ÉÁî®Ââç: 25    person.Birthday()               // Ë∞ÉÁî®ÊñπÊ≥ïÔºåGo ‰ºöËá™Âä®Â∞Ü person ÁöÑÂú∞ÂùÄ‰º†ÈÄíÁªôÊåáÈíàÊé•Êî∂ËÄÖ  fmt.Println("Ë∞ÉÁî®Âêé:", person.Age) // ËæìÂá∫: Ë∞ÉÁî®Âêé: 26    // Âç≥‰Ωø‰Ω†Êúâ‰∏Ä‰∏™ÊåáÈíàÂèòÈáèÔºåË∞ÉÁî®ÊñπÂºè‰πüÊòØ‰∏ÄÊ†∑ÁöÑÔºàGo ÁöÑËØ≠Ê≥ïÁ≥ñÔºâ  ptr := &amp;person  ptr.Birthday()                  // ËæìÂá∫: Alice ËøáÁîüÊó•Âï¶ÔºÅÁé∞Âú®Âπ¥ÈæÑÊòØ 27  fmt.Println("ÈÄöËøáÊåáÈíàË∞ÉÁî®Âêé:", person.Age) // ËæìÂá∫: ÈÄöËøáÊåáÈíàË∞ÉÁî®Âêé: 27}*Âè∑Âíå&amp;Á¨¶Âè∑Â£∞ÊòéÂèòÈáè‰∏∫ÊåáÈíàÂèòÈáè//ÊåáÈíàintP1 := 100var intPointer *intintPointer = &amp;intP1intPointer2 := *intPointerfmt.Println(intPointer, *intPointer, intPointer2)typeÂÖ≥ÈîÆÂ≠ó//Ëá™ÂÆö‰πâÁ±ªÂûãÔºàÂú®Âü∫Êú¨Á±ªÂûãÂü∫Á°Ä‰∏äÔºâÔºå‰ΩøÁî®Â§ßÂ∞èÈ©ºÂ≥∞ÔºåÂ§ßÈ©ºÂ≥∞‰ª£Ë°®ÂØºÂá∫ÔºåÂ∞èÈ©ºÂ≥∞Âè™Âú®ÂåÖÂÜÖ„ÄÇtype MyInt inttype myInt int//ÁªìÊûÑ‰Ωìtype ShoppingCart struct{}//Êé•Âè£type Formatter interface{}Á±ªÂûãÊñ≠Ë®Ä]]></content>
      <categories>
        
          <category> Go </category>
        
      </categories>
      <tags>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[Redis]]></title>
      <url>/redis/2025/09/16/redis/</url>
      <content type="text"><![CDATA[RedisÈ´òÈ¢ëÈù¢ËØïÈ¢ò  ÁºìÂ≠òÁ©øÈÄè          ÈóÆÈ¢òÊèèËø∞        ÂΩìÊü•ËØ¢Redis‰∏≠Ê≤°ÊúâÊï∞ÊçÆÊó∂ÔºåËØ•Êü•ËØ¢‰ºö‰∏ãÊ≤âÂà∞Êï∞ÊçÆÂ∫ìÂ±ÇÔºåÂêåÊó∂Êï∞ÊçÆÂ∫ìÂ±Ç‰πüÊ≤°ÊúâËØ•Êï∞ÊçÆÔºåÂΩìÂá∫Áé∞Â§ßÈáèËøôÁßçÊü•ËØ¢ÔºàÊàñË¢´ÊÅ∂ÊÑèÊîªÂáªÔºâÊó∂ÔºåÊé•Âè£ÁöÑËÆøÈóÆÂÖ®ÈÉ®ÈÄèËøáRedisËÆøÈóÆÊï∞ÊçÆÂ∫ìÔºåËÄåÊï∞ÊçÆÂ∫ì‰∏≠‰πüÊ≤°ÊúâËøô‰∫õÊï∞ÊçÆÔºåÊàë‰ª¨Áß∞ËøôÁßçÁé∞Ë±°‰∏∫‚ÄúÁºìÂ≠òÁ©øÈÄè‚Äù„ÄÇ          Ëß£ÂÜ≥ÊñπÊ°à                  Âú®‰∏öÂä°ÊúçÂä°ËÆøÈóÆÂ±ÇÂØπÁî®Êà∑ËøõË°åÊ†°È™åÊù•Âà§Êñ≠ÊòØ‰∏çÊòØÊù•Ëá™ÊÅ∂ÊÑèÁî®Êà∑ÁöÑËØ∑Ê±ÇÔºåÊØîÂ¶ÇÂØπËØ∑Ê±ÇÂèÇÊï∞ËøõË°åÊ†°È™åÂíåÊ£ÄÊü•‰∏ÄÊÆµÊó∂Èó¥ÂÜÖËØ∑Ê±ÇÂêå‰∏Ä‰∏™ÊúçÂä°ÁöÑÊ¨°Êï∞„ÄÇ          Â∞ÜÊï∞ÊçÆÂ∫ìÂ±ÇÊúâÂÖ≥Êï∞ÊçÆÁöÑÈîÆÂ≠òÂÇ®Âà∞Â∏ÉÈöÜËøáÊª§Âô®‰∏≠Ôºå‰ª•Âà§Êñ≠ËÆøÈóÆÁöÑÈîÆÊòØÂê¶Âú®Â∫ïÂ±ÇÁöÑÊï∞ÊçÆÂ∫ì‰∏≠„ÄÇÂ¶ÇÊûúÂú®Â∏ÉÈöÜËøáÊª§Âô®‰∏≠ÂàôÊü•ËØ¢ÁºìÂ≠òÔºåÂ¶ÇÊûúÁºìÂ≠òÊ≤°ÊúâÂàôÂÜçÊ¨°Êü•ËØ¢MySQLÊï∞ÊçÆÂ∫ìÔºõÂ¶ÇÊûúÂ∏ÉÈöÜËøáÊª§Âô®‰∏≠Ê≤°ÊúâÔºåÂàôÁõ¥Êé•ËøîÂõûÊàë‰ª¨È¢ÑÂÖàËßÑÂÆöÂ•ΩÁöÑÁªìÊûúÂç≥ÂèØ„ÄÇÊàë‰ª¨‰πüÂèØ‰ª•ÊääÂ∏ÉÈöÜËøáÊª§Âô®ÁöÑÂ±ÇÁ∫ßÊîæÂà∞ÁºìÂ≠ò‰∏ã‰∏ÄÂ±ÇÔºåÂΩìËØ∑Ê±ÇÊï∞ÊçÆÁöÑÊó∂ÂÄôÂÖàÂéªÁºìÂ≠òÂ±ÇËé∑Âèñ„ÄÇÂ¶ÇÊûúÁºìÂ≠òÈáåÈù¢ÊúâÊï∞ÊçÆÔºåÂ∞±Áõ¥Êé•ËøîÂõûÁªìÊûúÔºõÂ¶ÇÊûúÁºìÂ≠òÊ≤°ÊúâÔºåÂ∞±ÂéªÂ∏ÉÈöÜËøáÊª§Âô®Âà§Êñ≠Áõ∏ÂÖ≥Êï∞ÊçÆÁöÑÈîÆÊòØÂê¶Âú®Â∏ÉÈöÜËøáÊª§Âô®‰∏≠ÔºåÂ¶ÇÊûúÂú®Â∞±ÁªßÁª≠Êü•ËØ¢MySQLÊï∞ÊçÆÂ∫ìÔºåÂ¶ÇÊûú‰∏çÂ≠òÂú®Â∞±Áõ¥Êé•ËøîÂõûÔºå‰∏çÂú®ËøõË°åÊï∞ÊçÆÂ∫ìÂ±ÇÁ∫ßÁöÑÊü•ËØ¢„ÄÇ                      ÁºìÂ≠òÂáªÁ©ø          ÈóÆÈ¢òÊèèËø∞        ÁºìÂ≠òÂáªÁ©øÂíåÁºìÂ≠òÁ©øÈÄè‰ªéÂêçËØç‰∏äÂæàÈöæÂå∫ÂàÜÂºÄÔºå‰ªñ‰ª¨ÁöÑÂå∫Âà´‰∏ªË¶ÅÊòØ‚ÄúÁ©øÈÄè‚ÄùË°®Á§∫Â∫ïÂ±ÇÊï∞ÊçÆÂ∫ìÂ±ÇÊ≤°ÊúâÊï∞ÊçÆËÄå‰∏îÁºìÂ≠òÂ±ÇÂÜÖ‰πüÊ≤°ÊúâÊï∞ÊçÆÔºåËÄå‚ÄúÂáªÁ©ø‚ÄùË°®Á§∫Â∫ïÂ±ÇÊï∞ÊçÆÂ∫ìÊúâÊï∞ÊçÆ‰ΩÜÊòØÁºìÂ≠òÂ±ÇÂÜÖÊ≤°ÊúâÊï∞ÊçÆ„ÄÇ          Ëß£ÂÜ≥ÊñπÊ°à                  ÁÉ≠ÁÇπÈîÆÁöÑËøáÊúüÊó∂Èó¥ËÆæÁΩÆ‰∏∫Ê∞∏‰∏çËøáÊúü          Âà©Áî®‰∫íÊñ•ÈîÅ‰øùËØÅÂêå‰∏ÄÊó∂ÂàªÂè™Êúâ‰∏Ä‰∏™ÂÆ¢Êà∑Á´ØÂèØ‰ª•Êü•ËØ¢Â∫ïÂ±ÇÊï∞ÊçÆÂ∫ìÁöÑÊï∞ÊçÆÔºå‰∏ÄÊó¶Êü•Âà∞Êï∞ÊçÆÂ∞±ÁºìÂ≠òËá≥RedisÂÜÖÔºå‰ª•ÈÅøÂÖçÂÖ∂‰ªñÂ§ßÈáèËØ∑Ê±ÇÂêåÊó∂Á©øËøáRedisÂéªËÆøÈóÆÂ∫ïÂ±ÇÊï∞ÊçÆÂ∫ì„ÄÇ                          ÁºìÂ≠òÈõ™Â¥©          ÈóÆÈ¢òÊèèËø∞ÁºìÂ≠òÂáªÁ©øËØ¥ÁöÑÊòØÁÉ≠ÁÇπÊï∞ÊçÆËøáÊúüÔºåÁºìÂ≠òÈõ™Â¥©ËØ¥ÁöÑÊòØÂ§ßÈù¢ÁßØÁöÑÊï∞ÊçÆËøáÊúü„ÄÇÁºìÂ≠òÈõ™Â¥©ÊòØÊåáRedis‰∏≠Â§ßÈáèÁöÑÈîÆÂá†‰πéÂêåÊó∂ËøáÊúüÔºåÁÑ∂ÂêéÂ§ßÈáèÂπ∂ÂèëÁöÑÊü•ËØ¢Á©øËøáRedisÂÜ≤ÂáªÂà∞Â∫ïÂ±ÇÊï∞ÊçÆÂ∫ì‰∏äÔºåÊ≠§Êó∂Êï∞ÊçÆÂ∫ìÁöÑË¥üËΩΩÂéãÂäõ‰ºöÂ¢ûÂ§ß„ÄÇÁõ∏ÊØî‰∫éÁºìÂ≠òÂáªÁ©øÔºåÁºìÂ≠òÈõ™Â¥©Êõ¥ÂÆπÊòìÂèëÁîü„ÄÇ      Ëß£ÂÜ≥ÊñπÊ°à                  Âú®ÂèØÊé•ÂèóÁöÑÊó∂Èó¥ËåÉÂõ¥ÂÜÖÈöèÊú∫ËÆæÁΩÆÈîÆÁöÑËøáÊúüÊó∂Èó¥ÔºåÂàÜÊííÈîÆÁöÑËøáÊúüÊó∂Èó¥Ôºå‰ª•Èò≤Ê≠¢Â§ßÈáèÁöÑÈîÆÂú®Âêå‰∏ÄÊó∂ÂàªËøáÊúü„ÄÇ          ÈîÆÁöÑËøáÊúüÊó∂Èó¥ËÆæÁΩÆÊ∞∏‰∏çËøáÊúü„ÄÇ            Redis ÊåÅ‰πÖÂåñÊñπÊ°à                                RDB  AOF  RDB+AOF# 1. RDB ÈÖçÁΩÆ - Ê†πÊçÆ‰Ω†ÁöÑÊï∞ÊçÆÈáçË¶ÅÊÄßÂíåÂÜôÂÖ•È¢ëÁπÅÁ®ãÂ∫¶Ë∞ÉÊï¥save 900 1                      # 900ÁßíÔºà15ÂàÜÈíüÔºâÂÜÖËá≥Â∞ë1‰∏™keyÂèëÁîüÂèòÂåñsave 300 10                     # 300ÁßíÔºà5ÂàÜÈíüÔºâÂÜÖËá≥Â∞ë10‰∏™keyÂèëÁîüÂèòÂåñsave 60 10000                   # 60ÁßíÂÜÖËá≥Â∞ë10000‰∏™keyÂèëÁîüÂèòÂåñdbfilename dump.rdb             # RDB Êñá‰ª∂Âêçrdbcompression yes               # ÂºÄÂêØRDBÊñá‰ª∂ÂéãÁº©ÔºåËäÇÁúÅÁ©∫Èó¥rdbchecksum yes                 # ÂºÄÂêØRDBÊñá‰ª∂Ê†°È™åÔºå‰øùËØÅÊï∞ÊçÆÂÆåÊï¥ÊÄßstop-writes-on-bgsave-error yes # ÂêéÂè∞‰øùÂ≠òÂá∫ÈîôÊó∂ÂÅúÊ≠¢ÂÜôÂÖ•ÔºåÈò≤Ê≠¢Êï∞ÊçÆ‰∏ç‰∏ÄËá¥# 2. AOF ÈÖçÁΩÆ - Ê∑∑ÂêàÊåÅ‰πÖÂåñÁöÑÂü∫Á°ÄÔºåÂøÖÈ°ªÂºÄÂêØappendonly yes                  # ÂêØÁî®AOFÊåÅ‰πÖÂåñappendfilename "appendonly.aof" # AOFÊñá‰ª∂Âêçappendfsync everysec            # ÊØèÁßíÂêåÊ≠•ÔºåÊÄßËÉΩ‰∏éÂÆâÂÖ®ÁöÑËâØÂ•ΩÂπ≥Ë°°# 3. AOF ÈáçÂÜôÈÖçÁΩÆ - Èò≤Ê≠¢AOFÊñá‰ª∂Êó†ÈôêËÜ®ËÉÄauto-aof-rewrite-percentage 100  # ÂΩìÂâçAOFÊñá‰ª∂ÊØî‰∏äÊ¨°ÈáçÂÜôÂêéÂ§ßÂ∞èÂ¢ûÈïø100%Êó∂Ëß¶Âèëauto-aof-rewrite-min-size 64mb   # AOFÊñá‰ª∂ÊúÄÂ∞èËææÂà∞64MBÊâçËß¶ÂèëÈáçÂÜô# 4. ÂêØÁî®Ê∑∑ÂêàÊåÅ‰πÖÂåñ (Redis 4.0+)aof-use-rdb-preamble yes# 5. ÈÄöÁî®ÈÖçÁΩÆdir /path/to/your/redis/data    # ËÆæÁΩÆÊåÅ‰πÖÂåñÊñá‰ª∂Â≠òÂÇ®ÁõÆÂΩïÔºåÁ°Æ‰øùÁ£ÅÁõòÁ©∫Èó¥ÂÖÖË∂≥RedisÈ´òÂèØÁî®ÊñπÊ°à  ‰∏ª‰ªé1Âè∞‰∏ª„ÄÅ1Âè∞‰ªé  Âì®ÂÖµÊ®°Âºè1Âè∞‰∏ª„ÄÅ2Âè∞‰ªé„ÄÅ3Âè∞Âì®ÂÖµ(ÈÉ®ÁΩ≤Âà∞ÊØèÂè∞‰∏ª‰ªé)  ÈõÜÁæ§Ê®°Âºè3Â§™‰∏ª„ÄÅ3Âè∞‰ªé]]></content>
      <categories>
        
          <category> Redis </category>
        
      </categories>
      <tags>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[VSCodeÂ¶Ç‰ΩïÈÖçÁΩÆgoÂºÄÂèëÁéØÂ¢É]]></title>
      <url>/go/2025/08/01/go-dev-env/</url>
      <content type="text"><![CDATA[vscodeÈÖçÁΩÆGoÂºÄÂèëÁéØÂ¢ÉÊ£ÄÊü•GoÊòØÂê¶ÂÆâË£Öbash-3.2$ go versiongo version go1.24.1 darwin/amd64VSCodeÂÆâË£ÖGoÁõ∏ÂÖ≥ÂºÄÂèëË∞ÉËØïÁöÑÂ∑•ÂÖ∑Command/Ctrl+Shift+PÂø´Êç∑ÈîÆÂºπÂá∫ÂëΩ‰ª§Èù¢ÊùøÁ™óÂè£ÈÄâÊã©=„ÄãGo:Install/Update ToolsÊ£ÄÊü•GoÂºÄÂèëË∞ÉËØïÁõ∏ÂÖ≥Â∑•ÂÖ∑ÂÆâË£ÖÊòØÂê¶ÊàêÂäübash-3.2$ go env|grep -E "GOPATH"GOPATH='/Users/zhaoqhu/go'bash-3.2$ ls -alt /Users/zhaoqhu/go/bin/total 243744-rwxr-xr-x   1 zhaoqhu  staff  15396912  8  1 16:43 staticcheck-rwxr-xr-x   1 zhaoqhu  staff  21008256  8  1 16:43 dlv-rwxr-xr-x   1 zhaoqhu  staff   8835376  8  1 16:42 goplay-rwxr-xr-x   1 zhaoqhu  staff   7168976  8  1 16:42 impl-rwxr-xr-x   1 zhaoqhu  staff  13199952  8  1 16:42 gotestsdrwxr-xr-x   6 zhaoqhu  staff       192  8  1 14:56 ..drwxr-xr-x  10 zhaoqhu  staff       320  7 22 16:30 .-rwxr-xr-x   1 zhaoqhu  staff  18287600  7 12 13:16 godoc-rwxr-xr-x   1 zhaoqhu  staff   4149888  3 26 13:49 gomodifytags-rwxr-xr-x   1 zhaoqhu  staff  36730976  3 26 13:49 goplsÂÆâË£ÖGoÊâ©Â±ïCommand/Ctrl+Shift+XÂø´Êç∑ÈîÆÔºåÊâìÂºÄÊâ©Â±ïÂïÜÂ∫óËøêË°åÂíåË∞ÉËØïÂàõÂª∫launch.jsonÊñá‰ª∂{    // ‰ΩøÁî® IntelliSense ‰∫ÜËß£Áõ∏ÂÖ≥Â±ûÊÄß„ÄÇ     // ÊÇ¨ÂÅú‰ª•Êü•ÁúãÁé∞ÊúâÂ±ûÊÄßÁöÑÊèèËø∞„ÄÇ    // Ê¨≤‰∫ÜËß£Êõ¥Â§ö‰ø°ÊÅØÔºåËØ∑ËÆøÈóÆ: https://go.microsoft.com/fwlink/?linkid=830387    "version": "0.2.0",    "configurations": [    {        "name": "Launch Package",        "type": "go",        "request": "launch",        "mode": "auto",        "program": "${workspaceFolder}"    },    {        "name": "Launch Package test",        "type": "go",        "request": "launch",        "mode": "auto",        "program": "${workspaceFolder}/test"    },    {        "name": "Launch Package chapter1",        "type": "go",        "request": "launch",        "mode": "auto",        "program": "${workspaceFolder}/chapter1/channels"    },    ]}È™åËØÅË∞ÉËØïbash-3.2$ curl http://127.0.0.1:8080/ping{"message":"pong"}bash-3.2$ curl http://127.0.0.1:8080/hello{"msg":"hello"}bash-3.2$ ]]></content>
      <categories>
        
          <category> Go </category>
        
      </categories>
      <tags>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[Php High Level]]></title>
      <url>/2024/03/10/php-high-level/</url>
      <content type="text"><![CDATA[ÂàÜÂ∏ÉÂºè‰∫ãÂä°ÊúÄÂ§ßÂä™ÂäõÈÄöÁü•Ê°à‰æãÂàÜÊûêÂú®Á¨¨‰∏âÊñπÊîØ‰ªò‰∏≠Ôºå‰æãÂ¶ÇÊîØ‰ªòÂÆùÔºåÊàñËÄÖÂæÆ‰ø°ÔºåÂØπ‰∫éËÆ¢ÂçïËØ∑Ê±ÇÔºåÁ¨¨‰∏âÊñπÊîØ‰ªòÁ≥ªÁªüÈááÁî®ÁöÑÊòØÊ∂àÊÅØÂêåÊ≠•ËøîÂõûÔºåÂºÇÊ≠•ÈÄöÁü•+‰∏ªÂä®Ë°•ÂÅøÊü•ËØ¢ÁöÑË°•ÂÅøÊú∫Âà∂„ÄÇÁî±‰∫é‰∫íËÅîÁΩëÈÄö‰ø°ÁöÑ‰∏çÂèØÈù†ÊÄßÔºå‰æãÂ¶ÇÁΩëÁªúÊïÖÈöú„ÄÅÊúçÂä°Âô®ÊïÖÈöú„ÄÅÂ∫îÁî®bugÁ≠âÂõ†Á¥†ÁöÑÂΩ±ÂìçÔºå‰∏çÁÆ°ÊòØÂêåÊ≠•ËøîÂõû„ÄÅÂºÇÊ≠•ÈÄöÁü•„ÄÅ‰∏ªÂä®Êü•ËØ¢Êä•ÊñáÈÉΩÂèØËÉΩÂá∫Áé∞Ë∂ÖÊó∂Êó†ÂìçÂ∫î„ÄÅÊä•Êñá‰∏¢Â§±Á≠âÊÉÖÂÜµÔºåÊâÄ‰ª•ÂÉèÊîØ‰ªò‰∏öÂä°„ÄÅÂØπÁªìÊûúÁöÑÈÄöÁü•„ÄÅ‰∏ÄËà¨ÈááÁî®Âá†ÁßçÊñπÊ°àÁªìÂêàÁöÑË°•ÂÅøÊú∫Âà∂Ôºå‰∏çËÉΩÂÆåÂÖ®‰æùËµñÊüê‰∏ÄÁßçÊú∫Âà∂„ÄÇ‰æãÂ¶Ç‰∏Ä‰∏™ÊîØ‰ªòÁªìÊûúÁöÑÈÄöÁü•Ôºå‰∏ÄÊñπÈù¢‰ºöÂú®ÊîØ‰ªòÈ°µÈù¢Ë∑≥ËΩ¨Êó∂ÂÄôËøîÂõûÊîØ‰ªòÁªìÊûúÔºà‰∏ÄËà¨Âè™Áî®‰ΩúÂâçÁ´ØÂ±ïÁ§∫‰ΩøÁî®ÔºåÈùûÊúÄÁªàÁä∂ÊÄÅÔºâÔºåÂêåÊó∂‰ºöÈááÁî®ÂêéÂè∞ÂºÇÊ≠•ÈÄöÁü•Êú∫Âà∂ÔºàÊúâÂâçÂè∞„ÄÅÂêéÂè∞ÈÄöÁü•ÁöÑÔºå‰ª•ÂêéÂè∞ÂºÇÊ≠•ÈÄöÁü•ÁªìÊûú‰∏∫ÂáÜÔºâÔºå‰ΩÜÁî±‰∫éÂâçÂè∞Ë∑≥ËΩ¨„ÄÅÂêéÂè∞ÁªìÊûúÈÄöÁü•ÂèØËÉΩÂ§±ÊïàÔºåÂõ†Ê≠§Ëøò‰ª•ÂÆöÊó∂Ë°•Âçï+ËØ∑Ê±ÇÊñπ‰∏ªÂä®Êü•ËØ¢Êé•Âè£‰Ωú‰∏∫ËæÖÂä©ÊâãÊÆµ„ÄÇÂ∏∏ËßÅÁöÑË°•ÂçïÊìç‰ΩúÔºå‰ªªÂä°Ë∞ÉÂ∫¶Á≠ñÁï•‰∏ÄËà¨ËÆæÂÆö30Áßí„ÄÅ60Áßí„ÄÅ3ÂàÜÈíü„ÄÅ6ÂàÜÈíü„ÄÅ10ÂàÜÈíüË∞ÉÂ∫¶Â§öÊ¨°Ôºà‰ª•Ëá™Â∑±‰∏öÂä°ÈúÄË¶ÅÔºâÔºåÂ¶ÇÊûúË∞ÉÂ∫¶Êé•ÂèóÂà∞ÂìçÂ∫îÁ°ÆËÆ§Êä•ÊñáÔºåË°•ÂçïÊàêÂäü„ÄÇÂàôÁªàÊ≠¢ÂØπÂ∫îËÆ¢ÂçïÁöÑË∞ÉÂ∫¶‰ªªÂä°ÔºõÂ¶ÇÊûúË∂ÖËøáË°•Âçï‰∏äÈôêÊ¨°Êï∞ÔºåÂàôÂÅúÊ≠¢Ë°•ÂçïÔºåÈÅøÂÖçÊó†Ë∞ìÁöÑËµÑÊ∫êÊµ™Ë¥π„ÄÇËØ∑Ê±ÇÁ´ØÈöèÊó∂ÂèØ‰ª•ÂèëËµ∑ËØ∑Ê±ÇÊä•ÊñáÊü•ËØ¢ÂØπÂ∫îËÆ¢ÂçïÁöÑÁä∂ÊÄÅ„ÄÇ## ÊúÄÂ§ßÂä™ÂäõÈÄöÁü•Âûã### ÂÆûÁé∞  1„ÄÅ‰∏öÂä°Ê¥ªÂä®ÁöÑ‰∏ªÂä®ÊñπÔºåÂú®ÂÆåÊàê‰∏öÂä°Â§ÑÁêÜ‰πãÂêéÔºåÂêë‰∏öÂä°Ê¥ªÂä®ÁöÑË¢´Âä®ÊàøÂèëÈÄÅÊ∂àÊÅØÔºåË¢´Âä®ÊñπÈúÄ‰∏ªÂä®ÂìçÂ∫îÊ≠£Á°ÆÊ∂àÊÅØÔºåÂê¶ÂàôÊ†πÊçÆÂÆöÊó∂Á≠ñÁï•ÔºåÊúÄÂ§ßÂä™ÂäõÈÄöÁü•„ÄÇ  2„ÄÅ‰∏öÂä°Ê¥ªÂä®ÁöÑË¢´Âä®ÊñπÔºàÁîµÂïÜÂπ≥Âè∞Ôºâ‰πüÂèØ‰ª•Âêë‰∏öÂä°Ê¥ªÂä®‰∏ªÂä®ÊñπÔºàÊîØ‰ªòÂÆùÂπ≥Âè∞ÔºâÊü•ËØ¢ÔºåÊÅ¢Â§ç‰∏¢Â§±ÁöÑ‰∏öÂä°Ê∂àÊÅØ„ÄÇ  ### Á∫¶Êùü  Ë¢´Âä®ÊñπÁöÑÂ§ÑÁêÜÁªìÊûú‰∏çËÉΩÂΩ±Âìç‰∏ªÂä®ÊñπÁöÑÂ§ÑÁêÜÁªìÊûú  ### ÊàêÊú¨  ‰∏öÂä°Êü•ËØ¢‰∏éÊ†°ÂØπÁ≥ªÁªüÁöÑÂª∫ËÆæÊàêÊú¨  ### ‰ΩøÁî®ËåÉÂõ¥  ÂØπ‰∏öÂä°ÊúÄÁªà‰∏ÄËá¥ÊÄßÁöÑÊó∂Èó¥ÊïèÊÑüÂ∫¶‰Ωé  Ë∑®‰ºÅ‰∏öÁöÑ‰∏öÂä°Ê¥ªÂä®  ### ÊñπÊ°àÁâπÁÇπ  ‰∏öÂä°Ê¥ªÂä®ÁöÑ‰∏ªÂä®ÊñπÂú®ÂÆåÊàê‰∏öÂä°Â§ÑÁêÜÂêéÔºåÂêë‰∏öÂä°Ê¥ªÂä®Ë¢´Âä®ÊñπÂèëÈÄÅÈÄöÁü•Ê∂àÊÅØÔºàÂÖÅËÆ∏Ê∂àÊÅØ‰∏¢Â§±Ôºâ  ‰∏ªÂä®ÊñπÂèØ‰ª•ËÆæÁΩÆÊó∂Èó¥Èò∂Ê¢ØÈÄöÁü•ËßÑÂàôÔºåÂú®ÈÄöÁü•Â§±Ë¥•ÂêéÊåâËßÑÂàôÈáçÂ§çÈÄöÁü•ÔºåÁõ¥Âà∞ÈÄöÁü•NÊ¨°ÂêéÔºå‰∏ªÂä®ÊñπÊèê‰æõÊ†°ÈòüÊü•ËØ¢Êé•Âè£ÁªôË¢´Âä®ÊñπÊåâÈúÄÊ†°ÈòüÊü•ËØ¢ÔºåÁî®‰∫éÊÅ¢Â§ç‰∏¢Â§±ÁöÑ‰∏öÂä°Ê∂àÊÅØ  ### Â∫îÁî®Ê°à‰æã  Èì∂Ë°åÈÄöÁü•„ÄÅÂïÜÊà∑ÈÄöÁü•Á≠âÔºàÂêÑÂ§ß‰∫§Êòì‰∏öÂä°Âπ≥Âè∞Èó¥ÁöÑÂïÜÊà∑ÈÄöÁü•ÔºöÂ§öÊ¨°ÈÄöÁü•„ÄÅÊü•ËØ¢Ê†°ÂØπ„ÄÅÂØπË¥¶Êñá‰ª∂Ôºâ## ‰∫ÜËß£dockerÂπ∂‰∏îÂø´ÈÄüÈÖçÁΩÆRabbitMQ### DockerÊòØ‰ªÄ‰πàÔºü  DockerÊòØ‰∏Ä‰∏™ÂºÄÊ∫êÁöÑÂ∫îÁî®ÂÆπÂô®ÂºïÊìéÔºå‰Ω†ÂèØ‰ª•Â∞ÜÂÖ∂ÁêÜËß£‰∏∫‰∏Ä‰∏™ËΩªÈáèÁ∫ßÁöÑËôöÊãüÊú∫ÔºåÂºÄÂèëËÄÖÂèØ‰ª•ÊâìÂåÖ‰ªñ‰ª¨ÁöÑÂ∫îÁî®‰ª•Âèä‰æùËµñÂåÖÂà∞‰∏Ä‰∏™ÂèØÁßªÊ§çÁöÑÂÆπÂô®‰∏≠ÔºåÁÑ∂ÂêéÂèëÂ∏ÉÂà∞‰ªª‰ΩïÊµÅË°åÁöÑLinuxÊú∫Âô®‰∏äÔºåÂè™Ë¶ÅÊúâ‰∫ÜDockerÔºåÁî®Êà∑‰æø‰∏çÂú®ÈúÄË¶Å‰∏∫Ëøô‰∫õÂ∫îÁî®ÈÖçÁΩÆÂÖ∂ÊâÄÈúÄÁöÑÁâπÊúâÁéØÂ¢É‰∫ÜÔºå‰πü‰∏çÈúÄË¶Å‰∏∫Ëøô‰∫õÂ∫îÁî®Áªü‰∏ÄÁéØÂ¢É‰∫Ü  ### ‰∏∫‰ªÄ‰πàË¶Å‰ΩøÁî®DockerÔºåDockerÁöÑÂ•ΩÂ§ÑÊòØ‰ªÄ‰πàÔºü  ÂèØ‰ª•ËÆ§‰∏∫DockerÊòØ‰∏Ä‰∏™ÈÄöÁî®ÂÆâË£ÖÁ®ãÂ∫èÔºåÁÆÄÂçïÊù•ËØ¥ÔºåÂà©Áî®DockerÂÆπÂô®ÔºåÂèØ‰ª•Â∞Ü‰ªª‰Ωï‰∏Ä‰∏™ÊàñËÄÖÂ§ö‰∏™Á®ãÂ∫èÂ∞ÅË£ÖËµ∑Êù•ÔºåÂπ∂Êèê‰æõÊ†áÂáÜÁöÑÁÆ°ÁêÜÊé•Âè£ÔºåÂõ†‰∏∫‰ΩøÁî®‰∫ÜÂÆπÂô®ÔºåÊâÄ‰ª•ÂèØ‰ª•ÂæàÊñπ‰æøÁöÑÊääÁîü‰∫ßÁéØÂ¢ÉÂíåÂºÄÂèëÁéØÂ¢ÉÂàÜÂºÄÔºå‰∫í‰∏çÂΩ±ÂìçÔºåËøôÊ†∑ÔºåÂºÄÂèë‰∫∫ÂëòË¥üË¥£Áª¥Êä§ÂÜÖÂÆπÔºåÂπ∂‰ΩøÁî®DockerËøõË°åÂ∞ÅË£ÖÔºåÁ≥ªÁªüÁÆ°ÁêÜ‰∫∫ÂëòÂà©Áî®DockerÁöÑÊ†áÂáÜÊé•Âè£ËøõË°åÈÉ®ÁΩ≤ÂíåÁÆ°ÁêÜ„ÄÇDockerÁöÑ‰∏ªË¶ÅÁî®ÈÄîÔºåÁõÆÂâçÊúâ‰∏âÂ§ßÁ±ª„ÄÇ  1ÔºâÊèê‰æõ‰∏ÄËá¥ÊÄßÁöÑÁéØÂ¢É„ÄÇÊØîÂ¶ÇÔºåÊú¨Âú∞ÊµãËØï‰ªñ‰∫∫ÁöÑËΩØ‰ª∂„ÄÅÊåÅÁª≠ÈõÜÊàêÁöÑÊó∂ÂÄôÊèê‰æõÂçïÂÖÉÊµãËØïÂíåÊûÑÂª∫ÁéØÂ¢É„ÄÇ  2ÔºâÊèê‰æõÂºπÊÄßÁöÑ‰∫ëÊúçÂä°„ÄÇÂõ†‰∏∫DockerÂÆπÂô®ÂèØ‰ª•ÈöèÂºÄÈöèÂÖ≥ÔºåÂæàÈÄÇÂêàÂä®ÊÄÅÊâ©ÂÆπÂíåÁº©ÂÆπ„ÄÇ  3ÔºâÁªÑ‰ª∂ÂæÆÊúçÂä°Êû∂ÊûÑÔºåÈÄöËøáÂ§ö‰∏™ÂÆπÂô®Ôºå‰∏ÄÂè∞Êú∫Âô®ÂèØ‰ª•Ë∑ëÂ§ö‰∏™ÊúçÂä°ÔºåÂõ†Ê≠§Âú®Êú¨Êú∫Â∞±ÂèØ‰ª•Ê®°ÊãüÂá∫ÂæÆÊúçÂä°Êû∂ÊûÑ„ÄÇ### ‰∏Ä„ÄÅDockerÂÆâË£Ö   CentOS  1„ÄÅÊõ¥Êñ∞updateÂà∞ÊúÄÊñ∞ÁöÑÁâàÊú¨  yum update  2„ÄÅÂÆâË£Ödocker  yum -y install docker  3„ÄÅÂêØÂä®docker  systemctl start docker  4„ÄÅÂä†ÂÖ•ÂºÄÂêØËá™ÂêØ  systemctl enable docker### ‰∫å„ÄÅDockerÂèÇÊï∞ËØ¥Êòé  ÂêØÂä®‰ºöËá™Âä®ÊêúÁ¥¢ rabbitMQ]]></content>
      <categories>
        
      </categories>
      <tags>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[Php Config]]></title>
      <url>/2024/03/10/php-config/</url>
      <content type="text"><![CDATA[./configure  --prefix=/usr/local/php7-15 --enable-opcache --with-config-file-path=/usr/local/php7-15/etc --with-mysql=mysqlnd --with-mysqli=mysqlnd --with-pdo-mysql=mysqlnd --enable-fpm --enable-fastcgi --enable-static --enable-inline-optimization --enable-sockets --enable-wddx --enable-zip --enable-calendar --enable-bcmath --enable-soap --with-zlib --with-iconv=/usr/local --with-gd --with-xmlrpc --enable-mbstring --without-sqlite --with-curl --enable-ftp --with-freetype-dir=/usr/local/Cellar/freetype/2.12.1 --with-jpeg-dir=/usr/local/Cellar/jpeg-turbo/2.1.4 --with-webp-dir=/usr/local/Cellar/webp/1.2.4 --with-xpm-dir=/usr/local/Cellar/libxpm/3.5.14 --with-png-dir=/usr/local/Cellar/libpng/1.6.39 --with-zlib-dir=/usr/local/Cellar/zlib/1.2.13 --with-iconv=/usr/local/Cellar/libiconv/1.17 --disable-ipv6 --disable-debug --disable-maintainer-zts --disable-safe-mode --disable-fileinfochmod -R 7777 ./index.html ./caches ./html ./uploadfile ./phpsso_server/caches ./phpsso_server/uploadfilecd /home/zhaoqhu/php-srcwget https://www.php.net/distributions/php-7.4.16.tar.gztar -zxvf ./php-7.4.16.tar.gzexport PKG_CONFIG_PATH="/usr/local/opt/libedit/lib/pkgconfig"export PKG_CONFIG_PATH="/usr/local/opt/libsodium/lib/pkgconfig"./configure \‚Äìwith-iconv=/usr/local/opt/libiconv \‚Äìenable-fpm \‚Äìprefix=/usr/local/php7-416 \‚Äìwith-config-file-path=/usr/local/php7-416/etc \‚Äìwith-config-file-scan-dir=/usr/local/php7-416/etc/conf.d \‚Äìenable-option-checking=fatal \‚Äìwith-mhash \‚Äìwith-pic \‚Äìenable-ftp \‚Äìenable-mbstring \‚Äìenable-mysqlnd \‚Äìwith-password-argon2 \‚Äìwith-sodium \‚Äìwith-curl \‚Äìwith-libedit \‚Äìwith-openssl \‚Äìwith-zlib \‚Äìwith-pear \‚Äìwith-fpm-user=www-data \‚Äìwith-fpm-group=www-data \‚Äìdisable-cgi \# Êâ©Â±ïÂÆâË£Ö## apcu/usr/local/php7-416/bin/php/usr/local/php7-416/sbin/php-fpm./pecl install apcush-3.2# ../../php7-416/bin/pecl install apcu../../php7-416/bin/pecl install https://pecl.php.net/get/apcu-5.1.22.tgzcp ~zhaoqinghu/Desktop/83-2000/etc/php/conf.d/docker-php-ext-apcu.ini ./## bcmath/usr/local/php7-416/bin/phpize./configure   ‚Äìwith-php-config=/usr/local/php7-416/bin/php-configmakemake installcp ~zhaoqinghu/Desktop/83-2000/etc/php/conf.d/docker-php-ext-bcmath.ini ./killall -9 php-fpm## exif/usr/local/php7-416/bin/phpize./configure   ‚Äìwith-php-config=/usr/local/php7-416/bin/php-configmake &amp;&amp; make installsh-3.2# cp ~zhaoqinghu/Desktop/83-2000/etc/php/conf.d/docker-php-ext-exif.ini ./sh-3.2# killall -9 php-fpmsh-3.2# /usr/local/php7-416/sbin/php-fpm## gdcd ext/gd//usr/local/php7-416/bin/phpize./configure   ‚Äìwith-php-config=/usr/local/php7-416/bin/php-config ‚Äìwith-freetypemake &amp;&amp; make installcp ~zhaoqinghu/Desktop/83-2000/etc/php/conf.d/docker-php-ext-gd.ini ./## gmpcd ext/gmp//usr/local/php7-416/bin/phpize./configure   ‚Äìwith-php-config=/usr/local/php7-416/bin/php-configchecking for __gmpz_rootrem in -lgmp‚Ä¶ noconfigure: error: GNU MP Library version 4.2 or greater required.brew install gmpmake &amp;&amp; make installsh-3.2# cp ~zhaoqinghu/Desktop/83-2000/etc/php/conf.d/docker-php-ext-gmp.ini ./sh-3.2# killall -9 php-fpmsh-3.2# /usr/local/php7-416/sbin/php-fpm## imageickhttps://pecl.php.net/get/imagick-3.7.0.tgzsh-3.2# pwd/usr/local/php-src-7.4.16/pecl-srcsh-3.2# cp ~zhaoqinghu/Downloads/imagick-3.7.0.tgz ./sh-3.2# /usr/local/php7-416/bin/pecl install imagick-3.7.0.tgz 33 source files, buildingconfigure: error: not found. Please provide a path to MagickWand-config or Wand-config program.ERROR: `/private/var/tmp/pear/temp/imagick/configure ‚Äìwith-php-config=/usr/local/php7-416/bin/php-config ‚Äìwith-imagick‚Äô failedbrew install imagemagicksh-3.2# cp ~zhaoqinghu/Desktop/83-2000/etc/php/conf.d/docker-php-ext-imagick.ini ./sh-3.2# killall -9 php-fpmsh-3.2# /usr/local/php7-416/sbin/php-fpm## intlÂÆâË£ÖÂ§±Ë¥•cd intl/usr/local/php7-416/bin/phpize./configure   ‚Äìwith-php-config=/usr/local/php7-416/bin/php-configchecking for icu-uc &gt;= 50.1 icu-io icu-i18n‚Ä¶ noconfigure: error: Package requirements (icu-uc &gt;= 50.1 icu-io icu-i18n) were not met:export PKG_CONFIG_PATH=‚Äù$PKG_CONFIG_PATH:/usr/local/opt/icu4c/lib/pkgconfig‚Äù./configure   ‚Äìwith-php-config=/usr/local/php7-416/bin/php-configmake &amp;&amp; make install## ldap/usr/local/php7-416/bin/phpize./configure   ‚Äìwith-php-config=/usr/local/php7-416/bin/php-config ‚Äìwith-ldap=/usr/local/opt/openldapbrew install openldapexport PKG_CONFIG_PATH=‚Äù$PKG_CONFIG_PATH:/usr/local/opt/openldap/lib/pkgconfig‚Äùexport LDFLAGS=‚Äù-L/usr/local/opt/openldap/lib‚Äùexport CPPFLAGS=‚Äù-I/usr/local/opt/openldap/include‚Äùsh-3.2# cp ~zhaoqinghu/Desktop/83-2000/etc/php/conf.d/docker-php-ext-ldap.ini ./sh-3.2# killall -9 php-fpmsh-3.2# /usr/local/php7-416/sbin/php-fpm## memcachedÂÆâË£ÖÈîôËØØhttps://pecl.php.net/get/memcached-3.2.0.tgzcp ~zhaoqinghu/Downloads/memcached-3.2.0.tgz ./-3.2# cp ~zhaoqinghu/Downloads/memcached-3.2.0.tgz ./sh-3.2# /usr/local/php7-416/bin/pecl install memcached-3.2.0.tgz## opcache/usr/local/php7-416/bin/phpize./configure   ‚Äìwith-php-config=/usr/local/php7-416/bin/php-configmake &amp;&amp; make installcp ~zhaoqinghu/Desktop/83-2000/etc/php/conf.d/docker-php-ext-opcache.ini ./killall -9 php-fpm/usr/local/php7-416/sbin/php-fpm## pcntl/usr/local/php7-416/bin/phpize./configure   ‚Äìwith-php-config=/usr/local/php7-416/bin/php-configmake &amp;&amp; make installsh-3.2# cp ~zhaoqinghu/Desktop/83-2000/etc/php/conf.d/docker-php-ext-pcntl.ini ./sh-3.2# killall -9 php-fpmsh-3.2# /usr/local/php7-416/sbin/php-fpm## pdo_mysql/usr/local/php7-416/bin/phpize./configure   ‚Äìwith-php-config=/usr/local/php7-416/bin/php-configmake &amp;&amp; make install## pdo_pgsqlÊöÇÊó∂‰∏çÂÆâË£Ö## redishttps://pecl.php.net/get/redis-5.3.7.tgzsh-3.2# cp ~zhaoqinghu/Downloads/redis-5.3.7.tgz ./sh-3.2# /usr/local/php7-416/bin/pecl install redis-5.3.7.tgz 31 source files, buildingsh-3.2# cp ~zhaoqinghu/Desktop/83-2000/etc/php/conf.d/docker-php-ext-redis.ini ./sh-3.2# killall -9 php-fpmsh-3.2# /usr/local/php7-416/sbin/php-fpmsh-3.2### sodium/usr/local/php7-416/bin/phpize./configure   ‚Äìwith-php-config=/usr/local/php7-416/bin/php-configmake &amp;&amp; make install## zipbrew install libzipzhaoqinghu@zhaoqinghudeMacBook-Pro no-debug-non-zts-20190902 % chmod -R 777 /usr/local/lib/cmake chmod: Unable to change file mode on /usr/local/lib/cmake: Operation not permittedchmod: Unable to change file mode on /usr/local/lib/cmake/libxml2: Operation not permittedchmod: Unable to change file mode on /usr/local/lib/cmake/libxml2/libxml2-config.cmake: Operation not permittedzhaoqinghu@zhaoqinghudeMacBook-Pro no-debug-non-zts-20190902 % sudo chmod -R 777 /usr/local/lib/cmakezhaoqinghu@zhaoqinghudeMacBook-Pro no-debug-non-zts-20190902 %  brew link libzip                   Linking /usr/local/Cellar/libzip/1.9.2‚Ä¶ 135 symlinks created./usr/local/php7-416/bin/phpize./configure   ‚Äìwith-php-config=/usr/local/php7-416/bin/php-configmake &amp;&amp; make installsh-3.2# cp ~zhaoqinghu/Desktop/83-2000/etc/php/conf.d/docker-php-ext-zip.ini ./sh-3.2# killall -9 php-fpmsh-3.2# /usr/local/php7-416/sbin/php-fpm## mysqlicd mysqli/ /usr/local/php7-416/bin/phpize ./configure   ‚Äìwith-php-config=/usr/local/php7-416/bin/php-config  make &amp;&amp; make install## xdebugsh-3.2# /usr/local/php7-416/bin/pecl install xdebug-3.2.0.tgz pecl/xdebug requires PHP (version &gt;= 8.0.0, version &lt;= 8.2.99), installed version is 7.4.16No valid packages foundinstall failedsh-3.2# cp ~zhaoqinghu/Downloads/xdebug-3.1.5.tgz ./sh-3.2# /usr/local/php7-416/bin/pecl install xdebug-3.1.5.tgz 93 source files, buildingrunning: phpizeConfiguring for:PHP Api Version:         20190902Zend Module Api No:      20190902Zend Extension Api No:   320190902sh-3.2# cat docker-php-ext-xdebug.ini zend_extension=xdebugxdebug.remote_handler = dbgpxdebug.remote_connect_back = 0xdebug.idekey = dockerxdebug.mode = debugxdebug.start_with_request = yesxdebug.client_port = 9003xdebug.client_host = 127.0.0.1xdebug.log = /tmp/xdebug.log```ÂèÇËÄÉËµÑÊñôhttps://blog.csdn.net/ligaofeng/article/details/105819374https://www.liuvv.com/p/ad42ac48.htmlhttps://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles/https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles/icu4c-71.1.big_sur.bottle.tar.gz]]></content>
      <categories>
        
      </categories>
      <tags>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[Rabbitmq]]></title>
      <url>/2022/12/06/rabbitmq/</url>
      <content type="text"><![CDATA[MacÂÆâË£Örabbitmq‰ΩøÁî®homebrewÂÆâË£Öbrew updatebrew install rabbitmqÂêØÂä®rabbitmqÊúçÂä°% pwd/usr/local/Cellar/rabbitmq/3.11.4/sbin% lsrabbitmq-defaults	rabbitmq-queues		rabbitmq-upgraderabbitmq-diagnostics	rabbitmq-server		rabbitmqadminrabbitmq-env		rabbitmq-streams	rabbitmqctlrabbitmq-plugins	rabbitmq-tanzu% /usr/local/Cellar/rabbitmq/3.11.4/sbin/rabbitmq-server # ÂêØÂä®ÊúçÂä°ÂêØÂä®management Êèí‰ª∂ÁΩëÈ°µÁÆ°ÁêÜÂô®% /usr/local/Cellar/rabbitmq/3.11.4/sbin/rabbitmq-plugins enable rabbitmq_managementËÆøÈóÆManagementhttp://localhost:15672/ÈªòËÆ§Ë¥¶Âè∑:guestÈªòËÆ§ÂØÜÁ†Å:guestphpÂÆâË£ÖamqpÊâ©Â±ïamqpÊâ©Â±ï‰æùËµñrabbitmq-chomebrewÂÆâË£Örabbitmq-cbrew install rabbitmq-cÁî±‰∫éÂõΩÂÜÖÁΩëÁªúÂéüÂõ†Ôºå‰ΩøÁî®peclÂú®Á∫øÂÆâË£ÖÂèØËÉΩ‰ºöÂ§±Ë¥•ÔºåÂ¶ÇÊûúÂ§±Ë¥•ÂèØ‰ª•ÂÖàÂ∞ÜÂÆâË£ÖÂåÖÁé∞Âú®Âà∞Êú¨Âú∞ÔºåÁÑ∂ÂêéÂú®‰ΩøÁî®Êú¨Âú∞ÁöÑÂÆâË£ÖÂåÖ‰∏ãËΩΩcurl -O https://pecl.php.net/get/amqp-1.11.0.tgz% pwd/usr/local/php7-15/bin% ./pecl install /Users/zhaoqinghu/Downloads/amqp-1.11.0.tgz% Set the path to librabbitmq install prefix [autodetect] : /usr/local/Cellar/rabbitmq-c/0.11.0 #ËæìÂÖ•rabbitmq-cÁöÑÂÆâË£Ö‰ΩçÁΩÆInstalling '/usr/local/php7-15/lib/php/extensions/no-debug-non-zts-20160303/amqp.so'install ok: channel://pecl.php.net/amqp-1.11.0configuration option "php_ini" is not set to php.ini locationYou should add "extension=amqp.so" to php.inish-3.2#ÂèÇËÄÉËµÑÊñôhttps://www.rabbitmq.com/install-homebrew.htmlhttps://formulae.brew.sh/formula/rabbitmq#default]]></content>
      <categories>
        
      </categories>
      <tags>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[rabbitmqÁîü‰∫ßËÄÖÂíåÊ∂àË¥πËÄÖ]]></title>
      <url>/%E4%B8%AD%E9%97%B4%E4%BB%B6/2022/12/03/amqp/</url>
      <content type="text"><![CDATA[ÁªÑ‰ª∂Èó¥ÂÖ≥Á≥ª‰∏éÂçè‰ΩúÊµÅÁ®ã‚ÄãÊ∂àÊÅØÂèëÈÄÅÊµÅÁ®ã‚Äã‚Äã  Áîü‰∫ßËÄÖÂª∫Á´ãËøûÊé•ÂíåÈÄöÈÅì‚Äã‚Äã  Áîü‰∫ßËÄÖ‚Äã‚ÄãÂ£∞Êòé‰∫§Êç¢Êú∫ÔºàÂ¶Ç order_exchangeÔºâÂíåÈòüÂàóÔºàÂ¶Ç order_queueÔºâ„ÄÇ  Áîü‰∫ßËÄÖ‚Äã‚ÄãÈÄöËøá queueBindÂ∞ÜÈòüÂàóÁªëÂÆöÂà∞‰∫§Êç¢Êú∫ÔºåÊåáÂÆöË∑ØÁî±ÈîÆÔºàÂ¶Ç order.createdÔºâ„ÄÇ  Áîü‰∫ßËÄÖ‚Äã‚ÄãÊûÑÈÄ†Ê∂àÊÅØÔºåËÆæÁΩÆË∑ØÁî±ÈîÆÂíåÂÖÉÊï∞ÊçÆ„ÄÇ  Áîü‰∫ßËÄÖ‚Äã‚ÄãÈÄöËøá basicPublishÂ∞ÜÊ∂àÊÅØÂèëÈÄÅÂà∞‰∫§Êç¢Êú∫„ÄÇ  ‰∫§Êç¢Êú∫‚Äã‚ÄãÊ†πÊçÆË∑ØÁî±ÈîÆÂíåÁªëÂÆöËßÑÂàôÔºåÂ∞ÜÊ∂àÊÅØË∑ØÁî±Âà∞ÁõÆÊ†áÈòüÂàó„ÄÇ  ÊÅØÊåÅ‰πÖÂåñÂ≠òÂÇ®Âú®ÈòüÂàó‰∏≠ÔºåÁ≠âÂæÖÊ∂àË¥πËÄÖÊ∂àË¥π„ÄÇ‚Äã‚ÄãÊ∂àÊÅØÊ∂àË¥πÊµÅÁ®ã‚Äã‚Äã  Ê∂àË¥πËÄÖÂª∫Á´ãËøûÊé•ÂíåÈÄöÈÅì  ‚ÄãÊ∂àË¥πËÄÖ‚Äã‚ÄãÂ£∞ÊòéÈòüÂàóÔºàÁ°Æ‰øùÈòüÂàóÂ≠òÂú®Ôºâ„ÄÇ  ‚ÄãÊ∂àË¥πËÄÖ‚Äã‚ÄãÈÄöËøá basicConsumeËÆ¢ÈòÖÈòüÂàóÔºåÁõëÂê¨Ê∂àÊÅØ„ÄÇ  Ê∂àÊÅØÂà∞ËææÈòüÂàóÂêéÔºåBroker Êé®ÈÄÅÊàñÊ∂àË¥πËÄÖÊãâÂèñÊ∂àÊÅØ„ÄÇ  ‚ÄãÊ∂àË¥πËÄÖ‚Äã‚ÄãÂ§ÑÁêÜÊ∂àÊÅØÔºåÂèëÈÄÅÁ°ÆËÆ§ÔºàACKÔºâÊàñÊãíÁªùÔºàNACKÔºâ„ÄÇ  Ê∂àÊÅØÁ°ÆËÆ§Âêé‰ªéÈòüÂàóÂà†Èô§ÔºåÊàñÊ†πÊçÆÈÖçÁΩÆÈáçÊñ∞ÂÖ•Èòü„ÄÇÊ∂àÊÅØÁîü‰∫ßËÄÖ-‰∫§Êç¢Êú∫-topic&lt;?php$connArgs = array(     'host'=&gt;'localhost',    'port'=&gt; '5672',    'login'=&gt;'guest',    'password'=&gt;'guest',    'vhost' =&gt;'/');$conn = new AMQPConnection($connArgs);$conn-&gt;connect();$channel = new AMQPChannel($conn);$eName = 'e.zhaoqhu.topic'; //‰∫§Êç¢Êú∫Âêç //$q_name = 'q_linvo'; //Êó†ÈúÄÈòüÂàóÂêç $routeKey = 'route.key.zhaoqhu.login.error'; //Ë∑ØÁî±key $routeKeyB = 'route.key.zhaoqhu.mail.error'; //Ë∑ØÁî±key $routeKeyC = 'route.key.zhaoqhu.register.error';//ÂàõÂª∫‰∫§Êç¢Êú∫ÂØπË±°    $ex = new AMQPExchange($channel);   $ex-&gt;setName($eName);//ËÆæÁΩÆ‰∫§Êç¢Êú∫Á±ªÂûã//$ex-&gt;setType(AMQP_EX_TYPE_DIRECT);$ex-&gt;setType(AMQP_EX_TYPE_TOPIC);//Êï∞ÊçÆÊåÅ‰πÖÂåñÁ±ªÂûã$ex-&gt;setFlags(AMQP_DURABLE);//var_dump($ex);die;//date_default_timezone_set("Asia/Shanghai");//ÂèëÈÄÅÊ∂àÊÅØfor($i=0; $i&lt;5; ++$i){     sleep(0.1);//‰ºëÁú†1Áßí    //Ê∂àÊÅØÂÜÖÂÆπ     //$message = "Hello Rabbitmq zhaoqhu route.key.zhaoqhu.register.error 2222!".date("h:i:sa");    $message = [        'exchange'=&gt;'e.zhaoqhu.topic',        'routeKey'=&gt;'route.key.zhaoqhu.register.error',        'msg'=&gt;'hello2222route.key.zhaoqhu.register.error'    ];    $message = json_encode($message);   // echo "Send Message:".$ex-&gt;publish($message, $routeKeyC)."\n";  //    content_type	 	text/plain// content_encoding	 	NULL// message_id	 	NULL// user_id	 	NULL// app_id	 	NULL// delivery_mode	 	NULL// priority	 	NULL// timestamp	 	NULL// expiration	 	NULL// type	 	NULL// reply_to    $attr = ['content_type'=&gt;'text/plain',   'content_encoding'=&gt;'utf-8',   'message_id'=&gt;100,   'user_id'=&gt;"guest",   //'app_id'=&gt;'',   //'delivery_mode'=&gt;'',   //'priority'=&gt;'',   //'timestamp'=&gt;'',   //'expiration'=&gt;'',   //'type'=&gt;'',   //'reply_to'=&gt;'',   ];   echo "Send Message:".$ex-&gt;publish($message, $routeKeyC,AMQP_MANDATORY,$attr)."\n";  } die;for($i=0; $i&lt;5; ++$i){     sleep(0.1);//‰ºëÁú†1Áßí    //Ê∂àÊÅØÂÜÖÂÆπ     $message = "Hello Rabbitmq zhaoqhu route.key.zhaoqhu.login.error 2222!".date("h:i:sa");       echo "Send Message:".$ex-&gt;publish($message, $routeKey)."\n";  } for($i=0; $i&lt;5; ++$i){     sleep(0.1);//‰ºëÁú†1Áßí    //Ê∂àÊÅØÂÜÖÂÆπ     $message = "Hello Rabbitmq zhaoqhu route.key.zhaoqhu.mail.error 2222!".date("h:i:sa");       echo "Send Message:".$ex-&gt;publish($message, $routeKeyB)."\n";  } $conn-&gt;disconnect();echo "sucess:end";?&gt;Ê∂àÊÅØÊ∂àË¥πËÄÖ&lt;?php$connArgs = array(     'host'=&gt;'localhost',    'port'=&gt; '5672',    'login'=&gt;'guest',    'password'=&gt;'guest',    'vhost' =&gt;'/');$e_name = 'e.zhaoqhu.topic'; //‰∫§Êç¢Êú∫Âêç $q_name = 'q.zhaoqhu'; //ÈòüÂàóÂêç $k_route = 'route.key.zhaoqhu.login.error'; //Ë∑ØÁî±key $k_route = '#.error'; //Ë∑ØÁî±key  //ÂàõÂª∫ËøûÊé•Âíåchannel $conn = new AMQPConnection($connArgs);   if (!$conn-&gt;connect()) {       die("Cannot connect to the broker!\n");   }   $channel = new AMQPChannel($conn);    //ÂàõÂª∫‰∫§Êç¢Êú∫    $ex = new AMQPExchange($channel);   $ex-&gt;setName($e_name); $ex-&gt;setType(AMQP_EX_TYPE_TOPIC); //topicÁ±ªÂûã  $ex-&gt;setFlags(AMQP_DURABLE); //ÊåÅ‰πÖÂåñ try {   // echo "Exchange Status:".$ex-&gt;declare()."\n";     echo "Exchange Status:".$ex-&gt;declareExchange()."\n";  } catch (\Throwable $th) {    var_dump(1111,$th-&gt;getMessage());die;}    //ÂàõÂª∫ÈòüÂàó    $q = new AMQPQueue($channel); $q-&gt;setName($q_name);   $q-&gt;setFlags(AMQP_DURABLE); //ÊåÅ‰πÖÂåñ  //echo "Message Total:".$q-&gt;declare()."\n";   echo "Message Total:".$q-&gt;declareQueue()."\n";    //ÁªëÂÆö‰∫§Êç¢Êú∫‰∏éÈòüÂàóÔºåÂπ∂ÊåáÂÆöË∑ØÁî±ÈîÆ echo 'Queue Bind: '.$q-&gt;bind($e_name, $k_route)."\n";  //ÈòªÂ°ûÊ®°ÂºèÊé•Êî∂Ê∂àÊÅØ echo "Message:\n";   while(True){     $q-&gt;consume('processMessage');    //$q-&gt;consume('processMessage', AMQP_AUTOACK); //Ëá™Âä®ACKÂ∫îÁ≠î      sleep(1);} $conn-&gt;disconnect();/** * Ê∂àË¥πÂõûË∞ÉÂáΩÊï∞ * Â§ÑÁêÜÊ∂àÊÅØ */ function processMessage($envelope, $queue) {     $msg = $envelope-&gt;getBody();     echo $msg."\n"; //Â§ÑÁêÜÊ∂àÊÅØ     $queue-&gt;ack($envelope-&gt;getDeliveryTag()); //ÊâãÂä®ÂèëÈÄÅACKÂ∫îÁ≠î }?&gt;ÂèÇËÄÉËµÑÊñôhttp://docs.php.net/manual/da/book.amqp.php]]></content>
      <categories>
        
          <category> ‰∏≠Èó¥‰ª∂ </category>
        
      </categories>
      <tags>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[mysqlÂêØÂä®]]></title>
      <url>/2021/11/14/mysql-init/</url>
      <content type="text"><![CDATA[Êü•ÁúãmysqlÈÖçÁΩÆÊñá‰ª∂/usr/local/Cellar/mysql/5.6.23/bin/mysql            /usr/local/Cellar/mysql/5.6.23/bin/mysql ‚Äìhelp      grep ‚Äòmy.cnf‚Äô      cat /usr/local/etc/my.cnf;            ps aux      grep mysql      grep ‚Äòmy.cnf‚Äô      ]]></content>
      <categories>
        
      </categories>
      <tags>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[php‰ΩøÁî®kafka]]></title>
      <url>/php/2021/09/12/php-kafka/</url>
      <content type="text"><![CDATA[  kafkaÂü∫Á°ÄÊû∂ÊûÑÂíåÊ∂àÊÅØÈòüÂàóÂéüÁêÜÂâñÊûê  Áîü‰∫ßËÄÖ‰∏éÊ∂àË¥πËÄÖÊ®°ÂºèÂéüÁêÜËß£ËØª  kafka flollwerÂ¶Ç‰Ωï‰∏éleaderÂêåÊ≠•Êï∞ÊçÆÔºü  Â¶Ç‰Ωï‰øùËØÅÊ∂àÊÅØÁöÑÂπÇÁ≠âÊÄß„ÄÅÁ°ÆËÆ§Ê∂àË¥πÔºåÈÅøÂÖçÈáçÂ§çÊ∂àË¥π  kafkaÁöÑÁ°ÆËÆ§Êú∫Âà∂ÊòØÂ¶Ç‰Ωï‰øùËØÅÁöÑ  ÂøÖÂ§ákafkaÈ´òÂèØÁî®ÈõÜÁæ§Êê≠Âª∫ÊñπÊ°àzookeeper ServerkafkaÈòüÂàó‰ΩøÁî®Âú∫ÊôØ‰∫¨‰∏ú618ÔºåÁßíÊùÄÂú∫ÊôØ„ÄÇÈòüÂàóÁöÑ‰ΩúÁî®Ëß£ËÄ¶Á≥ªÁªüÔºåÂºÇÊ≠•ÔºåÈôêÊµÅÔºåÊ∂àÂ≥∞„ÄÇÊúçÂä°Âô®ÁöÑÊÄßËÉΩÔºå10w qps618Ê¥ªÂä®Êó∂ËææÂà∞Ôºå200w qps‰ΩøÁî®ÈòüÂàóÊää200w qpsÔºåÂàÜËß£Âà∞10w qpsÔºå‰øùÈöúÁ≥ªÁªüÊ≠£Â∏∏ÁöÑ‰ΩøÁî®„ÄÇÂºÇÊ≠•Áîü‰∫ßËÄÖ‰∏éÊ∂àË¥πËÄÖÊ®°ÂºèÂéüÁêÜËß£ËØªzookeeper Ë¥üË¥£ÁÆ°ÁêÜkafkaÈõÜÁæ§ÔºåÊØîÂ¶Çkafka1ÊåÇÊéâÔºåzookeeperË¥üË¥£Ëá™Âä®ÈìæÊé•Âà∞kafka2kafkaÁöÑÊï∞ÊçÆÈÄöËøázookeeperkafka 1kafka 2kafka 3Ê∂àÊÅØË¢´Á°ÆËÆ§Ê∂àË¥πÔºüRedis ÈòüÂàó ‰∏≠Â∞èÂûãÊ≤°ÊúâÊåÅ‰πÖÂåñÁöÑÂÜÖÂÆπ ÊÄßËÉΩÊîØÊåÅÊØèÁßí10‰∏áÁ∫ßÂà´ÂêûÂêêÈáèÊ≤°ÈóÆÈ¢ò„ÄÇkafka Â§ßÂûãÁöÑÁ≥ªÁªüÊØèÁßí25‰∏áÁ∫ßÂà´ÁöÑÂêûÂêêÈáèÊâπÈáèËØªÂÜôMMAP ÂÜÖÂ≠òÊò†Â∞Ñphp ‰ΩøÁî®kafkacomposer kafkacomposer require nmred/kafka-phpuse Kafkaclass KafkaController extends Controller{    public function Producer(){        //‰ªªÂä° Ê∂àÊÅØÂÜÖÂÆπ. ---&gt;3000 Â∞èÁå™ÁöÑËØ¶ÁªÜ‰ø°ÊÅØ ËÆ¢Âçï‰ø°ÊÅØ        $value = 'winner ÁöÑkafka';        //‰∏ªÈ¢ò        $topic = 'order1';        $config = Kafka\ProducerConfig::getInstance();        $config-&gt;setMetadataRefreshIntervalMs(metadataRefreshIntervalMs:10000);        $config-&gt;setMetadataBrokerList(list:'localhost:9092');        $config-&gt;setBrokerVersion(version:'1.0.0');        //Ê∂àÊÅØÂèØÈù†        //ÂΩìackÊ®°Âºè‰∏∫1Êó∂ÔºåÊúçÂä°Á´ØÁöÑÊ∂àÊÅØ‰ºöÊåÅ‰πÖÂåñÂèëÈÄÅÂà∞‰∏ªÂâØÊú¨leader        //ackÊ®°Âºè‰∏∫0Êó∂Ôºå‰∏ç‰ºöÁ≠âÂæÖÊ∂àÊÅØÁöÑÊåÅ‰πÖÂåñÂà∞‰∏ªÂâØÊú¨„ÄÇ        //ackÊ®°Âºè‰∏∫2Êó∂Ôºå        //ÂèØÈù†ÊÄß:2&gt;1&gt;0        //ÊÄßËÉΩ:0&gt;1&gt;2        $config-&gt;setRequiredAck(requiredAck:'1');        //ÂÆ¢Êà∑Á´ØÁîü‰∫ßÊ∂àÊÅØÁöÑÊ®°Âºè        //ÂêåÊ≠•        //ÂºÇÊ≠•        //ÂèëÂêéÂç≥Âøò        //ÊÄßËÉΩÔºöÂºÇÊ≠•&gt;ÂêåÊ≠•&gt;ÂèëÂêéÂç≥Âøò        $config-&gt;setIsAsyn(asyn:false);        $config-&gt;setProduceInterval(produceInterval:500);        $producer = new Kafka\Prodecer(function() use($value,$topic){            return [                [                    'topic'=&gt;$topic,                    'value'=&gt;$value,                    'key =&gt; '',                ]            ];        });        dump($producer);        $producer-&gt;success(function($result){            dump($result);        });    }}Ê∂àË¥πËÄÖÈ´òÁ∫ß Â¶Ç‰Ωï‰øùËØÅÊ∂àÊÅØÂèØÈù†Ê∂àË¥πÔºü  Ê∂àÊÅØ‰∏çËÉΩÂ§üË¢´‰∏¢Â§±ÔºåÊ∂àÊÅØÂ≠òÂú®„ÄÇ Áîü‰∫ßËÄÖÔºöACKÊú∫Âà∂‰ΩøÁî®ÈªòËÆ§ÂÄº1 Ê∂àË¥πËÄÖÔºöÁ°ÆËÆ§Ê∂àË¥πÂ∫èÂàóÂô® 1Ê¨°2Ê¨°3Ê¨°public function handle(){    $config = Kafka\ConsumerConfig::getInstance();    $config-&gt;setMetadataRefreshInstervalMs(metadataRefreshIntervalMs:500);    $config-&gt;setMetadataBrokerList(list:'localhost:9092');    //ÁªÑ    $config-&gt;setGroupId(groupId:'test1');    $config-&gt;setBrokerVersion(version:'1.0.0');    $config-&gt;setTopics(['order1']);    //$config-&gt;setOffsetReset('earliest);    $consumer = new Kafka\Consumer();    $consumer-&gt;start(function($topic,$part,$message){        var_dump($topic);        var_dump($part);        var_dump($message);    });}Â≠êÂâØÊú¨Ê∂àÊÅØÊï∞ÊçÆÂ∫ìÈáåÁöÑ‰∏ÄË°åÊï∞ÊçÆÁîü‰∫ßËÄÖÂèëÂ∏ÉÊ∂àÊÅØÁöÑÁ®ãÂ∫è‰∏ªÈ¢òÂàÜÂå∫ÊåáÂÆöÂàÜÂå∫‰∏çÊåáÂÆöÂàÜÂå∫ÈîÆ‰∏Ä‰∏™Ê†áËÆ∞ÂÄºÊ∂àË¥πËÄÖËÆ¢ÈòÖÊ∂àÊÅØÁöÑÁ®ãÂ∫èÂÅèÁßªÈáèÊ∂àË¥πËÄÖÊ†πÊçÆÂÅèÁßªÈáèËØªÂèñÊï∞ÊçÆbroker1‰∏ªÈ¢ò:ÂúÜËõãËõãÂàÜÂå∫0‰∏ªÈ¢ò:ÂúÜËõãËõãÂàÜÂå∫1]]></content>
      <categories>
        
          <category> PHP </category>
        
      </categories>
      <tags>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[MacÁ≥ªÁªüÊü•ÁúãÈöêËóèÊñá‰ª∂]]></title>
      <url>/mac/2021/09/12/mac-01/</url>
      <content type="text"><![CDATA[Âú®macÁ≥ªÁªü‰∏ãÔºåÈªòËÆ§Áúã‰∏çÂà∞ÈöêËóèÁöÑÁõÆÂΩïÔºåÊØîÂ¶Ç.gitÁõÆÂΩïÔºåÈÄöËøá‰∏ãÈù¢ÁöÑÊñπÊ≥ïÂèØ‰ª•ÂàáÊç¢ÊòØÂê¶ÊòæÁ§∫„ÄÇ‰ΩøÁî®Âø´Êç∑ÈîÆShift+Command+.ÂêåÊó∂Êåâ‰∏ãShiftÂíåCommandÂíå.‰∏â‰∏™ÈîÆÂàáÊç¢ÊòæÁ§∫Áä∂ÊÄÅ„ÄÇ‰ΩøÁî®ÂëΩ‰ª§Ë°åÊòæÁ§∫defaults write com.apple.finder AppleShowAllFiles TRUEkillall FinderÈöêËóèdefaults write com.apple.finder AppleShowAllFiles FALSEkillall Finder]]></content>
      <categories>
        
          <category> Mac </category>
        
      </categories>
      <tags>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[vscode ‰ΩøÁî®xdebug3.0.4Ë∞ÉËØï]]></title>
      <url>/2021/07/10/vscode-xdebug/</url>
      <content type="text"><![CDATA[vscode ÂÆâË£Ö PHP Debug Êâ©Â±ïÂ∑¶‰æßËèúÂçïÊ†èÊâ©Â±ïÂõæÊ†á=&gt;ÊêúÁ¥¢ËæìÂÖ•Ê°Ü=&gt;php debug=&gt;ÁÇπÂáªÂÆâË£Övscode ÂÆâË£Ö PHP IntelliSenseÂ∑¶‰æßËèúÂçïÊ†èÊâ©Â±ïÂõæÊ†á=&gt;ÊêúÁ¥¢ËæìÂÖ•Ê°Ü=&gt;PHP IntelliSense=&gt;ÁÇπÂáªÂÆâË£ÖphpÂÆâË£Öxdebug‰ΩøÁî®peclÂ∑•ÂÖ∑Êù•ÂÆâË£ÖxdebugÊü•ÊâæpeclÂ∑•ÂÖ∑ÁöÑ‰ΩçÁΩÆwhich pecl/usr/local/bin/pecl #peclÂ∑•ÂÖ∑ÊâÄÂú®ÁõÆÂΩï‰ΩøÁî®peclÂ∑•ÂÖ∑ÂÆâË£Öxdebugpecl install xdebugÂàõÂª∫zhaoqhu-php-ext-xdebug.inizend_extension=xdebug[xdebug]xdebug.mode = debug xdebug.start_with_request = yes xdebug.client_port = 9001 xdebug.client_host=192.168.100.226xdebug.idekey=VSCODEextension = php_screw_plusÂ§çÂà∂zhaoqhu-php-ext-xdebug.iniÊñá‰ª∂Âà∞phpÁöÑÈÖçÁΩÆÊñá‰ª∂ÁõÆÂΩï‰∏ãcp /var/www/html/zhaoqhu-php-ext-xdebug.ini /usr/local/etc/php/conf.d/Ê£ÄÊü•zhaoqhu-php-ext-xdebug.iniÊñá‰ª∂ÁöÑÂÜÖÂÆπrm -f /usr/local/etc/php/conf.d/zhaoqhu-php-ext-xdebug.inicat /usr/local/etc/php/conf.d/zhaoqhu-php-ext-xdebug.inicat /var/www/html/zhaoqhu-php-ext-xdebug.inivscode ÈÖçÁΩÆlaunch.jsonÊñá‰ª∂dockerÂÆπÂô®ÂÜÖÁöÑÁéØÂ¢ÉÊ≥®ÊÑèË¶ÅÊ∑ªÂä†pathMappingsÁöÑÈÖçÁΩÆÔºåÂÄº‰∏∫‚Äùserver‚Äù:‚Äùlocal‚Äù{    "version": "0.2.0",    "configurations": [        {            "name": "Listen for Xdebug",            "type": "php",            "request": "launch",            "port": 9001,            "pathMappings": {                "/var/www/html":"/Users/zhaoqinghu/dev_docker/nextcloud/nextcloud"            }        },        {            "name": "Launch currently open script",            "type": "php",            "request": "launch",            "program": "${file}",            "cwd": "${fileDirname}",            "port": 9001        }    ]}Ë∞ÉËØïexeccat /sys/class/dmi/id/product_uuidcat /sys/class/dmi/id/board_serialcat /sys/class/dmi/id/board_namecat /sys/class/dmi/id/cat /sys/class/net/eth0/speedcat /sys/class/net/eth0/status		$product_uuid  = shell_exec('cat /sys/class/dmi/id/product_uuid');		$board_serial  = shell_exec('cat /sys/class/dmi/id/board_serial');		$board_name  = shell_exec('cat /sys/class/dmi/id/board_name');		$product_name  = shell_exec('cat sys/class/dmi/id/product_name');		$speed  = shell_exec('cat /sys/class/net/eth0/speed');make -p /home/dmi/ &amp;&amp; cp -rf /sys/class/dmi/id/ /home/dmi/ &amp;&amp; chmod -R 777 /home/dmi/]]></content>
      <categories>
        
      </categories>
      <tags>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[Php7.4.16]]></title>
      <url>/2021/04/18/php7.4.16/</url>
      <content type="text"><![CDATA[apcubcmathCorectypecurldatedomexiffileinfofilterftpgdgmphashiconvimagickintljsonldaplibxmlmbstringmemcachedmysqlndopensslpcntlpcrePDOpdo_mysqlpdo_pgsqlpdo_sqlitePharposixreadlineredisReflectionsessionSimpleXMLsodiumSPLsqlite3standardtokenizerxmlxmlreaderxmlwriterZend OPcachezipzlib/usr/local/etc/php/conf.d/docker-php-ext-apcu.ini, /usr/local/etc/php/conf.d/docker-php-ext-bcmath.ini, /usr/local/etc/php/conf.d/docker-php-ext-exif.ini,  /usr/local/etc/php/conf.d/docker-php-ext-gd.ini,  /usr/local/etc/php/conf.d/docker-php-ext-gmp.ini,  /usr/local/etc/php/conf.d/docker-php-ext-imagick.ini,  /usr/local/etc/php/conf.d/docker-php-ext-intl.ini,  /usr/local/etc/php/conf.d/docker-php-ext-ldap.ini,  /usr/local/etc/php/conf.d/docker-php-ext-memcached.ini,  /usr/local/etc/php/conf.d/docker-php-ext-opcache.ini,  /usr/local/etc/php/conf.d/docker-php-ext-pcntl.ini,  /usr/local/etc/php/conf.d/docker-php-ext-pdo_mysql.ini,  /usr/local/etc/php/conf.d/docker-php-ext-pdo_pgsql.ini,  /usr/local/etc/php/conf.d/docker-php-ext-redis.ini,  /usr/local/etc/php/conf.d/docker-php-ext-sodium.ini,  /usr/local/etc/php/conf.d/docker-php-ext-zip.ini,  /usr/local/etc/php/conf.d/nextcloud.ini,  /usr/local/etc/php/conf.d/opcache-recommended.ini'./configure' '--build=x86_64-linux-gnu' '--with-config-file-path=/usr/local/etc/php' '--with-config-file-scan-dir=/usr/local/etc/php/conf.d' '--enable-option-checking=fatal' '--with-mhash' '--with-pic' '--enable-ftp' '--enable-mbstring' '--enable-mysqlnd' '--with-password-argon2' '--with-sodium=shared' '--with-pdo-sqlite=/usr' '--with-sqlite3=/usr' '--with-curl' '--with-libedit' '--with-openssl' '--with-zlib' '--with-pear' '--with-libdir=lib/x86_64-linux-gnu' '--with-apxs2' '--disable-cgi' 'build_alias=x86_64-linux-gnu''./configure' '--build=x86_64-linux-gnu' '--with-config-file-path=/usr/local/etc/php' '--with-config-file-scan-dir=/usr/local/etc/php/conf.d' '--enable-option-checking=fatal' '--with-mhash' '--with-pic' '--enable-ftp' '--enable-mbstring' '--enable-mysqlnd' '--with-password-argon2' '--with-sodium=shared' '--with-pdo-sqlite=/usr' '--with-sqlite3=/usr' '--with-curl' '--with-libedit' '--with-openssl' '--with-zlib' '--with-pear' '--with-libdir=lib/x86_64-linux-gnu' '--with-apxs2' '--disable-cgi' 'build_alias=x86_64-linux-gnu'./configure --prefix=/usr/local/php-7.2.9 \	--with-config-file-path=/usr/local/php-7.2.9/etc \	--with-mysql=mysqlnd \	--with-mysqli=mysqlnd \	--with-pdo-mysql=mysqlnd \	--enable-fpm \	--enable-fastcgi \	--enable-static \	--enable-inline-optimization \	--enable-sockets \	--enable-wddx \	--enable-zip \	--enable-calendar \	--enable-bcmath \	--enable-soap \	--with-zlib \	--with-iconv \	--with-gd \	--with-xmlrpc \	--enable-mbstring \	--without-sqlite \	--with-curl \	--enable-ftp \	--with-mcrypt  \	--with-freetype-dir \	--with-jpeg-dir \	--with-png-dir \	--disable-ipv6 \	--disable-debug \	--with-openssl \	--disable-maintainer-zts \	--disable-safe-mode \	--disable-fileinfo]]></content>
      <categories>
        
      </categories>
      <tags>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[MacÁ≥ªÁªü‰∏ãËÆæÁΩÆÂÖ®Â±ÄÈªòËÆ§ÁöÑphpÁâàÊú¨ÂíåMysqlÁöÑÁâàÊú¨]]></title>
      <url>/php/2021/04/18/mac-default-php-mysql/</url>
      <content type="text"><![CDATA[MacÁ≥ªÁªü‰∏ãËÆæÁΩÆÂÖ®Â±ÄÈªòËÆ§ÁöÑphpÁâàÊú¨MacÁ≥ªÁªüÁâàÊú¨Mac OS big SurÔºåËøô‰∏™ÁâàÊú¨ÁöÑÁ≥ªÁªüÈªòËÆ§Ë£ÖÁöÑphpÁâàÊú¨ÊòØphp7.3.24 ,ÂèØËÉΩ‰Ω†Ëøò‰ºöÂú®Ëá™Â∑±ÁöÑÁîµËÑë‰∏äÂÆâË£ÖÂÖ∂‰ªñÁöÑphpÁâàÊú¨ÔºåÊØîÂ¶Çphp5,php7.1.5,,php7.4.16„ÄÇÂ¶ÇÊûúÁîµËÑë‰∏äÈù¢Ë£Ö‰∫ÜÂ§ö‰∏™ÁâàÊú¨ÁöÑphpÔºåÂèØ‰ª•ÊåáÂÆöÊüê‰∏Ä‰∏™ÁâàÊú¨ÁöÑphp‰∏∫ÂÖ®Â±ÄÈªòËÆ§ÁöÑÔºåÂÅáÂ¶ÇÊàë‰ª¨ËÆæÂÆöÂÖ®Â±ÄÈªòËÆ§ÁöÑphpÁâàÊú¨ÊòØphp7.1.5ÊâæÂà∞php7.1.5ÁâàÊú¨binÁõÆÂΩï‰∏ãÁöÑ‰∫åËøõÂà∂ÂèØÊâßË°åÁöÑphpÊñá‰ª∂ÊâÄÂú®ÁõÆÂΩïÁöÑË∑ØÂæÑ‰∏∫/usr/local/php7-15/bin/phpÊâæÂà∞ ~/.zshrccd ~/ls -al #ÂàóÂá∫ÁõÆÂΩï‰∏ãÈù¢ÊâÄÊúâÊñá‰ª∂‰øÆÊîπ ~/.zshrc‰ΩøÁî®Ë∂ÖÁ∫ßÁÆ°ÁêÜÂëòÁöÑÊùÉÈôêÂëΩ‰ª§ÊâìÂºÄ.zshrcÊñá‰ª∂sudo vim ~/.zshrcÂ∞Ü‰∏ãÈù¢ÁöÑËÆæÂÆöphpÂÖ®Â±ÄÂèòÈáèÁöÑÂëΩ‰ª§Á≤òË¥¥Âà∞.zshrcÊñá‰ª∂‰∏≠export PATH="/usr/local/php7-15/bin:$PATH"ÈáçÊñ∞ËΩΩÂÖ• ~/.zshrcÊñá‰ª∂ÊâßË°å‰∏ãÈù¢ÁöÑÂëΩ‰ª§ÈáçÊñ∞ËΩΩÂÖ•.zshrcÊñá‰ª∂Ôºå‰ΩøÊ∑ªÂä†ÁöÑphpÂÖ®Â±ÄÂèòÈáèÊâßË°åÊñá‰ª∂ÁîüÊïà„ÄÇsource ~/.zshrcMySQLËÆæÁΩÆÊåáÂÆöÁâàÊú¨‰∏∫ÂÖ®Â±ÄÂèòÈáèÊåáÂÆöÊñπÊ≥ïÂèØ‰ª•ÂèÇËÄÉËÆæÂÆöPHPÊåáÂÆöÁâàÊú¨‰∏∫ÂÖ®Â±ÄÂèòÈáèÁöÑÊñπÊ≥ï„ÄÇ]]></content>
      <categories>
        
          <category> PHP </category>
        
      </categories>
      <tags>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[nextcloud ymlÂÆâË£Ö]]></title>
      <url>/nextcloud/2021/03/09/nextcloud-yml/</url>
      <content type="text"><![CDATA[ÂàõÂª∫nextcloudÂÆâË£ÖÁõÆÂΩïmkdir nextcloudÂàõÂª∫mysqlÁõÆÂΩïÁî®‰∫éÊï∞ÊçÆÂç∑Êò†Â∞Ñcd ~/nextcloudmkdir mysqlÂàõÂª∫nextcloudÊñá‰ª∂ÁõÆÂΩïÁî®‰∫éÊò†Â∞Ñcd nextcloudmkdir nextcloudÂàõÂª∫docker-compose.ymlÊñá‰ª∂ÔºåÂÜÖÂÆπÂ¶Ç‰∏ãversion: '2'volumes:  nextcloud:  db:services:  db:    image: mysql    restart: always    command: --default-authentication-plugin=mysql_native_password    volumes:      - /Users/zhaoqinghu/dev_docker/nextcloud/mysql:/var/lib/mysql    environment:      - MYSQL_ROOT_PASSWORD=12345678      - MYSQL_PASSWORD=nextcloud      - MYSQL_DATABASE=nextcloud      - MYSQL_USER=nextcloud  app:    image: nextcloud    restart: always    ports:      - 7080:80    links:      - db    volumes:      - /Users/zhaoqinghu/dev_docker/nextcloud/nextcloud:/var/www/html    environment:      - MYSQL_PASSWORD=      - MYSQL_DATABASE=nextcloud      - MYSQL_USER=nextcloud      - MYSQL_HOST=db]]></content>
      <categories>
        
          <category> nextcloud </category>
        
      </categories>
      <tags>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[phpÈù¢ËØï]]></title>
      <url>/php/2021/02/05/php-ms/</url>
      <content type="text"><![CDATA[Á∫øÁ®ãÂíåËøõÁ®ãÁöÑÂå∫Âà´ÁÆÄËÄåË®Ä‰πã,‰∏Ä‰∏™Á®ãÂ∫èËá≥Â∞ëÊúâ‰∏Ä‰∏™ËøõÁ®ã,‰∏Ä‰∏™ËøõÁ®ãËá≥Â∞ëÊúâ‰∏Ä‰∏™Á∫øÁ®ãphp-fpmÊòØ‰∏Ä‰∏™‰∏ªËøõÁ®ãmasterÂíåÂ§ö‰∏™Â∑•‰ΩúËøõÁ®ãworkerÔºåÊØè‰∏™php-fpmËøõÁ®ãÊúâ‰∏Ä‰∏™Á∫øÁ®ã„ÄÇ1„ÄÅphpÁöÑÂì™‰∫õËØ≠Ë®ÄÁâπÊÄßÔºåÂú®ÂêàÈÄÇÁöÑÂú∫ÊôØÂèØ‰ª•ÊòæËëóÂáèÂ∞ëÂÜÖÂ≠òÂºÄÈîÄÔºüspltraitGeneratortype hint2„ÄÅÂØπ‰∫éphpÁöÑËá™Âä®Âä†ËΩΩÊèèËø∞Ê≠£Á°ÆÁöÑÊòØÔºüComposerÁöÑËá™Âä®Âä†ËΩΩÊòØÈÄöËøá__autoloadÂáΩÊï∞ÂÆûÁé∞Âú®Êñá‰ª∂È°∂ÈÉ®useÁöÑÊó∂ÂÄô‰ºöËΩΩÂÖ•ÂØπÂ∫îÁöÑÁ±ªËá™Âä®Âä†ËΩΩÂáΩÊï∞Âè™ÊîØÊåÅÊåâClass/Interface/TraitÂêçÂä†ËΩΩÔºå‰∏çËÉΩÊåâfunctionÂêçÂä†ËΩΩÁé∞Âú®Â§ßÂ§öÊï∞Á±ªÂ∫ìÈÉΩÈÅµÂæ™psr0ËßÑËåÉ3„ÄÅÂØπ‰∫éTraitÊèèËø∞Ê≠£Á°ÆÁöÑÊòØÂèØ‰ª•Áî®Êù•ÂáèÂ∞ëÈáçÂ§ç‰ª£Á†Å‰∏Ä‰∏™Á±ªÊó†Ê≥ïÂêåÊó∂ÂºïÂÖ•‰∏§‰∏™ÂåÖÂê´Áõ∏ÂêåÊñπÊ≥ïÁöÑTraitÂ≠êÁ±ª‰∏≠ÂºïÂÖ•ÁöÑTraitÂà©ÁöÑÊñπÊ≥ï‰ºöË¶ÜÁõñÁà∂Á±ªÁöÑÊñπÊ≥ïÂú®Trait‰∏≠‰∏çÂèØ‰ª•Ë∞ÉÁî®ÂºïÁî®Á±ªÈáåÁöÑÊñπÊ≥ï4„ÄÅ‰∏ãÂàóÂØπComposerÊèèËø∞Ê≠£Á°ÆÁöÑÊòØÊãøÂà∞‰∏Ä‰∏™ProjectÁ±ªÂûãÁöÑÈ°πÁõÆÊó∂ÔºåÈúÄË¶ÅÈÄöËøácomposer updateÊù•ÂÆâË£ÖÂØπÂ∫îÁöÑ‰æùËµñÂåÖ‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÂ∫îËØ•ÊääPHPUnitÂåÖÂê´Âú®requireÊÆµcomposer.json‰∏ç‰ªÖÂèØ‰ª•ÊåáÂÆö‰æùËµñÁöÑPHPÁ±ªÂ∫ìÔºåËøòËÉΩÊåáÂÆö‰æùËµñÁöÑPHPÊâ©Â±ïLibraryÁ±ªÂûãÁöÑÈ°πÁõÆÔºåÈúÄË¶ÅÊääcomposer.lockÊñá‰ª∂Êèê‰∫§Âà∞ÁâàÊú¨Â∫ì‰∏≠5„ÄÅÂ¶ÇÊûú‰∏Ä‰∏™ÂåÖÈÅµÂæ™Semantic VersionÔºå‰∏ãÂàóÂì™‰∫õÁâàÊú¨ÂçáÁ∫ßÂ§ßÊ¶ÇÁéá‰∏ç‰ºöÂá∫ÈóÆÈ¢ò6„ÄÅÊåâÁÖßRESTFulÁöÑËßÑËåÉÔºå‰øÆÊîπÊñáÁ´†ÁöÑÂ±ïÁ§∫ÈöêËóèÂ∫îËØ•‰ΩøÁî®Âì™‰∏ÄÁßçË∑ØÁî±7„ÄÅÈÄöÂ∏∏‰ΩøÁî®ËøáÊª§ÁâπÊÆäÂ≠óÁ¨¶ÁöÑÊñπÂºèÊù•ÈÅøÂÖçSQLÊ≥®ÂÖ•8„ÄÅÂè™Ë¶ÅÈ°πÁõÆ‰∏≠‰ΩøÁî®‰∫ÜPDOÁöÑprepareÂ∞±ËÉΩÂÆåÂÖ®ÈÅøÂÖçSQLÊ≥®ÂÖ•9„ÄÅCSRFÊîªÂáªÊòØÂõ†‰∏∫Ê≤°ÊúâÂØπÁî®Êà∑ËæìÂÖ•ËøõË°åËΩ¨‰πâÂØºËá¥ÁöÑ14„ÄÅ‰∏∫‰∫ÜÈÅøÂÖçXSSÊîªÂáªÔºåÈúÄË¶ÅÂú®ÂÜôÂÖ•Êï∞ÊçÆÂ∫ìÂâçÂØπÂÖ∂ËΩ¨‰πâÔºå‰ªéÊï∞ÊçÆÂ∫ìËØªÂèñÂêéÂèçËΩ¨‰πâ]]></content>
      <categories>
        
          <category> PHP </category>
        
      </categories>
      <tags>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[Elasticsearch Â≠¶‰π†]]></title>
      <url>/2021/02/04/Elesticsearch/</url>
      <content type="text"><![CDATA[]]></content>
      <categories>
        
      </categories>
      <tags>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[phpÈ´òÁ∫ßÊïôÁ®ã-Â§ßÂûãÁîµÂïÜÂπ≥Âè∞ÂèåÂçÅ‰∏ÄRedisÈ´òÂπ∂ÂèëÁßíÊùÄËß£ÂÜ≥ÊñπÊ°à]]></title>
      <url>/php/2021/01/28/php-redis-seckill/</url>
      <content type="text"><![CDATA[‰ΩøÁî®Âú∫ÊôØ‰ªãÁªçÁßíÊùÄÁ∫¢ÂåÖ1„ÄÅÊó∂Èó¥Áü≠„ÄÅÊï∞ÈáèÂ∞ë2„ÄÅÂ§ßÊµÅÈáè„ÄÅÈ´òÂπ∂ÂèëÊï∞ÊçÆÂÆâÂÖ®1„ÄÅ‰∏öÂä°Âú∫ÊôØ„ÄÅÈ´òÂπ∂Âèë‰ºöÂºïÂèëÈóÆÈ¢ò2„ÄÅÂéãÂäõÊµãËØïÂ∑•ÂÖ∑ÁöÑ‰ΩøÁî®3„ÄÅÊÇ≤ËßÇÈîÅ„ÄÅ‰πêËßÇÈîÅ„ÄÅluaËÑöÊú¨4„ÄÅ‰∏çÂêåÂú∫ÊôØÁöÑËß£ÂÜ≥ÊñπÊ°à2.2redis‰∏Ä‰∫õÁõ∏ÂÖ≥ÁöÑÂéüÁêÜÔºà10ÊúçÁî®„ÄÅÂéüÂ≠êÊÄßÔºâÁßíÊùÄÂú∫ÊôØÈÅáÂà∞ÁöÑÈóÆÈ¢ò1„ÄÅÂç°È°øÂ¥©Ê∫É2„ÄÅË∂ÖÂçñÔºàÂ∫ìÂ≠òÂèò‰∏∫Ë¥üÊï∞ÔºâÊ®°ÊãüÁßíÊùÄÂ∫ìÂ≠òÂè™Êúâ3‰ª∂ÁöÑÂïÜÂìÅÔºåÂ¶ÇÊûúÁî®ÂéãÂäõÊµãËØïÂ∑•ÂÖ∑ËøõË°åÊ®°Êãü500‰∫∫ËøõË°åÁßíÊùÄÁöÑÊÉÖÂÜµÔºåÊØîÂ¶ÇÂèëÈÄÅ‰∫Ü5000Ê¨°ÈìæÊé•ÔºåÂ¶ÇÊûú‰∏çÂÅöÂ§ÑÁêÜ‰∏ÄÂÆö‰ºöÂá∫Áé∞ÂïÜÂìÅË∂ÖÂçñÁöÑÊÉÖÂÜµÔºåÂÆûÈôÖÊàêÂäüÁöÑËÆ¢Âçï‰ºöÂ§ß‰∫é3‰∏™ÔºåÂïÜÂìÅÂ∫ìÂ≠ò‰ºöÂèòÊàêË¥üÊï∞ÔºåÊØîÂ¶Ç-36ÔºåÈÇ£ÂÆûÈôÖ‰∏äÊàêÂäüÁöÑËÆ¢Âçï‰ºöÊòØ39‰∏™ËÆ¢ÂçïÔºåË∂ÖÂçñ‰∫Ü36‰ª∂ÔºåËøôÊ†∑Â≠êÂ∞±ËµîÈí±‰∫Ü„ÄÇ‰ΩøÁî®ÂéãÂäõÊµãËØïÂ∑•ÂÖ∑Ê®°ÊãüÈ´òÂπ∂ÂèëÂú∫ÊôØab -n ËØ∑Ê±ÇÊï∞ -c Âπ∂ÂèëÊï∞ urlÂú∞ÂùÄab -n 500 -c 5000 http://127.0.0.1/seckill/buy.php #Ê®°Êãü500‰∏™ÂÆ¢Êà∑Á´ØÂèëÈÄÅ5000‰∏™ËØ∑Ê±ÇËß£ÂÜ≥ÂäûÊ≥ïÊï∞ÊçÆÂ∫ìÊÇ≤ËßÇÈîÅredis1„ÄÅredisÈÄüÂ∫¶Âø´ÔºàÂçïÊú∫ÁöÑËØªÂÜôÈÄüÂ∫¶ÂèØ‰ª•ËææÂà∞8‰∏áÂ∑¶Âè≥Ôºâ2„ÄÅÊï∞ÊçÆÈôêÂà∂ÊÇ≤ËßÇÈîÅÔºöÂÅáËÆæÂΩìÂâçÁöÑÊï∞ÊçÆÊìç‰Ωú‰∏ÄÂÆö‰ºöÂèëÁîüÂÜ≤Á™ÅÁöÑÔºåÂ±èËîΩ‰∏ÄÂàáÔºàË°åÈîÅ„ÄÅÊñá‰ª∂ÈîÅÔºâÂ¶ÇÊûúÁî®mysqlÁöÑË°åÈîÅ‰ºöÂØºËá¥ÈòªÂ°û„ÄÅÁ≠âÂæÖÁä∂ÊÄÅÔºå‰ºöÂ¥©Ê∫É„ÄÇÊÄßËÉΩÂ∑ÆÔºåÈÄüÂ∫¶ÊÖ¢„ÄÇ‰πêËßÇÈîÅÔºöÂÅáËÆæÂΩìÂâçÁöÑÊï∞ÊçÆ‰∏ç‰ºöÂèëÁîüÂπ∂ÂèëÂÜ≤Á™ÅÔºåÂú®ÁúüÂÜôÊï∞ÊçÆÁöÑÊó∂ÂÄôÔºåÂÜçÂéªÊ£ÄÊü•ÔºåÊúâÊ≤°ÊúâÂèëÁîüÂÜ≤Á™Å„ÄÇËãπÊûúÂïÜÂ∫óÊéíË°å20ÁöÑAppÊ∑òÂÆùÂÆ¢ÂèåÂçÅ‰∏ÄÈîÄÂîÆÈ¢ùÔºå5‰∫øÔºåÊØèÁßíÂπ∂Âèë14w]]></content>
      <categories>
        
          <category> PHP </category>
        
      </categories>
      <tags>
        
          <tag> PHP </tag>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[Redis nginx memcached]]></title>
      <url>/redis/nginx/memcached/2021/01/25/Redis-nginx-memchached/</url>
      <content type="text"><![CDATA[]]></content>
      <categories>
        
          <category> Redis </category>
        
          <category> nginx </category>
        
          <category> memcached </category>
        
      </categories>
      <tags>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[Redis Â≠¶‰π†]]></title>
      <url>/nosql/redis/2021/01/23/redis-learning/</url>
      <content type="text"><![CDATA[ÁâàÊú¨ÂΩìÂâçÊúÄÊñ∞ÁâàÊú¨ÊòØ6.0redisÂÆâË£Ö‰∏ãËΩΩÊúÄÊñ∞ÁöÑÁ®≥ÂÆöÁâàÔºåmakemake PREFIX=/usr/local/redis installcd /usr/local/redis/bin #ËøõÂÖ•redisÂÆâË£ÖÂêéÁöÑbinaryÁõÆÂΩïls #Êü•ÁúãÁõÆÂΩï‰∏ãÁöÑÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑redis-benhmark  #redisÊÄßËÉΩÊµãËØïÂ∑•ÂÖ∑redis-check-aof #Ê£ÄÊü•aofÊó•ÂøóÁöÑÂ∑•ÂÖ∑redis-check-dump #Ê£ÄÊü•rdbÊó•ÂøóÁöÑÂ∑•ÂÖ∑redis-cli #ÈìæÊé•Áî®ÁöÑÂÆ¢Êà∑Á´ØÂ∑•ÂÖ∑redis-server #redisÊúçÂä°ËøõÁ®ãÂêØÂä®Â§çÂà∂redisÊ∫êÁ†Å‰∏≠ÁöÑÈÖçÁΩÆÊñá‰ª∂cd /usr/local/rediscp /usr/local/src/redis-2.6.16/redis.conf ./ÂêØÂä®redisÊúçÂä°/usr/local/redis/bin/redis-server ./redis.onfredisÂêéÂè∞ËøêË°åÊúçÂä°‰øÆÊîπredis.conf‰∏≠ÁöÑdaemonizeÊîπ‰∏∫yes‰∫îÂ§ßValueStringÂ≠óÁ¨¶‰∏≤Á±ªÂûãÁöÑÊìç‰Ωúset key value [ex ÁßíÊï∞][px ÊØ´ÁßíÊï∞]Â¶ÇÊûú ex ÁßíÊï∞Âíåpx ÊØ´ÁßíÊï∞ÔºåÂêåÊó∂‰ΩøÁî®ÔºåÂàô‰ª•ÂêéÈù¢ÁöÑ‰∏∫ÂáÜflushdb #Ê∏ÖÁ©∫Êï∞ÊçÆset site www.zixue.itttl site #Êü•ÁúãÁîüÂëΩÂë®Êúü,ÈªòËÆ§ÁöÑÁîüÂëΩÂë®ÊúüÊòØÊ∞∏‰πÖset search www.baidu.com ex 10 px 6567pttl searchflush dbflushdb #Ê∏ÖÁ©∫Êï∞ÊçÆset site www.so.comset site www.baidu.com nx# nxÁöÑÂèÇÊï∞Ë°®Á§∫Â¶ÇÊûúÊ≤°ÊúâËøô‰∏™keyÊâçÂèØ‰ª•ÊâßË°åget site #ËøîÂõûÁªìÊûú‰æùÁÑ∂ÊòØwww.so.comset site www.google.com xx #xxÁöÑÂèÇÊï∞Ë°®Á§∫Â¶ÇÊûúÊúâËøô‰∏™keyÊâçÂèØ‰ª•ÊâßË°åget site #ËøîÂõûÂÄºÊòØwww.google.comset abc www.google.com xx#xxË°®Á§∫ÊúâËøô‰∏™keyÊâçÂèØ‰ª•ÊâßË°åmset a aman b bold c controller d diamondkeys #ËøîÂõûa„ÄÅb„ÄÅc„ÄÅdmget a b c#‰∏ÄÊ¨°Ëé∑ÂèñÂ§ö‰∏™keyflushdbset word helloget wordsetrange word 2 ??get word #ËøîÂõûÁªìÊûúhe??oset word hello setrange word 6 !get world #ËøîÂõûÁªìÊûúhello\x00!append word @@#getrange key start stopset area chinesegetrange area 1 4 Â≠óÁ¨¶‰∏≤Êï∞ÂÄº‰∫åËøõÂà∂help @StringListÈìæË°®lpush charlist arpush charlist brpush charlist blpush charlist 0lrange charlist 1 2lrange charlist 1 3lrange charlist 0 3lrange charlist 0 -1 #Êü•ÁúãÊâÄÊúâÁöÑÈìæË°®‰∏äÁöÑÂÄºlpop charlist #ÂºπÂá∫ÊúÄÂ∑¶ËæπÁöÑÂÄºÔºåÈìæË°®‰∏äÁöÑÂÄº‰ºöÊ∂àÂ§±rpop charlist #ÂºπÂá∫ÊúÄÂè≥ËæπÁöÑÂÄºÔºåÈìæË°®‰∏äÁöÑÂÄº‰ºöÊ∂àÂ§±flushdb #Ê∏ÖÁ©∫ÊâÄÊúârpush answer a b c a b d alrem answer 1 b#Âà†Èô§ÈìæË°®answer‰∏äÁöÑ‰∏Ä‰∏™blrem answer -2 a#‰ªéÈìæË°®answerÊúÄÂêéÂºÄÂßãÂà†Èô§‰∏§‰∏™afushdbrpush charlist a b c d e flrange charlist 0 -1ltrim charlist 2 5lindex charlist  0lindex charlist 1lindex charlist 2llen charlist #Êü•ÁúãÈìæË°®ÁöÑÈïøÂ∫¶lrpush num 1 3 6 8 9 #ÂàõÂª∫‰∏Ä‰∏™numÈìæË°®linsert num before 3 2 #Âú®ÈìæË°®numÂÄº3ÁöÑÂâçÈù¢Ê∑ªÂä†2linsert num after 9 10lrange num 0 -1linsert num after 99 10linsert num after 9 10flushdbrpush task a b c drpoplpush task job #Âè≥ËæπÂºπÂá∫taskÈìæË°®ÁöÑÂÄºdÂ≠òÂÇ®Âà∞ÈìæË°®dÂ∑¶Ëæπrpop job brpop job 20 #Á≠âÂæÖ20Áßí,ÂΩìÊî∂Âà∞Êñ∞ÂÄºÂêéÁªìÊùülpush job eblop job‰ΩçÂõæÊ≥ïÁªüËÆ°Ê¥ªË∑ÉÁî®Êà∑3Â§©ËøûÁª≠ÁôªÂΩïsetbit mon 1000000000 0setbit mon 3 1setbit mon 5 1setbit mon 7 1set tues 100000000 0Hashhset user1 name lisihset user1 age 28hset user1 height 175hgetall user1hmset user2 name wang age 10 height 100hgetall user2hget user1 name hget user2 namehmget user1 name heighthgetall user1hdel user1 agehgetall user1hlen uesr1hlen user2hexists user1 agehexists user2 agehincrby user2 age 1hgetall user2hget user2 agehincrbyfloat user2 age 0.5hkeys user2hvals user2Set1„ÄÅÊó†Â∫èÊÄß 2„ÄÅÁ°ÆÂÆöÊÄß 3„ÄÅÂîØ‰∏ÄÊÄßsadd gender male femalesadd gender yao yaosadd gender yaosmembers gender #Êü•ÁúãgenderÊâÄÊúâÁöÑÂÄºsrem gender yao #Âà†Èô§yaosrem gender x c #Âà†Èô§Â§±Ë¥•(integer 0)srem gender male x c #ÊàêÂäüÂà†Èô§(male)spop key #ÈöèÊú∫Âà†Èô§sadd gender a b c d e f spop gender #ÈöèÊú∫Âà†Èô§Êó†Â∫èÈõÜÂêàgenderÈáåÁöÑÂÄºsmembers gendersrandmember gendersismember gender Q #Âà§Êñ≠Êüê‰∏™vlueÂú®Êüê‰∏™ÈõÜÂêà‰∏≠sismember gender fscard gender #ËøîÂõûÈõÜÂêà‰∏≠ÂÖÉÁ¥†ÁöÑ‰∏™Êï∞sadd uuper A B Csadd lower a b csmove upper lower A #ÁßªÂä®upperÈõÜÂêà‰∏≠ÁöÑAÂà∞ÈõÜÂêàlower‰∏≠smembers uppersmembers lowersadd lisi a b c dsadd wang a b c d e fsadd poly a b c d gsinter lisi wang poly #Ê±Ç‰∫§ÈõÜsunion lisi wang poly#Ê±ÇÂπ∂ÈõÜsdiff lisi wangsinter lisi wang polysintersrore result lisi wang poly #Ê±ÇÂπ∂ÈõÜÂ≠òÂÖ•Âà∞resultZSetorder set ÊúâÂ∫èÈõÜÂêàflushdbzadd class 12 lily 13 lucy 18 lilei 6 polyzrange class 0 3#ÊúâÂ∫èÁöÑÊü•ËØ¢Âá∫classÈõÜÂêà‰∏≠ÁöÑÂâçÂõõ‰∏™‰∫∫zrangebyscore class 13 18 #Êü•ËØ¢13Â≤ÅÂà∞18Â≤ÅÁöÑ‰∫∫zrangebyscore class 1 20 limit 1 2zrange class 1 3 withscoreszrangebyscore class 10 20 withscores #Êü•ÁúãÂàÜÊï∞ÂéªÊüê‰∏™ËåÉÂõ¥ÂÜÖÂÖÉÁ¥†„ÄÇzrange class 0 -1zrank class lilyzrank class polyzrank class lileizrank class zhangfeizrevrank class lileizrange class 0 -1 withscoreszremrangebysore class 10 15zrange class 0 -1 withscoreszadd class 12 lily 13 lucyzremrangebyrank class 0 1#Âà†Èô§poly Âíålilyzrange class 0 -1 withscoreszrem class lucyzrange class 0 -1 withscoreszrem class lileizrane class 0 -1 withscoreszadd ty 25 zhangfei 27 guanyu 28 libeizcard ty zadd ty 23 zhaoyunzcard tyzcoun ty 25 30flushdbzadd lisi 3 cat 5 dog 6 horsezadd wang 5 cat 6 dog 8 horse 1 donckeyzinterstore result 2 lisi wangzrange result 0 -1 zinterstore result 2 lisi wang aggregate minzrange result 0 -1zinterstore result 2 lisi wang aggregate maxzinterstore result 2 lisi wang weight 2 1 aggreagate maxzrange result 0 -1 withscoreszinterstore result 2 lisi wang weights 2 1 aggregate sum zrange result 0 -1 withscoresredis ‰∫ãÂä°redisÂºÄÂêØ‰∫ãÂä°ÂêéÔºåÊâÄÊúâÁöÑÊâßË°åËØ≠Âè•ÂÖàÊîæÂÖ•Âà∞ÈòüÂàó‰∏≠ÔºåÂ¶ÇÊûúÊÉ≥ÂèñÊ∂àÂèØ‰ª•ÊâßË°ådiscardÂëΩ‰ª§Ôºå‰ΩÜÊòØÂ¶ÇÊûúÊâßË°åexecÂêéÔºåÂú®ÈòüÂàó‰∏≠ÁöÑËØ≠Âè•Â∑≤ÁªèÊâßË°åÊàêÂäü‰∫ÜÔºåÂõûÊªö‰∏çÂõûÊù•Ôºå‰∏çÊîØÊåÅÂõûÊªöfulshdbset wang 200set zhao 700multi #ÂºÄÂêØ‰∫ãÂä°decrby zhao 100incryby wang 100exec #ÊâßË°åÊàêÂäümulti #ÂºÄÂêØ‰∫ãÂä°decryby zhao 100sdfaexec ÊâßË°åÈîôËØØmget zhao wangmulti #ÂºÄÂêØ‰∫ãÂä°decryby zhao 100sadd wang pigexec #ÊâßË°åÈîôËØØmulti #ÂºÄÂêØ‰∫ãÂä°decrby zhao 100incrby wang 100discard #ÂèñÊ∂à #‰π∞Á•®Âú∫ÊôØÂΩìËΩ¶Á•®Âè™Ââ©‰∏ÄÂº†Êó∂ÔºåÊùéÂõõÊ≠£Âú®‰π∞Á•®ÔºåredisÂºÄÂêØ‰∫ãÂä°ÔºåÂ∑≤ÁªèÊää‰øÆÊîπËΩ¶Á•®Âíå‰øÆÊîπÁî®Êà∑Èí±Êï∞ÁöÑËØ≠Âè•ÊîæÂà∞ÈòüÂàóÔºåËøòÊú™ÊâßË°åexecÔºåÊ≠£Âú®Ê≠§Êó∂ÔºåÁéã‰∫îÊääËøôÂº†Á•®‰π∞Ëµ∞‰∫Ü„ÄÇflushdbset ticket 1set lisi 300set wang 300#ÊùéÂõõ‰π∞Á•®multidecr ticketdecrby lisi 100#execÂ∞öÊú™ÊâßË°åexec#Áéã‰∫î‰π∞Á•®ÊàêÂäü‰∫Ü„ÄÇdecr ticketget ticket#ÊùéÂõõÂºÄÂêØwatch‰π∞Á•®set ticket 1watch ticketmultidecr ticketdecrby lisi 100#execÂ∞öÊú™ÊâßË°åÔºåËøôÊó∂Áéã‰∫îÂèàÊâßË°å‰∫Üdesc ticketget ticketwatch key1 key2 key3#ÁõëÂê¨Â§ö‰∏™keyunwatch #ÂèñÊ∂àÁõëÂê¨Â§ö‰∏™keyÈ¢ëÈÅìÂèëÂ∏É‰∏éÊ∂àÊÅØËÆ¢ÈòÖÊúçÂä°Á´Øpublish news "today is sunshine"publish news "still sunshine"publish news "away sunshine"publish news "thress"publish newstop "four"ÂÆ¢Êà∑Á´Ø1subscribe newsÂÆ¢Êà∑Á´Ø2subscribe newspsubscribe new*redisÂíåmemcachedÁõ∏ÊØîÁöÑÁã¨Áâπ‰πãÂ§Ñ1„ÄÅredisÂèØ‰ª•Áî®Êù•ÂÅöÂ≠òÂÇ®(storage)ÔºåËÄåmemcachedÊòØÁî®Êù•ÂÅöÁºìÂ≠ò(cache)ÔºåËøô‰∏™ÁâπÁÇπ‰∏ªË¶ÅÂõ†‰∏∫ÂÖ∂ÊúâÊåÅ‰πÖÂåñÁöÑÂäüËÉΩ2„ÄÅÂ≠òÂÇ®ÁöÑÊï∞ÊçÆÊúâ‚ÄúÁªìÊûÑ‚ÄùÔºåÂØπ‰∫émemcachedÊù•ËØ¥ÔºåÂ≠òÂÇ®ÁöÑÊï∞ÊçÆÔºåÂè™Êúâ1ÁßçÁ±ªÂûã‚ÄúÂ≠óÁ¨¶‰∏≤‚ÄùÔºåËÄåredisÂàôÂèØ‰ª•Â≠òÂÇ®Â≠óÁ¨¶‰∏≤„ÄÅÈìæË°®„ÄÅÂìàÂ∏åÁªìÊûÑ„ÄÅÈõÜÂêà„ÄÅÊúâÂ∫èÈõÜÂêà]]></content>
      <categories>
        
          <category> NoSql </category>
        
          <category> Redis </category>
        
      </categories>
      <tags>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[Laravel ÂÆâË£Ö]]></title>
      <url>/php/laravel/2021/01/23/laravel-install/</url>
      <content type="text"><![CDATA[ComposerÂÖ®ÈáèÈïúÂÉèÈÖçÁΩÆÁî±‰∫éÂõΩÂÜÖÁî®Êà∑ËÆøÈóÆComposerÈïúÂÉèÁöÑÂÆòÊñπÁΩëÁ´ôÔºåÂú®‰ΩøÁî®phpÁöÑÂåÖÁÆ°ÁêÜÂ∑•ÂÖ∑ComposerÂÆâË£ÖÊó∂ÔºåÂèØËÉΩ‰ºö‰∏ãËΩΩÂÆâË£ÖÁöÑÂæàÊÖ¢ÔºåÊàñËÄÖ‰∏ãËΩΩÂÆâË£ÖÂ§±Ë¥•„ÄÇÊé®Ëçê‰ΩøÁî®ÂõΩÂÜÖÈòøÈáå‰∫ëÈïúÂÉècomposer config -g repo.packagist composer https://mirrors.aliyun.com/composer/ #ÂÖ®Â±ÄÂÆâË£Öcomposer config -g --unset repos.packagist #ÂèñÊ∂àÈÖçÁΩÆcomposer config repo.packagist composer https://mirrors.aliyun.com/composer/ #Âçï‰∏™È°πÁõÆÂ±ÄÈÉ®ÈÖçÁΩÆcomposer config --unset repos.packagist #Âçï‰∏™È°πÁõÆÂ±ÄÈÉ®ÂèñÊ∂àÈÖçÁΩÆÂÆâË£ÖÊúÄÊñ∞ÁâàÊú¨laravelcd /Users/zhaoqhu/www/mkdir laravel_last #ÂàõÂª∫Êñá‰ª∂Â§πcomposer create-project   laravel/laravel  ./  #ÂÆâË£ÖlaravelÊúÄÊñ∞ÁâàÊú¨ÁöÑÊ°ÜÊû∂Âà∞ÂΩìÂâçÁõÆÂΩïphp artisan #Êü•ÁúãlaravelÊ°ÜÊû∂ÁöÑÁâàÊú¨ÔºåÁõÆÂâçÁöÑÊúÄÊñ∞ÁâàÊú¨ÊòØ8.24.0ÂÆâË£ÖÊåáÂÆöÁâàÊú¨laravelcd /Users/zhaoqhu/www/mkdir laravel_7_30_4composer create-project   laravel/laravel ./   "7.30.*";php artisan Github‰∏ãËΩΩlaravelÊåáÂÆöÁâàÊú¨ÂéãÁº©ÂåÖËß£ÂéãÂÆâË£ÖËÆøÈóÆGithub‰∏äÂØπÂ∫îÁöÑÁâàÊú¨https://github.com/laravel/laravel/archive/v7.30.0.zip,ÁÑ∂Âêé‰∏ãËΩΩÂà∞Êú¨Âú∞ÁîµËÑëÔºåÁÑ∂ÂêéËß£ÂéãÔºåÁÑ∂ÂêéËøõÂÖ•7.30.0ÁõÆÂΩïunzip v7.30.0 cd laravel-7.30.0composer install #ÂÆâË£Öphp artisan -V #Êü•ÁúãÁâàÊú¨‰ΩøÁî® laravelÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑ÂÆâË£ÖÊü•ÁúãcomposerÁöÑhomeÊâÄÂú®ÁöÑÁõÆÂΩïÔºåÈÄöËøá‰∏ãÈù¢ÁöÑÂëΩ‰ª§ÔºåÁÑ∂ÂêéÊâæÂà∞[home] /Users/zhaoqhu/.composercomposer global require laravel/installer #ÂÆâË£ÖlaravelÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑composer config -l #Êü•ÁúãcomposerÈÖçÁΩÆcd ~/.composer/vendor/bin#Êü•ÁúãlaravelÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑ÊòØÂê¶Â≠òÂú® ~/.composer/vendor/bin/laravel new example-app; #ÂÆâË£ÖÂèÇËÄÉÊïôÁ®ã  larave ComposerÂÆâË£ÖÊñπÂºè   ÈòøÈáå‰∫ë Composer ÂÖ®ÈáèÈïúÂÉè  ‰∏≠ÂõΩÂÖ®ÈáèÈïúÂÉè]]></content>
      <categories>
        
          <category> PHP </category>
        
          <category> Laravel </category>
        
      </categories>
      <tags>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[‰ΩøÁî®docker-compose.ymlÂàõÂª∫lnmpÁéØÂ¢É]]></title>
      <url>/docker/2021/01/23/docker-compose-npm-yml/</url>
      <content type="text"><![CDATA[ÂàõÂª∫docker-compose.ymlÊñá‰ª∂version: "3"services:  nginx:    image: nginx:alpine    ports:    - 80:80    volumes:    - ./html:/usr/share/nginx/html    - ./nginx/nginx.conf:/etc/nginx/nginx.conf  php:    image: devilbox/php-fpm:8.0-work-release-0.123    volumes:    - ./html:/var/www/html  mysql:    image: mysql:5.6    environment:    - MYSQL_ROOT_PASSWORD=123456ÂêØÂä®docker-compose up -dÂèÇËÄÉËµÑÊñôhttps://github.com/bobo132/docker-compose-demo-1]]></content>
      <categories>
        
          <category> Docker </category>
        
      </categories>
      <tags>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[Docker Â≠¶‰π†]]></title>
      <url>/2021/01/21/docker-learn/</url>
      <content type="text"><![CDATA[DockerÂÖ¨Âè∏ÁÆÄ‰ªãÂú∞ÂùÄÔºöÁæéÂõΩÂâëÊ°•Â§ßË°ó318Âè∑Âä†Â∑ûÂ∏ïÊ¥õÈòøÂ∞îÊâò94306DockerÂ∑•ÂÖ∑ÁÆÄ‰ªã:DockerÊòØÂºÄÊ∫êÂ∫îÁî®ÂÆπÂô®ÁöÑÂ∫îÁî®ÂÆπÂô®ÂºïÊìéÔºåÂü∫‰∫éGoËØ≠Ë®ÄÂºÄÂèëÂÆûÁé∞ÔºåÂ±û‰∫éÊìç‰ΩúÁ≥ªÁªüÂ±ÇÈù¢ÁöÑËôöÊãüÂåñÊäÄÊúØ„ÄÇDockerÂèØ‰ª•ËÆ©ÂºÄÂèëËÄÖÊâìÂåÖ‰ªñ‰ª¨ÁöÑÂ∫îÁî®‰ª•Âèä‰æùËµñÂåÖÂà∞‰∏Ä‰∏™ËΩªÈáèÁ∫ßÔºåÂèØÁßªÊ§çÁöÑÂÆπÂô®‰∏≠ÔºåÁÑ∂ÂêéÂèëÂ∏ÉÂà∞‰ªª‰ΩïÊúâDockerÁöÑÁîµËÑë(windowÂíåLinux)‰∏ä„ÄÇÂÆπÂô®ÊòØÂÆåÂÖ®‰ΩøÁî®Ê≤ôÁÆ±Êú∫Âà∂ÔºåÁõ∏‰∫í‰πãÈó¥‰∏ç‰ºöÊúâ‰ªª‰ΩïÊé•Âè£ÔºàÁ±ª‰ººiphoneÁöÑappÔºâ,Êõ¥ÈáçË¶ÅÁöÑÊòØÂÆπÂô®ÊÄßËÉΩÂºÄÈîÄÊûÅ‰Ωé„ÄÇDockerËÉΩÂÅö‰ªÄ‰πàDocker ÂèØ‰ª•Ëß£ÂÜ≥ËôöÊãüÊú∫ËÉΩÂ§üËôöÊãüÊú∫Ëß£ÂÜ≥ÁöÑÈóÆÈ¢òÔºåÂêåÊó∂ËÉΩÂ§üËß£ÂÜ≥ËôöÊãüÊú∫Áî±‰∫éÁîµËÑëËµÑÊ∫êËøáÈ´òËÄåÊó†Ê≥ïËß£ÂÜ≥ÁöÑÈóÆÈ¢ò„ÄÇDockerÂú®Á∫øÂ∑•ÂÖ∑https://labs.play-with-docker.com/Docker‰∏≠ÊØè‰∏™ÈïúÂÉèÈÉΩÊã•Êúâ‰∏Ä‰∏™LinuxÂèëË°åÁâàÁ≥ªÁªüÔºåÊã•ÊúâÂÆåÊï¥ÁöÑËøêË°åÁéØÂ¢ÉDockerÁöÑ‰∏ªË¶ÅÁî®Ê≥ï‰πüÊòØÂàõÂª∫Â§ö‰∏™ÈïúÂÉèÔºåÈÄöËøáÂ∫îÁî®ÁºñÊéíÊûÑÊàê‰∏Ä‰∏™ÂÆåÊï¥ÁöÑÂ∫îÁî®ÈïúÂÉèË∂äÂ§öÔºåÂú®Âêå‰∏ÄÂè∞ÊúçÂä°Âô®‰∏≠Â∞±‰ºöÊúâË∂äÂ§öÁöÑËøêË°åÁéØÂ¢ÉÔºàÂèëË°åÁâàÁ≥ªÁªüÔºâÔºåÂÆÉ‰ª¨Êú¨Ë∫´‰πü‰ºöÈÄ†ÊàêÂºÄÈîÄËØ∑ÈóÆÂú®ËøôÁßçÂ§öÈïúÂÉèÁöÑÁéØÂ¢É‰∏ãÔºåDockerÊòØÂê¶‰ºöÂõ†‰∏∫Á≥ªÁªüËøáÂ§öÔºåÈÄ†ÊàêÊûÅÂ§ßÁöÑÈ¢ùÂ§ñÂºÄÈîÄÔºüDockerÂÆâË£ÖdockerËøúÁ®ã‰ªìÂ∫ìÈïúÂÉèImageÂÆπÂô®ContainerDockerÂëΩ‰ª§docker infodocker versiondocker run hello-worlddockerÈïúÂÉèÂä†ÈÄü‚Äúregistry-mirrors‚Äù: [¬† ¬† ‚Äúhttps://jtjwzjlb.mirror.aliyuncs.com‚Äù,¬† ¬† ‚Äúhttps://registry.docker-cn.com‚Äù¬† ]‰∏ãËΩΩÈïúÂÉèÔºö‰ªéDockerËøúÁ®ãÈïúÂÉè‰ªìÂ∫ìËé∑ÂèñÈïúÂÉèÁöÑÂëΩ‰ª§ÊòØdocker pull„ÄÇËØ∑ÂëΩ‰ª§Ê†ºÂºè‰∏∫Ôºödocker pull ÈïúÂÉèÂêçÂ≠ó‰∏ãËΩΩÊäÄÂ∑ß‰ªé https://hub.docker.com/‰∏äÈù¢ÊêúÁ¥¢ÈïúÂÉèÁöÑÂÆâË£ÖÊñπÂºèÔºå‰ΩÜÊòØÂÆûÈôÖ‰∏äÊòØ‰ªéÈòøÈáå‰∫ëÂä†ÈÄüÈïúÂÉè‰∏äÈù¢‰∏ãËΩΩÁöÑ„ÄÇ‰æãÂ¶ÇÔºödocker pull training/webappdocker pull busyboxdocker pull centostraining/webapp #pythonÁöÑappbusybox:ÊòØ‰∏Ä‰∏™ÈõÜÊàê‰∫Ü‰∏âÁôæÂ§ö‰∏™ÊúÄÂ∏∏Áî®LinuxÂëΩ‰ª§Â∑•ÂÖ∑ÔºåÁÆÄÂåñÁöÑLinuxÁ≥ªÁªücentosÔºölinuxÁ≥ªÁªüÂÆπÂô®Êü•ÁúãÈïúÂÉèdocker image lsÊàñËÄÖdocker imagesÂà†Èô§ÈïúÂÉè            docker image rm ÈïúÂÉèÂêçÂ≠ó      ÈïúÂÉèid      ÈÄöËøáÈïúÂÉèÂàõÂª∫ÂÆπÂô®ËøõË°åÂÆπÂô®Êìç‰ΩúÊü•ÁúãÊ≠£Âú®ËøêË°åÁöÑÂÆπÂô®docker psÊü•ÁúãÊâÄÊúâÂÆπÂô®docker ps -aÂêØÂä®ÂÆπÂô®Âü∫‰∫éÈïúÂÉèÊñ∞Âª∫‰∏Ä‰∏™ÂÆπÂô®Âπ∂ÂêØÂä®ÔºåÂêØÂä®‰∏Ä‰∏™Â∑≤Â≠òÂú®ÁöÑÂÆπÂô®docker run training/webappÊèêÁ§∫ÂêØÂä®‰∫Ü‰∏Ä‰∏™ÊúçÂä°Ôºåhttp://0.0.0.0:5000/Á´ØÂè£Êò†Â∞Ñ            docker run -p Êú¨Âú∞Á´ØÂè£:ÂÆπÂô®Á´ØÂè£ ÂÆπÂô®ÂêçÂ≠ó      ÂÆπÂô®id      ÂêéÂè∞ËøêË°åËØ≠Ê≥ïdocker -d run -p 8888:5000 training/webappÂú®Êú¨Âú∞ÁîµËÑëÊµèËßàÂô®‰∏≠ÊâßË°ålocalhost:8888ÔºåÂ∞±ÂèØ‰ª•ÁúãÂà∞hello world‰∫§‰∫íËøêË°åÂêØÂä®‰∏Ä‰∏™bashÁªàÁ´ØÔºåÂÖÅËÆ∏Áî®Êà∑ËøõË°å‰∫§‰∫í„ÄÇ            docker run -t -i ÂÆπÂô®ÂêçÂ≠ó      ÂÆπÂô®id /bin/bash      -tÈÄâÈ°πËÆ©dockerÂàÜÈÖç‰∏Ä‰∏™‰º™ÁªàÁ´Ø(pseudo-tty)Âπ∂ÁªëÂÆöÂà∞ÂÆπÂô®ÁöÑÊ†áÂáÜËæìÂÖ•‰∏ä„ÄÇ-iÂàôËÆ©ÂÆπÂô®ÁöÑÊ†áÂáÜËæìÂÖ•‰øùÊåÅÊâìÂºÄ„ÄÇÂú®‰∫§‰∫íÂºèÊ®°Âºè‰∏ãÔºåÁî®Êà∑ÂèØ‰ª•ÈÄöËøáÊâÄÂàõÂª∫ÁöÑÁªàÁ´ØÊù•ËæìÂÖ•linuxÂëΩ‰ª§.‰æãÂ¶Çdocker run -it centos /bin/bashÂàõÂª∫centos ÂÆπÂô®Âπ∂‰∏îËøõÂÖ•centosÂÆπÂô®‰∏≠ÈÄÄÂá∫ÂÆπÂô®exitÁªàÊ≠¢ÂÆπÂô®docker stop ÂÆπÂô®idÂà†Èô§ÂÆπÂô®docker rm ÂÆπÂô®idÂºÄÂêØÂÆπÂô®docker start ÂÆπÂô®idÈáçÂêØÂÆπÂô®docker restart ÂÆπÂô®idÊü•ÁúãÂÆπÂô®ÂêØÂä®‰∫ßÁîüÁöÑÊï∞ÊçÆ„ÄÇdocker logs ÂÆπÂô®ÁöÑidËøõÂÖ•Ê≠£Âú®ËøêË°åÁöÑÂÆπÂô®Èáå‰∏ªÊú∫ÂíåÂÆπÂô®‰πãÈó¥Êã∑Ë¥ùÊñá‰ª∂ÂÆπÂô®Êã∑Ë¥ùÂà∞‰∏ªÊú∫docker cp ÂÆπÂô®id:/opt/webapp/app.py d:/www‰∏ªÊú∫Êã∑Ë¥ùÂà∞ÂÆπÂô®docker cp d:/www/Êñá‰ª∂ ÂÆπÂô®id:/opt/webapp/8„ÄÅÊï∞ÊçÆÂç∑‰ªÄ‰πàÊòØÊï∞ÊçÆÂç∑Êï∞ÊçÆÂç∑ÊòØ‰∏Ä‰∏™ÂèØ‰æõ‰∏Ä‰∏™ÊàñÂ§ö‰∏™ÂÆπÂô®‰ΩøÁî®ÁöÑÁâπÊÆäÁõÆÂΩïÔºå‰ªñÁªïËøáUFSÔºåÂèØ‰ª•Êèê‰æõÂæàÂ§öÊúâÁî®ÁöÑÁâπÊÄßÔºö1„ÄÅÊï∞ÊçÆÂç∑ÂèØ‰ª•Âú®ÂÆπÂô®‰πãÈó¥ÂÖ±‰∫´ÂíåÈáçÁî®2„ÄÅÂØπÊï∞ÊçÆÂç∑ÁöÑ‰øÆÊîπ‰ºöÁ´ãÈ©¨ÁîüÊïà3„ÄÅÂØπÊï∞ÊçÆÂç∑ÁöÑÊõ¥Êñ∞Ôºå‰∏ç‰ºöÂΩ±ÂìçÈïúÂÉè4„ÄÅÊï∞ÊçÆÂç∑ÈªòËÆ§‰ºö‰∏ÄÁõ¥Â≠òÂú®ÔºåÂç≥‰ΩøÂÆπÂô®Ë¢´Âà†Èô§‰ΩøÁî®docker run -d -p 8888:5000 -v d:/wwww/webapp:/opt/webapp 31ff6ac986e0(ÂÆπÂô®id)***ÂâçÊèêÈúÄË¶ÅÊ£ÄÊü•dockerÈÖçÁΩÆÈ°π‰∏≠ÁöÑFILE SHARING‰∏≠ÊòØÂê¶ÂåÖÂê´ÊÉ≥Ë¶ÅÂàõÂª∫ÁöÑÊï∞ÊçÆÂç∑ÁõÆÂΩï„ÄÇDockerÂ∫îÁî®-Êê≠Âª∫PHPÂºÄÂèëÁéØÂ¢É9.1‰∏ãËΩΩÈòøÈáå‰∫ëÁöÑlampÈïúÂÉèdocker pull registry.cn-hangzhou.aliyuncs.com/itsource/centos-lamp:v3docker run -itd ¬†-p 80:80 -p 3306:3306 ‚Äìname lamp ‚Äìprivileged=true¬†-v /data/wwwroot/www.baidu.com:/data/wwwroot/www.baidu.com ¬†registry.cn-hangzhou.aliyuncs.com/itsource/centos-lamp:v2 ¬†/usr/sbin/init-i ÈÄâÈ°πËÆ©DockerÂàÜÈÖç‰∏Ä‰∏™‰º™ÁªàÁ´ØÔºàpseudo-ttyÔºâÂπ∂ÁªëÂÆöÂà∞ÂÆπÂô®ÁöÑÊ†áÂáÜËæìÂÖ•‰∏ä-t ÂàôËÆ©ÂÆπÂô®ÁöÑÊ†áÂáÜËæìÂÖ•‰øùÊåÅÊâìÂºÄ„ÄÇ-d ÂàôËÆ©ÂÆπÂô®Âú®ÂêéÂè∞ËøêË°å„ÄÇ‚Äìname lamp‰∏∫ÂÆπÂô®Ëµ∑Âêç‰∏∫lamp‚Äìprivileged=true ËÆ©containerÂÜÖÁöÑrootÊã•ÊúâÁúüÊ≠£ÁöÑrootÊùÉÈôê„ÄÇ-v ÂàõÂª∫Êï∞ÊçÆÂç∑ÔºåÂ∞ÜÊú¨Âú∞‰∏ªÊú∫ÁõÆÂΩïÊåÇÁùÄÂà∞ÂÆπÂô®ÁöÑÊåáÂÆöÁõÆÂΩï‰∏≠/usr/sbin/initÊòØ‰∏∫‰∫ÜËé∑ÂèñrootÊùÉÈôêÂà∂‰ΩúÈòøÈáå‰∫ëÈïúÂÉè¬†¬†#### Â∞Ü‰øÆÊîπÂêéÁöÑÂÆπÂô®ÁîüÊàêÈïúÂÉè¬†docker commit -a ‚Äúitsource‚Äù -m ‚Äúthis is my centos‚Äù 3ee458166862(ÂÆπÂô®id) my-centos:v2¬†*** -a ‰ΩúËÄÖÁöÑÂêçÂ≠ó -mÊ≥®ÈáäÈÉΩË¶Å‰ΩøÁî®ÂèåÂºïÂè∑ÁôªÂΩïÂà∞ÈòøÈáå‰∫ëÁïåÈù¢=&gt;ÈïúÂÉèÂàóË°®=&gt;ÂàõÂª∫ÈïúÂÉè‰ªìÂ∫ìÂú∞ÂùÄÔºöÂçé‰∏ú1ÂëΩÂêçÁ©∫Èó¥Ôºöitsource‰ªìÂ∫ìÂêçÁß∞Ôºömy-centos2ÊëòË¶ÅÔºömy-centos2ÊèèËø∞‰ø°ÊÅØÔºömy-centos2‰ªìÂ∫ìÁ±ªÂûãÔºöÂÖ¨ÂºÄËÆæÁΩÆ‰ª£Á†ÅÊ∫êÔºöÊú¨Âú∞‰ªìÂ∫ìÊ†πÊçÆÂàõÂª∫ÁöÑÈïúÂÉè‰ªìÂ∫ìzhaoqhu_docker_imageÊ†πÊçÆÊìç‰ΩúÊåáÂçóÊääÊú¨Âú∞‰ªìÂ∫ìÊé®ÈÄÅÂà∞ÈòøÈáå‰∫ë‰∏äÈù¢„ÄÇ]]></content>
      <categories>
        
      </categories>
      <tags>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[php xdebugÂÆâË£ÖÂíåË∞ÉËØï]]></title>
      <url>/php/2021/01/20/php-xdebug/</url>
      <content type="text"><![CDATA[phpÂÆâË£ÖxdebugÂÖàÊü•ÁúãphpÁâàÊú¨ÔºåÁÑ∂ÂêéÂú®Á°ÆÂÆö‰∏ãËΩΩxdebugÁöÑÁâàÊú¨„ÄÇÊØîÂ¶ÇphpÁöÑÁâàÊú¨ÊòØ7.1.5ÔºåËÆøÈóÆxdebugÂéÜÂè≤ÁâàÊú¨‰∏ãËΩΩÈ°µhttps://xdebug.org/download/historicalÔºåÁÑ∂ÂêéÈÄâÂÆöÂπ∂‰∏ãËΩΩÂíåphpÁâàÊú¨ÂåπÈÖçÁöÑLinux,macOS SourceÔºåXdebug2.5.5Ëøô‰∏™ÁâàÊú¨ÊîØÊåÅphp7.1.5,‰∏ãËΩΩÂú∞ÂùÄÊòØhttps://xdebug.org/files/xdebug-2.5.5.tgz„ÄÇ‰ΩøÁî®php7.1.5Ëá™Â∏¶ÁöÑÂ∑•ÂÖ∑phpizeÂ∑•ÂÖ∑ËøõË°åÁºñËØëÂÆâË£ÖÊØîÂ¶Çphp7.1.5ÂÆâË£ÖÁöÑÁõÆÂΩïÊòØ/usr/local/php7-15ÔºåphpizeÂ∑•ÂÖ∑ÊâÄÂú®ÁöÑÁõÆÂΩïÊòØ/usr/local/php7-15/bin/phpizexdebug-2.5.5.tgzËß£Âéãtar -zxvf xdebug-2.5.5.tgz -C /usr/local/php7-15-modules/cd xdebug-2.5.5/usr/local/php7-15/bin/phpize #ÊâßË°åÁîüÊàêconfigureÊñá‰ª∂./configure   --with-php-config=/usr/local/php7-15/bin/php-configmakemake installÈÖçÁΩÆphp.iniÊü•Áúãphp.iniÊñá‰ª∂‰ΩçÁΩÆ/usr/local/php7-15/bin/php --iniÊâìÂºÄÂπ∂‰øÆÊîπ;xdebug startzend_extension="/usr/local/php7-15/lib/php/extensions/no-debug-non-zts-20160303/xdebug.so"xdebug.remote_enable = on #*xdebug.remote_autostart = on #*xdebug.remote_handler = dbgpxdebug.remote_host = 127.0.0.1xdebug.remote_port=9001;xdebug endsublime text3ÂÆâË£ÖxdebugÁïåÈù¢ÊâìÂºÄÈ¶ñÈÄâÈ°π=&gt;Package Control=&gt;Install PackageÂø´Êç∑ÈîÆÊâìÂºÄÊâìÂºÄÂëΩ‰ª§Ë°åËæìÂÖ•Mac‰∏äËæìÂÖ•Âø´Êç∑ÈîÆCommand+shift+pÔºåWindows‰∏äÂø´Êç∑ÈîÆControl+shift+pPackage Control: Install Packagexdebug-clientÈÖçÁΩÆsublime text3È¶ñÈÄâÈ°π=&gt;Package Settings=&gt;Package Control=&gt;Xdebug=&gt;Settings-User{"port": 9001,}Chrome ÂÆâË£ÖXdebug helper Êèí‰ª∂ÂÆâË£ÖÊñπÊ≥ïÈÖçÁΩÆXdebug helperIDE keyÔºåÈÄâÂÖ∂‰ªñÔºåËæìÂÖ•sublime.xdebugFirefoxÂÆâË£ÖXdebug helperÊèí‰ª∂ÂÆâË£ÖÊñπÊ≥ïÊâìÂºÄÈôÑÂä†ÁªÑ‰ª∂=„ÄãÊêúÁ¥¢Xdebug helper=&gt;ÂÆâË£ÖÈÖçÁΩÆIDE keyÔºåÈÄâÂÖ∂‰ªñÔºåËæìÂÖ•sublime.xdebugÊ£ÄÊü•ÊòØÂê¶ÈÖçÁΩÆÊàêÂäüÂàõÂª∫index.php&lt;?phpvar_dump("hello xdebug"); #ËÆæÁΩÆÊñ≠ÁÇπ?&gt;ÂºÄÂêØË∞ÉËØïÂø´Êç∑ÈîÆÊâìÂºÄÂëΩ‰ª§Ë°åËæìÂÖ•Â∑•ÂÖ∑Command+shif+p,ËæìÂÖ•:Xdebug: Start DebuggingÊµèËßàÂô®ËÆøÈóÆ localhost/index.phpÊ£ÄÊü•Xdebug ContextÊéßÂà∂Âè∞Â¶ÇÊûúÊéßÂà∂Âè∞ÊúâÂÜÖÂÆπËæìÂá∫ÔºåËØÅÊòéÈÖçÁΩÆÊàêÂäü$_COOKIE = array[1]$_COOKIE['XDEBUG_SESSION'] = (string) sublime.xdebug$_ENV = array[0]$_FILES = array[0]$_GET = array[0]$_POST = array[0]$_REQUEST = array[0]vscodeÁºñÂÜôphpÈ°πÁõÆphp intellisenseÊâ©Â±ïphp debugÊâ©Â±ï"php.suggest.basic": false,"php.validate.executablePath": "/usr/local/php7-15/bin"]]></content>
      <categories>
        
          <category> PHP </category>
        
      </categories>
      <tags>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[php-fpm‰ºòÂåñ]]></title>
      <url>/php/2021/01/16/php-fpm-optimize/</url>
      <content type="text"><![CDATA[php-fpmËøõÁ®ãÁÆ°ÁêÜÂô®ËøõÁ®ãÂíåÁ∫øÁ®ã‰∏Ä‰∏™ËøõÁ®ãÂØπÂ∫î‰∏Ä‰∏™Á∫øÁ®ãÊü•Áúãphp-fpmËøõÁ®ãÊâÄÂç†Áî®ÁöÑÂÜÖÂ≠òps aux | grep php-fpm|awk ‚Äò{mem+=$6}END {print mem}‚ÄôÈÄöËøá‰∏äÈù¢ÁöÑÂëΩ‰ª§ÂèØ‰ª•ËÆ°ÁÆóÂá∫php-fpmÊÄªÂÖ±‰ΩøÁî®ÁöÑÂÜÖÂ≠òÔºå‰æãÂ¶ÇÊúâ‰∏Ä‰∏™‰∏ªphp-fpmËøõÁ®ãÔºå2‰∏™Â≠êphp-fpmËøõÁ®ãÔºåÊÄªÂÖ±‰ΩøÁî®ÁöÑÂÜÖÂ≠ò‰∏∫45460ÔºåÂπ≥ÂùáÊØè‰∏™php-fpmËøõÁ®ã‰ΩøÁî®ÁöÑÂÜÖÂ≠òÊòØ15ÂÖÜ„ÄÇÂú®ÂÆûÈôÖ‰ΩøÁî®ËøáÁ®ã‰∏≠ÊØè‰∏™php-fpmËøõÁ®ã‰ΩøÁî®ÁöÑÂÜÖÂ≠òÊòØ20ÂÖÜ„ÄÇ‰∫î„ÄÅËøõÁ®ãÁÆ°ÁêÜÂô®ÁöÑÊ†∏ÂøÉ‰ºòÂåñ1.Âä®ÊÄÅÂàõÂª∫Â≠êËøõÁ®ãpm = dynamic2.ÊúÄÂ§ßÂ≠êËøõÁ®ãÊï∞:pm.max_children = 100(ÈªòËÆ§5)#ÊØèÂºÄÂêØ‰∏Ä‰∏™php-fpmËøõÁ®ãË¶ÅÂç†Áî®20MÂ∑¶Âè≥ÁöÑÂÜÖÂ≠òÔºåÂÅáËÆæÊúçÂä°Âô®ÂÜÖÂ≠ò‰∏∫2GÔºå‰ºòÂåñÁöÑÁõÆÁöÑÊòØËÆ©php-fpmËææÂà∞ÊúçÂä°Âô®ÂÜÖÂ≠òÁöÑÈ°∂ÈÖç3.ÂàùÂßãËøõÁ®ãÊï∞Ôºöpm.start_servers = 40(ÈªòËÆ§2)4.ÊúÄÂ∞èÁ©∫Èó≤ËøõÁ®ãÊï∞:pm.min_spare_servers = 20(ÈªòËÆ§1)5.ÊúÄÂ§ßÁ©∫Èó≤ËøõÁ®ãÊï∞:pm.max_spare_servers = 60ÔºàÈªòËÆ§3Ôºâ6.ÊúÄÂ§ßÂ§öÂ∞ëÊ¨°ËØ∑Ê±ÇÂêéÂ≠êËøõÁ®ãÈáçÁîüÔºöpm.max_requests = 10240#ÊúâÊïàÈôç‰ΩéÂÜÖÂ≠òÊ∂àËÄóphp5.3.3‰ª•ÂêéÁöÑphp-fpm‰∏çÂú®ÊîØÊåÅphp-fpm‰ª•ÂâçÂÖ∑ÊúâÁöÑ/usr/local/php/sbin/php-fpm(start|stop|reload)Á≠âÂëΩ‰ª§ÔºåÊâÄ‰ª•‰∏çË¶ÅÂú®ÁúãËøôÁßçËÄÅÊéâÁâôÁöÑÂëΩ‰ª§‰∫ÜÔºåÈúÄË¶Å‰ΩøÁî®‰ø°Âè∑ÊéßÂà∂ÔºömasterËøõÁ®ãÂèØ‰ª•ÁêÜËß£‰∏Ä‰∏ã‰ø°Âè∑INT,TERMÁ´ãÂàªÁªàÊ≠¢QUITÂπ≥ÊªëÁªàÊ≠¢USR1ÈáçÊñ∞ÊâìÂºÄÊó•ÂøóÊñá‰ª∂USR2Âπ≥ÊªëÈáçËΩΩÊâÄÊúâworkerËøõÁ®ãÂπ∂ÈáçÊñ∞ËΩΩÂÖ•ÈÖçÁΩÆÈ¢ù‰∫åËøõÂà∂Ê®°ÂùóÂÖ≠„ÄÅËøõÁ®ãÁä∂ÊÄÅÁõëÊéßÔºö1„ÄÅphpÈÖçÁΩÆÔºöpm.status_path = /phpstatus2.nginxËÆæÁΩÆÊñπÊ≥ïÔºölocation /phpstatus {	fastcgi_index index.php;	fastcgi_pass 127.0.0.1:9000;	fastcgi_param SCRIPT_FIFILENAME $document_root$fastcgi_script_name;	include		fastcgi_params;}3.ÂÆ¢Êà∑Á´ØÊµãËØïÔºöhttp://192.168.2.1/phpstatus4.ËøõÁ®ãÁä∂ÊÄÅ‰ø°ÊÅØÔºöpool: www								#ËøõÁ®ãÊ±†ÂêçÁß∞process manager: dynamic					#ËøõÁ®ãÊ±†ÁÆ°ÁêÜÊñπÂºèstart time; 22/Jan/2016:15:49:00 +0800		#ÂêØÂä®Êó∂Èó¥start_since: 375							#ËøêË°åÊó∂Èïøaccepted conn: 7							#ÂΩìÂâçËøõÁ®ãÊ±†Êé•ÂèóÁöÑËØ∑Ê±ÇÊï∞listen queue: 0							#ËØ∑Ê±ÇÁ≠âÂæÖÈòüÂàóÔºåÂ¶ÇÊûú‰∏ç‰∏∫0ÔºåÊÑèÂë≥ÁùÄFPMËøõÁ®ã‰∏çË∂≥ÔºåÈúÄË¶ÅÂ¢ûÂä†max listen queue: 0						#ÊúÄÂ§ßÁ≠âÂæÖÊï∞ÈáèÁ°ÆÂÆöÊòØÂê¶Êç¢Á°¨‰ª∂listen_queue_len:1024						#SOCKETÁ≠âÂæÖÈòüÂàóÈïøÂ∫¶ide_processes:							#Á©∫Èó≤ËøõÁ®ãÊï∞active_processes:							#Ê¥ªË∑ÉËøõÁ®ãÊï∞total_processes:							#ÊÄªËøõÁ®ãÊï∞max active_process: 1						#ÊúÄÂ§ßÊ¥ªË∑ÉËøõÁ®ãÊï∞ÔºåÁ°ÆÂÆöÊòØÂê¶Êç¢Á°¨‰ª∂max_children reached: 0					#ËææÂà∞ÊúÄÂ§ßËøõÁ®ãÊï∞ÁöÑÊ¨°Êï∞ÔºåÂ¶ÇÊûú‰∏ç‰∏∫0ÔºåÊÑèÂë≥ÁùÄÊúÄÂ§ßËøõÁ®ãÊï∞‰∏çË∂≥ÔºåÈúÄË¶ÅÂ¢ûÂä†ÔºåÁ°ÆÂÆöÊòØÂê¶Êç¢Á°¨‰ª∂ slow requests: 							#ÊÖ¢ËØ∑Ê±ÇÊï∞ÈáèÔºåÈúÄË¶ÅËÆæÁΩÆ slow log‰∏É„ÄÅÁîüÊàêËÆøÈóÆÊó•ÂøóÔºöaccess.log = log/$pool.access.logaccess.format = ‚Äú%R - %u %t \‚Äù%m %r%Q%q\‚Äù %s %f %{mili}d %{kilo}M %C%% ‚ÄùÂÖ´„ÄÅÂºÄÂêØÊÖ¢Êó•Âøórequest_slowlog_timeout = 5slowlog = log/$pool.log.slow‰πù„ÄÅÂ¢ûÂä†php-fpmÊâìÂºÄÊñá‰ª∂Êï∞ÁöÑÈôêÂà∂rlimit_files = 65535ÂçÅ„ÄÅÊØè‰∏™php-fpmËøõÁ®ãÁöÑÂÜÖÂ≠òÈôêÂà∂(php.ini)memory_limit = 128MÂçÅ‰∏Ä„ÄÅËøõÁ®ãÊúÄÂ§ßÊâßË°åÊó∂Èó¥Ôºå‰∏éphp.ini‰∏≠max_execution_time‰ΩúÁî®Áõ∏Âêå(php.ini)max_execution_time=30phpstatus/usr/local/php/sbin/php-fpm -t #ÊµãËØïÈÖçÁΩÆÊñá‰ª∂ÊòØÂê¶Ê≠£Á°ÆÂçÅ‰∫å„ÄÅabÂéãÂäõÊµãËØï#ab-&gt;nginx-&gt;php-&gt;index.phpApacheBenchÂéãÂäõÊµãËØïab -n10 -c10ab -n1000 -c1000ab -n10000 -c10000ab -n18000 -c18000]]></content>
      <categories>
        
          <category> PHP </category>
        
      </categories>
      <tags>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[mysql ÂàÜÂå∫Â≠¶‰π†]]></title>
      <url>/mysql/2021/01/14/mysql-partition/</url>
      <content type="text"><![CDATA[MySQLÁöÑÂàÜÂå∫-1‰ªÄ‰πàÊòØÂàÜÂå∫ÊâÄË∞ìÂàÜÂå∫Â∞±ÊòØÂ∞Ü‰∏Ä‰∏™Ë°®ÂàÜËß£ÊàêÂ§ö‰∏™Âå∫ÂùóËøõË°åÊìç‰ΩúÂíå‰øùÂ≠òÔºå‰ªéËÄåÈôç‰ΩéÊØèÊ¨°Êìç‰ΩúÁöÑÊï∞ÊçÆÔºåÊèêÈ´òÊÄßËÉΩ„ÄÇËÄåÂØπÂ∫îÁî®Êù•ËØ¥ÊòØÈÄèÊòéÁöÑÔºå‰ªéÈÄªËæë‰∏äÁúãÊòØÂè™Êúâ‰∏Ä‰∏™Ë°®ÔºàËøôÈáåË∑üÂàÜÂ∫ìÂàÜË°®ÁöÑËÆøÈóÆ‰∏ç‰∏ÄÊ†∑ÔºâÔºå‰ΩÜÂú®Áâ©ÁêÜ‰∏äËøô‰∏™Ë°®ÂèØËÉΩÊòØÊúâÂ§ö‰∏™Áâ©ÁêÜÂàÜÂå∫ÁªÑÊàêÁöÑÔºåÊØè‰∏™ÂàÜÂå∫ÈÉΩÊòØ‰∏Ä‰∏™Áã¨Á´ãÁöÑÂØπË±°ÔºåÂèØ‰ª•ËøõË°åÁã¨Á´ãÂ§ÑÁêÜ„ÄÇÂàÜÂå∫ËÉΩÂπ≤‰ªÄ‰πà1ÔºöËøõË°åÈÄªËæëÊï∞ÊçÆÂàÜÂâ≤ÔºåÂàÜÂâ≤Êï∞ÊçÆËÉΩÂ§üÊúâÂ§ö‰∏™‰∏çÂêåÁöÑÁâ©ÁêÜÊñá‰ª∂Ë∑ØÂæÑ 2ÔºöÂèØ‰ª•Â≠òÂÇ®Êõ¥Â§öÁöÑÊï∞ÊçÆÔºåÁ™ÅÁ†¥Á≥ªÁªüÂçï‰∏™Êñá‰ª∂ÊúÄÂ§ßÁöÑÈôêÂà∂ 3ÔºöÊèêÂçáÊÄßËÉΩÔºåÊèêÈ´òÊØè‰∏™ÂàÜÂå∫ÁöÑËØªÂÜôÈÄüÂ∫¶ÔºåÊèêÈ´òÂàÜÂå∫ËåÉÂõ¥Êü•ËØ¢ÁöÑÈÄüÂ∫¶ 4ÔºöÂèØ‰ª•ÈÄöËøáÂà†Èô§Áõ∏ÂÖ≥ÂàÜÂå∫Êù•Âø´ÈÄüÂà†Èô§Êï∞ÊçÆ 5ÔºöÈÄöËøáË∑®Â§ö‰∏™Á£ÅÁõòÊù•ÂàÜÊï£Êï∞ÊçÆÊü•ËØ¢Ôºå‰ªéËÄåÊèêÈ´òÁ£ÅÁõòI/OÁöÑÊÄßËÉΩ 6ÔºöÊ∂âÂèäÂà∞‰æãÂ¶ÇSUM()ÂíåCOUNT()ËøôÊ†∑ËÅöÂêàÂáΩÊï∞ÁöÑÊü•ËØ¢ÔºåÂèØ‰ª•ÂæàÂÆπÊòìÂú∞ËøõË°åÂπ∂Ë°åÂ§ÑÁêÜ 7ÔºöÂèØ‰ª•Â§á‰ªΩÂíåÊÅ¢Â§çÁã¨Á´ãÁöÑÂàÜÂå∫ÔºåËøôÂØπÂ§ßÊï∞ÊçÆÈáèÂæàÊúâÂ•ΩÂ§Ñ ## ÂàÜÂå∫ËÉΩÊîØÊåÅÁöÑÂºïÊìé MySQLÊîØÊåÅÂ§ßÈÉ®ÂàÜÁöÑÂ≠òÂÇ®ÂºïÊìéÂàõÂª∫ÂàÜÂå∫,Â¶ÇMyISAM„ÄÅInnoDBÁ≠âÔºõ‰∏çÊîØÊåÅMERGEÂíåCSVÁ≠âÊù•ÂàõÂª∫ÂàÜÂå∫„ÄÇÂêå‰∏Ä‰∏™ÂàÜÂå∫Ë°®‰∏≠ÁöÑÊâÄÊúâÂàÜÂå∫ÂøÖÈ°ªÊòØÂêå‰∏Ä‰∏™Â≠òÂÇ®ÂºïÊìé„ÄÇMySQLÁöÑÂàÜÂå∫-2‰ªéMySQL5.1ÂºÄÂßãÂºïÂÖ•ÂàÜÂå∫ÂäüËÉΩÔºåÂèØ‰ª•Â¶Ç‰∏ãÊñπÂºèÊü•ÁúãÊòØÂê¶ÊîØÊåÅ1:‚ÄúËÄÅ‚ÄùÁöÑÁâàÊú¨Áî®: SHOW VARIABLES LIKE ‚Äò%partition%‚Äô;2:Êñ∞ÁöÑÁâàÊú¨Áî®: show plugins;ÂàÜÂå∫Á±ªÂûã1ÔºöRANGEÂàÜÂå∫ÔºöÂü∫‰∫éÂ±û‰∫é‰∏Ä‰∏™ÁªôÂÆöËøûÁª≠Âå∫Èó¥ÁöÑÂàóÂÄºÔºåÊääÂ§öË°åÂàÜÈÖçÁªôÂàÜÂå∫ÔºàÊúÄÂ∏∏Áî®ÁöÑÂàÜÂå∫Ôºâ2ÔºöLISTÂàÜÂå∫ÔºöÁ±ª‰ºº‰∫éÊåâRANGEÂàÜÂå∫ÔºåLISTÊòØÂàóÂÄºÂåπÈÖç‰∏Ä‰∏™Á¶ªÊï£ÂÄºÈõÜÂêà‰∏≠ÁöÑÊüê‰∏™ÂÄºÊù•ËøõË°åÈÄâÊã©3ÔºöHASHÂàÜÂå∫ÔºöÂü∫‰∫éÁî®Êà∑ÂÆö‰πâÁöÑË°®ËææÂºèÁöÑËøîÂõûÂÄºÊù•ËøõË°åÈÄâÊã©ÁöÑÂàÜÂå∫ÔºåËØ•Ë°®ËææÂºè‰ΩøÁî®Â∞ÜË¶ÅÊèíÂÖ•Âà∞Ë°®‰∏≠ÁöÑËøô‰∫õË°åÁöÑÂàóÂÄºËøõË°åËÆ°ÁÆóÔºåËøô‰∏™ÂáΩÊï∞ÂøÖÈ°ª‰∫ßÁîüÈùûË¥üÊï¥Êï∞ÂÄº„ÄÇ 4ÔºöKEYÂàÜÂå∫ÔºöÁ±ª‰ºº‰∫éÊåâHASHÂàÜÂå∫ÔºåÁî±MySQLÊúçÂä°Âô®Êèê‰æõËá™Ë∫´ÁöÑÂìàÂ∏åÂáΩÊï∞‰ΩÜÊòØ‰∏çËÆ∫‰ªÄ‰πàÁ±ªÂûãÁöÑÂàÜÂå∫ÔºåÈÉΩË¶ÅÊ≥®ÊÑè‰∏Ä‰∏ãÈóÆÈ¢òÔºö1„ÄÅÂ¶ÇÊûúË°®‰∏≠Â≠òÂú®primary key ÊàñËÄÖunique keyÁöÑ‰∏Ä‰∏™ÁªÑÊàêÈÉ®ÂàÜÔºå‰πüÂ∞±ÊòØËØ¥ÔºåÂàÜÂå∫ÂáΩÊï∞ÁöÑÂàóÂè™ËÉΩ‰ªépkÊàñËÄÖukËøô‰∫õkey‰∏≠ÂèñÂ≠êÈõÜ2„ÄÅÂ¶ÇÊûúË°®‰∏≠‰∏çÂ≠òÂú®‰ªª‰ΩïÁöÑprimary key ÊàñËÄÖunique keyÔºåÂàôÂèØ‰ª•ÊåáÂÆö‰ªª‰Ωï‰∏Ä‰∏™Âàó‰Ωú‰∏∫ÂàÜÂå∫Âàó3„ÄÅ5.5ÁâàÊú¨ÁöÑRange„ÄÅList„ÄÅHashÂàÜÂå∫Ë¶ÅÊ±ÇÂàÜÂå∫ÈîÆÂøÖÈ°ªÊòØintÔºåMySQL5.5Âèä‰ª•‰∏äÔºåÊîØÊåÅÈùûÊï¥ÂΩ¢ÁöÑRangeÂíåListÂàÜÂå∫ÔºåÂç≥Ôºörange columnsÂíå list columns„ÄÇ#MySQLÁöÑÂàÜÂå∫-3ÂàÜÂå∫ÂëΩÂêçÂàÜÂå∫ÁöÑÂêçÂ≠óÂü∫Êú¨‰∏äÈÅµÂæ™ÂÖ∂‰ªñMySQLÊ†áËØÜÁ¨¶Â∫îÂΩìÈÅµÂæ™ÁöÑÂéüÂàôÔºå‰æãÂ¶ÇÁî®‰∫éË°®ÂíåÊï∞ÊçÆÂ∫ìÂëΩÂ≠óÁöÑÊ†áËØÜÁ¨¶„ÄÇ‰ΩÜÊòØÂ∫îÂΩìÊ≥®ÊÑèÔºåÂàÜÂå∫ÁöÑÂêçÂ≠óÊòØ‰∏çÂå∫ÂàÜÂ§ßÂ∞èÂÜôÁöÑ„ÄÇÊó†ËÆ∫‰ΩøÁî®‰ΩïÁßçÁ±ªÂûãÁöÑÂàÜÂå∫ÔºåÂàÜÂå∫ÊÄªÊòØÂú®ÂàõÂª∫Êó∂Â∞±Ëá™Âä®ÁöÑÈ°∫Â∫èÁºñÂè∑Ôºå‰∏î‰ªé0ÂºÄÂßãËÆ∞ÂΩï„ÄÇÂàõÂª∫ÂàÜÂå∫1:RangeÂàÜÂå∫CREATE TABLE tbl_users(	uuid INT NOT NULL,	customerId VARCHAR(20),	pwd VARCHAR(20),	showName VARCHAR(100),	trueName VARCHAR(100),	registerTime VARCHAR(100))PARTITION BY RANGE(uuid) (	PARTITION p0 VALUES LESS THAN (5),	PARTITION p1 VALUES LESS THAN (10),	PARTITION p2 VALUES LESS THAN (15),	PARTITION p3 VALUES LESS THAN MAXVALUE)insert into tbl_users value(1,'id1','a','s1','t1','');insert into tbl_users value(8,'id8','a','s8','t8','');insert into tbl_users value(20,'id20','a','s20','t20','');1-2„ÄÅRANGE columnsÂõ∫ÂÆöÂÄºÊ†ºÂºèÁöÑÂ≠óÊÆµÊØîÂ¶ÇÊó∂Èó¥CREATE TABLE tbl_users3(	uuid INT NOT NULL,	customerId VARCHAR(20),	pwd VARCHAR(20),	showName VARCHAR(100),	trueName VARCHAR(100),	registerTime VARCHAR(100))PARTITION BY RANGE columns(customerId) (	PARTITION p0 VALUES LESS THAN ('id05'),	PARTITION p1 VALUES LESS THAN ('id10'),	PARTITION p2 VALUES LESS THAN ('id15'))insert into tbl_users value(1,'id1','a','s1','t1','');insert into tbl_users value(8,'id8','a','s8','t8','');insert into tbl_users value(20,'id20','a','s20','t20','');#MySQLÁöÑÂàÜÂå∫-41)Âà∞Â≠òÊîæÊï∞ÊçÆÁöÑÂú∞ÊñπÊü•ÁúãÊñá‰ª∂ÔºåË∑ØÂæÑÈÖçÁΩÆÂú®/usr/bin/mysql_configÈáåÈù¢ÁöÑldata„ÄÇ$ nano mysql_configldata=‚Äô/var/lib/mysql‚Äô$ cd /var/lib/mysql$ cd arch1$ lstbl_users#p0.ibdtbl_users#p1.ibdtbl_users#p2.ibdtbl_users#p3.ibd2)ÂèØ‰ª•ÈÄöËøá‰ΩøÁî®ÂΩ¢Â¶ÇÔºöSELECT * FROM information_schema.partitions WHERE table_schema=‚Äôarch1‚Äô and table_name = ‚Äòtbl_users‚Äô \G ÁöÑËØ≠Âè•Êù•Êü•ÁúãÂàÜÂå∫‰ø°ÊÅØ3ÔºâÂèØ‰ª•ÈÄöËøáÂΩ¢Â¶Çselect * from tbl_users partition(p0)ÁöÑËØ≠Âè•Êù•Êü•ÁúãÂàÜÂå∫‰∏äÁöÑÊï∞ÊçÆ4)ÂèØ‰ª•‰ΩøÁî®ÂΩ¢Â¶ÇEXPLAIN partitions select * from tbl_users where uuid = 80Êù•Êü•ÁúãÂàÜÂå∫2ÔºöListÂàÜÂå∫ÊåâÁ±ªÂûãÂàÜÂå∫CREATE TABLE tbl_user2(	uuid INT NOT NULL,	customerId VARCHAR(20),	pwd VARCHAR(20),	showName VARCHAR(100),	trueName VARCHAR(100),	registerTime VARCHAR(100))PARTITION BY LIST(uuid){	PARTITION p0 VALUES in(1,2,3,5)	PARTITION p0 VALUES in(7,9,10)	PARTITION p0 VALUES in(11,15)}1ÔºâÂ¶ÇÊûúËØïÂõæÊìç‰ΩúÁöÑÂàóÂÄº‰∏çÂú®ÂàÜÂå∫ÂÄºÂàóË°®‰∏≠Êó∂ÔºåÈÇ£‰πà‰ºöÂ§±Ë¥•Âπ∂Êä•Èîô„ÄÇË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåLISTÂàÜÂå∫Ê≤°ÊúâÁ±ª‰ººÂ¶Ç‚ÄúVALUES LESS THAN MAXVALUE‚ÄùËøôÊ†∑ÁöÑÂåÖÂê´ÂÖ∂‰ªñÂÄºÂú®ÂÜÖÁöÑÂÆö‰πâÔºåÂ∞ÜË¶ÅÂåπÈÖçÁöÑ‰ªª‰ΩïÂÄºÈÉΩÂøÖÈ°ªÂú®ÂÄºÂàóË°®‰∏≠ÊâæÂà∞„ÄÇ2ÔºâLISTÂàÜÂå∫Èô§‰∫ÜËÉΩÂíåRANGEÂàÜÂå∫ÁªìÂêàËµ∑Êù•ÁîüÊàê‰∏Ä‰∏™Â§çÂêàÁöÑÂ≠êÂàÜÂå∫Ôºå‰∏éHASHÂíåKEYÂàÜÂå∫ÁªìÂêàËµ∑Êù•ÁîüÊàêÂ§çÂêàÁöÑÂ≠êÂàÜÂå∫‰πüÊòØÂèØ‰ª•ÁöÑ„ÄÇ3ÔºöHashÂàÜÂå∫HASHÂàÜÂå∫‰∏ªË¶ÅÁî®Êù•Á°Æ‰øùÊï∞ÊçÆÂú®È¢ÑÂÖàÁ°ÆÂÆöÊï∞ÁõÆÁöÑÂàÜÂå∫‰∏≠Âπ≥ÂùáÂàÜÂ∏É„ÄÇÂú®RANGEÂíåLISTÂàÜÂå∫‰∏≠ÔºåÂøÖÈ°ªÊòéÁ°ÆÊåáÂÆö‰∏Ä‰∏™ÁªôÂÆöÁöÑÂàóÂÄºÊàñÂàóÂÄºÈõÜÂêà‰ª•ÊåáÂÆöÂ∫îËØ•‰øùÂ≠òÂú®Âì™‰∏™ÂàÜÂå∫‰∏≠ÔºöËÄåÂú®HASHÂàÜÂå∫‰∏≠ÔºåMySQLËá™Âä®ÂÆåÊàêËøô‰∫õÂ∑•‰ΩúÔºåË¶ÅÂÅöÁöÑÂè™ÊòØÂü∫‰∫éÂ∞ÜË¶ÅË¢´ÂìàÂ∏åÁöÑÂàóÂÄºÊåáÂÆö‰∏Ä‰∏™Ë°®ËææÂºèÔºå‰ª•ÂèäÊåáÂÆöË¢´ÂàÜÂå∫ÁöÑË°®Â∞ÜË¶ÅË¢´ÂàÜÂâ≤ÊàêÁöÑÂàÜÂå∫Êï∞ÈáèÔºåÂ¶ÇÔºöÂ∫îÁî®Âú∫ÊôØÔºöËøêÂä®ÂëòÂèÇËµõÊó∂ÔºåÂπ¥ÈæÑ‰ºöÂú®Âõ∫ÂÆöÁöÑÂå∫Èó¥CREATE TABLE tbl_users4(	uuid INT NOT NULL,	customerId VARCHAR(20),	pwd VARCHAR(20),	showName VARCHAR(100),	trueName VARCHAR(100),	registerTime VARCHAR(100))PARTITION BY hash(uuid)Partitions 3insert into tbl_users value(1,'id1','a','s1','t1','');insert into tbl_users value(8,'id8','a','s8','t8','');insert into tbl_users value(20,'id20','a','s20','t20','');ÈªòËÆ§ÊòØÊåâuuid Èô§3Âèñ‰ΩôÊï∞1ÔºâÁî±‰∫éÊØèÊ¨°ÊèíÂÖ•„ÄÅÊõ¥Êñ∞„ÄÅÂà†Èô§‰∏ÄË°åÔºåËøô‰∏™Ë°®ËææÂºèÈÉΩË¶ÅËÆ°ÁÆó‰∏ÄÊ¨°ÔºöËøôÊÑèÂë≥ÁùÄÈùûÂ∏∏Â§çÊùÇÁöÑË°®ËææÂºèÂèØËÉΩ‰ºöÂºïËµ∑ÊÄßËÉΩÈóÆÈ¢òÔºåÂ∞§ÂÖ∂ÊòØÂú®ÊâßË°åÂêåÊó∂ÂΩ±ÂìçÂ§ßÈáèË°åÁöÑËøêÁÆóÔºà‰æãÂ¶ÇÊâπÈáèÊèíÂÖ•ÔºâÁöÑÊó∂ÂÄô„ÄÇ2ÔºâÊúÄÊúâÊïàÁéáÁöÑÂìàÂ∏åÂáΩÊï∞ÊòØÂè™ÂØπÂçï‰∏™Ë°®ÂàóËøõË°åËÆ°ÁÆóÔºåÂπ∂‰∏îÂÆÉÁöÑÂÄºËøõË°å‰∏ÄËá¥Âú∞Â¢ûÂ§ßÊàñÂáèÂ∞èÔºåÂõ†‰∏∫ËøôËÄÉËôë‰∫ÜÂú®ÂàÜÂå∫ËåÉÂõ¥‰∏äÁöÑ‚Äú‰øÆÂâ™‚Äù„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåË°®ËææÂºèÂÄºÂíåÂ•πÊâÄÂü∫‰∫éÁöÑÂàóÁöÑÂÄºÂèòÂåñË∂äÊé•ËøëÔºåÂ∞±ËÉΩË∂äÊúâÊïàÂú∞‰ΩøÁî®ËØ•Ë°®ËææÂºèÊù•ËøõË°åHASHÂàÜÂå∫„ÄÇ3.1Ôºö Á∫øÊÄßHash4ÔºöKeyÂàÜÂå∫CREATE TABLE tbl_users4(	uuid INT NOT NULL,	customerId VARCHAR(20),	pwd VARCHAR(20),	showName VARCHAR(100),	trueName VARCHAR(100),	registerTime VARCHAR(100))PARTITION BY linear key(uuid)Partitions 3insert into tbl_users value(1,'id1','a','s1','t1','');insert into tbl_users value(8,'id8','a','s8','t8','');insert into tbl_users value(20,'id20','a','s20','t20','');5: Â≠êÂàÜÂå∫Â≠êÂàÜÂå∫ÊòØÂàÜÂå∫Ë°®‰∏≠ÊØè‰∏™ÂàÜÂå∫ÁöÑÂÜçÊ¨°ÂàÜÂâ≤ÔºåÈÄÇÂêà‰øùÂ≠òÈùûÂ∏∏Â§ßÈáèÁöÑÊï∞ÊçÆ„ÄÇMySQLÁöÑÂàÜÂå∫-12ÂÖ∂‰ªñ1ÔºöÊúÄÂ§ßÂàÜÂå∫Êï∞ÁõÆ‰∏çËÉΩË∂ÖËøá1024Ôºå‰∏ÄËà¨Âª∫ËÆÆÂØπÂçïÊ†áÁöÑÂàÜÂå∫Êï∞‰∏çË¶ÅË∂ÖËøá150‰∏™2ÔºöÂ¶ÇÊûúÂê´ÊúâÂîØ‰∏ÄÁ¥¢ÂºïÊàñËÄÖ‰∏ªÈîÆÔºåÂàôÂàÜÂå∫ÂàóÂøÖÈ°ªÂåÖÂê´Âú®ÊâÄÊúâÁöÑÂîØ‰∏ÄÁ¥¢ÂºïÊàñËÄÖ‰∏ªÈîÆÂú®ÂÜÖ3Ôºö‰∏çÊîØÊåÅÂ§ñÊ£Ä4Ôºö‰∏çÊîØÊåÅÂÖ®ÊñáÁ¥¢ÂºïÔºåÂØπÂàÜÂå∫Ë°®ÁöÑÂàÜÂå∫ÈîÆÂàõÂª∫Á¥¢ÂºïÔºåÈÇ£‰πàËøô‰∏™Á¥¢ÂºïÈ°µÂ∞ÜË¢´ÂàÜÂå∫5ÔºöÊåâÊó•ÊúüËøõË°åÂàÜÂå∫ÂæàÂêàÈÄÇÔºåÂõ†‰∏∫ÂæàÂ§öÊó•ÊúüÂáΩÊï∞ÂèØ‰ª•Áî®„ÄÇ‰ΩÜÊòØÂØπ‰∫éÂ≠óÁ¨¶‰∏≤Êù•ËØ¥ÂêàÈÄÇÁöÑÂàÜÊûêÂáΩÊï∞‰∏çÂ§™Â§ö6ÔºöÂè™ÊúâRANGEÂíåLISTÂàÜÂå∫ËÉΩËøõË°åÂ≠êÂàÜÂå∫ÔºåHASHÂíåKEYÂàÜÂå∫‰∏çËÉΩËøõË°åÂ≠êÂàÜÂå∫7Ôºö‰∏¥Êó∂Ë°®‰∏çËÉΩË¢´ÂàÜÂå∫8ÔºöÂàÜÂå∫Ë°®ÂØπ‰∫éÂçïÊù°ËÆ∞ÂΩïÁöÑÊü•ËØ¢Ê≤°Êúâ‰ºòÂäø9ÔºöË¶ÅÊ≥®ÊÑèÈÄâÊã©ÂàÜÂå∫ÁöÑÊàêÊú¨ÔºåÊØèÊèíÂÖ•‰∏ÄË°åÊï∞ÊçÆÈÉΩÈúÄË¶ÅÊåâÁÖßË°®ËææÂºèÁ≠õÈÄâÊèíÂÖ•ÁöÑÂàÜÂå∫10ÔºöÂàÜÂå∫Â≠óÊÆµÂ∞ΩÈáè‰∏çË¶ÅÂèØ‰ª•‰∏∫nullÂàÜÂ∫ìÂàÜË°®-1‰∏∫‰ªÄ‰πàË¶ÅÂàÜÂ∫ìÂàÜË°®ÂÖàËÄÉËôëÂàÜÂå∫ÔºåÁÑ∂ÂêéËÄÉËôëÂàÜÂ∫ìÂàÜË°®„ÄÇÊï∞ÊçÆÂ∫ìÁöÑÂ§çÂà∂ËÉΩËß£ÂÜ≥ËÆøÈóÆÈóÆÈ¢òÔºåÂπ∂‰∏çËÉΩËß£ÂÜ≥Â§ßËßÑÊ®°ÁöÑÂπ∂ÂèëÂÜôÂÖ•ÈóÆÈ¢òÔºåÁî±‰∫éÊó†Ê≥ïËøõË°åÂàÜÂ∏ÉÂºèÈÉ®ÁΩ≤ÔºåËÄå‰∏ÄÂè∞ÊúçÂä°Âô®ÁöÑËµÑÊ∫êÔºàCPU„ÄÅÁ£ÅÁõò„ÄÅÂÜÖÂ≠ò„ÄÅIOÁ≠âÔºâÊòØÊúâÈôêÁöÑÔºåÊúÄÁªàÊï∞ÊçÆÂ∫ìÊâÄËÉΩÊâøËΩΩÁöÑÊï∞ÊçÆÈáè„ÄÅÊï∞ÊçÆÂ§ÑÁêÜËÉΩÂäõÈÉΩÂ∞ÜÈÅ≠ÈÅáÁì∂È¢à„ÄÇË¶ÅËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢òÂ∞±Ë¶ÅËÄÉËôëÂØπÊï∞ÊçÆÂ∫ìËøõË°åÂàÜÂ∫ìÂàÜË°®‰∫ÜÔºåÂÆÉÊúâÂ¶Ç‰∏ãÂ•ΩÂ§ÑÔºö1„ÄÅËß£ÂÜ≥Á£ÅÁõòÁ≥ªÁªüÊúÄÂ§ßÊñá‰ª∂ÈôêÂà∂ÔºåÊØîÂ¶ÇÂ∏∏ËßÅÁöÑÊúâÔºöFAT16(ÊúÄÂ§ßÂàÜÂå∫2GBÔºåÊúÄÂ§ßÊñá‰ª∂2GB)FAT32(ÊúÄÂ§ßÂàÜÂå∫32GBÔºåÊúÄÂ§ßÂÆπÈáè2TBÔºåÊúÄÂ§ßÊñá‰ª∂32GB)NTFSÔºàÊúÄÂ§ßÂàÜÂå∫2TBÔºåÊúÄÂ§ßÂÆπÈáèÔºåÊúÄÂ§ßÊñá‰ª∂2TBÔºâEXT3(ÊúÄÂ§ßÊñá‰ª∂Â§ßÂ∞èÔºö2TBÔºåÊúÄÂ§ßÊñá‰ª∂ÊûÅÈôêÔºö‰ªÖÂèóÊñá‰ª∂Á≥ªÁªüÂ§ßÂ∞èÈôêÂà∂ÔºåÊúÄÂ§ßÂàÜÂå∫/Êñá‰ª∂Á≥ªÁªüÂ§ßÂ∞èÔºö4TBÔºåÊúÄÂ§ßÊñá‰ª∂ÂêçÈïøÂ∫¶Ôºö255Â≠óÁ¨¶)2„ÄÅÂáèÂ∞ëÂ¢ûÈáèÊï∞ÊçÆÂÜôÂÖ•Êó∂ÁöÑÈîÅÂØπÊü•ËØ¢ÁöÑÂΩ±ÂìçÔºåÂáèÂ∞ëÈïøÊó∂Èó¥Êü•ËØ¢ÈÄ†ÊàêÁöÑË°®ÈîÅÔºåÂΩ±ÂìçÂÜôÂÖ•Êìç‰ΩúÁ≠âÁ´û‰∫âÁöÑÊÉÖÂÜµÔºåËäÇÁúÅÊéíÈòüÁöÑÊó∂Èó¥ÂºÄÊîØÔºåÂ¢ûÂä†ÂêûÂêêÈáè„ÄÇ3„ÄÅÁî±‰∫éË°®ÂçïÊï∞ÊçÆÈáè‰∏ãÈôçÔºåÂ∏∏ËßÅÁöÑÊü•ËØ¢Êìç‰ΩúÁî±‰∫éÂáèÂ∞ë‰∫ÜÈúÄË¶ÅÊâ´ÊèèÁöÑËÆ∞ÂΩïÔºå‰ΩøÂæóÂçïÊ†áÂçïÊ¨°Êü•ËØ¢ÊâÄÈúÄË¶ÅÁöÑÊ£ÄÁ¥¢Ë°åÊï∞ÂèòÂ∞ëÔºåÂáèÂ∞ë‰∫ÜÁ£ÅÁõòIOÔºåÊó∂Âª∂ÂèòÁü≠„ÄÇMySQLÂçïË°®500‰∏áÂà∞1000 ‰∏á]]></content>
      <categories>
        
          <category> MySQL </category>
        
      </categories>
      <tags>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[Vue CLIÂ≠¶‰π†Á¨îËÆ∞]]></title>
      <url>/vue/2019/12/09/vue-cli-learning/</url>
      <content type="text"><![CDATA[Vue CLI„ÄÅVue GUI„ÄÅvue-cli-service„ÄÅvue-router„ÄÅvue-loaderVue CLIÂÆâË£Ö  Node ÁâàÊú¨Ë¶ÅÊ±ÇVue CLI ÈúÄË¶Å Node.js 8.9 ÊàñÊõ¥È´òÁâàÊú¨ (Êé®Ëçê 8.11.0+)„ÄÇ‰Ω†ÂèØ‰ª•‰ΩøÁî® nvm Êàñ nvm-windows Âú®Âêå‰∏ÄÂè∞ÁîµËÑë‰∏≠ÁÆ°ÁêÜÂ§ö‰∏™ Node ÁâàÊú¨„ÄÇnpm install -g @vue/cli# ORyarn global add @vue/cli  Ê£ÄÊü•vueÊòØÂê¶ÂÆâË£ÖÊàêÂäüvue --versionÂàõÂª∫È°πÁõÆvue createvue uiËøôÁßçÊòØ‰ΩøÁî®ÂõæÂΩ¢ÁïåÈù¢Êù•ÂàõÂª∫È°πÁõÆÔºåÂú®ÂëΩ‰ª§Ë°åÊâßË°åvue uiÊàêÂäüÂêéÊµèËßàÂô®‰ºöÂºπÂá∫‰∏Ä‰∏™http://localhost:8000ÁöÑÂõæÂΩ¢ÁÆ°ÁêÜÁïåÈù¢GUIVue GUIÂú®ÂëΩ‰ª§Ë°å‰∏≠ÊâßË°åvue ui ÊàêÂäüÂêéÔºåÁî®ÊµèËßàÂô®ÊâìÂºÄVue GUI,‰ΩøÁî®Vue GUIÂàõÂª∫È°πÁõÆ„ÄÅÁÆ°ÁêÜÈ°πÁõÆ„ÄÅÁÆ°ÁêÜserve„ÄÅÁºñËØëÈ°πÁõÆbuildÁ≠â„ÄÇÂàõÂª∫È°πÁõÆÁÆ°ÁêÜÈ°πÁõÆÂêØÂä®ÂºÄÂèëserve‰ªªÂä°=&gt;serve=&gt;ÂêØÂä®ÔºåÁ≠âÂêå‰∫éÂú®ÂëΩ‰ª§Ë°å‰∏≠ÊâßË°å‰∏ãÈù¢ÁöÑÂëΩ‰ª§npx vue-cli-service serveÁºñËØëÈ°πÁõÆ‰ªªÂä°=&gt;build=&gt;ËøêË°åÔºåÁ≠âÂêå‰∫éÂú®ÂëΩ‰ª§Ë°å‰∏≠ÊâßË°å‰∏ãÈù¢ÁöÑÂëΩ‰ª§npx vue-cli-service buildÊ£ÄÊü•WebpackÈÖçÁΩÆ‰ªªÂä°=&gt;inspect=&gt;ËøêË°åVue CLIÈÖçÁΩÆÂú®package.jsonÊñá‰ª∂ÁöÑÂêåÁõÆÂΩï‰∏ãÂàõÂª∫vue.config.jsmodule.exports = {	configureWebpack: {		entry: './src/main3223.js'//ÈÖçÁΩÆÈ°πÁõÆÂÖ•Âè£Êñá‰ª∂ÔºåÈªòËÆ§ÁöÑÂêçÁß∞ÊòØmain.js	}	pages: {		about: {			entry: 'src/pages/about/main.js',			template: 'public/about.html',			filename: 'about.html'		},		index: {			entry: 'src/pages/index/main.js',			template: 'public/index.html',			filename: 'index.html'		}	}}Vue CLIÊúçÂä°Âú®‰∏Ä‰∏™ Vue CLI È°πÁõÆ‰∏≠Ôºå@vue/cli-service ÂÆâË£Ö‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ vue-cli-service ÁöÑÂëΩ‰ª§„ÄÇÂ∏∏Áî®ÁöÑvue-cliserviceÁöÑÂëΩ‰ª§Êúâserve„ÄÅbuild„ÄÅinspect„ÄÇpackage.json‰∏≠ÈÖçÁΩÆvue-cli-serviceÂ¶Ç‰∏ã{  "scripts": {    "serve": "vue-cli-service serve",    "build": "vue-cli-service build",    "inspect": "vue-cli-service inspect"  }}‰ΩøÁî®npmÂèØ‰ª•ÊâßË°ånpm run serve //ÂºÄÂêØservenpm run build //ÁºñËØëÈ°πÁõÆnpm run inspect //ÂÆ°Êü•webconfigÈÖçÁΩÆÊñá‰ª∂Vue Router‰ΩøÁî®Vue GUIÂÆâË£Öcli-plugin-routerÔºå‰ºöÂú®ÂéüÊúâÁöÑÈ°πÁõÆÁõÆÂΩï‰∏≠ÁîüÊàê‰ª•‰∏ãÁõÆÂΩïÂíåÊñá‰ª∂  /src/router/index.jsimport Vue from 'vue'import VueRouter from 'vue-router'import Home from '../views/Home.vue'Vue.use(VueRouter)const routes = [  {    path: '/',    name: 'home',    component: Home  },  {    path: '/about',    name: 'about',    // route level code-splitting    // this generates a separate chunk (about.[hash].js) for this route    // which is lazy-loaded when the route is visited.    component: () =&gt; import(/* webpackChunkName: "about" */ '../views/About.vue')  }]const router = new VueRouter({	mode: 'history',  routes})export default router      /src/views/About.view        /src/views/Home.view  Vue LoaderVue CLIÊèí‰ª∂Vue UI FrameworkVue UIÊ°ÜÊû∂  Element UI  Vuetify  Vue MaterialVue‰ΩøÁî®ËÆ∞ÂΩï  .vueÊñá‰ª∂‰∏çËÉΩ‰ΩøÁî®node.jsÁöÑfsÊ®°Âùó  import Âíå export‰∏çËÉΩÂá∫Áé∞Âú®‰ª£Á†ÅÂùó‰∏≠ÔºåÂ¶ÇÊûúÈúÄË¶ÅÂú®‰ª£Á†ÅÂùó‰∏≠ÂºïÂÖ•Êñá‰ª∂Ôºå‰ΩøÁî®require  Âú®App.vueÁªÑ‰ª∂‰∏≠Ëß¶ÂèëÂ≠êÁªÑ‰ª∂‰∏≠ÊâÄÂÆö‰πâÁöÑrefÂØπÂ∫îÁöÑv-on:click(‚ÄúenterFull‚Äù)‰∫ã‰ª∂this.$refs.routerView.$children[5].$refs.enterFullScreen.click();  Chrome ÊµèËßàÂô®Âú®‰ΩøÁî®Element.requestFullscreen()ÊñπÊ≥ïÊó∂ÔºåÂ¶ÇÊûú‰∏çÊòØÊâãÂä®Ëß¶ÂèëÁÇπÂáª‰∫ã‰ª∂ÁöÑ‰ºöÊä•Èîôfailed to execute 'requestfullscreen' on 'element': api can only be initiated by a user gesture.ÂèÇËÄÉËµÑÊñô  Vue.js ÊñáÊ°£  Vue CLI ÊñáÊ°£  vue.config.jsÈÖçÁΩÆÊñáÊ°£  vue-routerÊñáÊ°£  vue-loaderÊñáÊ°£  webpackÈÖçÁΩÆÊñáÊ°£]]></content>
      <categories>
        
          <category> vue </category>
        
      </categories>
      <tags>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[Vue.js Â≠¶‰π†Á¨îËÆ∞]]></title>
      <url>/vue/2019/12/02/vue-js-learning/</url>
      <content type="text"><![CDATA[Áõ¥Êé•Âú®HTMLÈ°µÈù¢ &lt;script&gt;ÂºïÂÖ•ÁöÑÊñπÂºèvue.js ËßÜÈ¢ëÂ≠¶‰π†  Â≠¶‰π†ËßÜÈ¢ëÁΩëÂùÄÂÆâË£ÖÁõ¥Êé•Áî® &lt;script&gt; ÂºïÂÖ•  ÂºÄÂèëÁâàÊú¨ÂåÖÂê´ÂÆåÊï¥ÁöÑË≠¶ÂëäÂíåË∞ÉËØïÊ®°Âºè  Áîü‰∫ßÁâàÊú¨Âà†Èô§‰∫ÜË≠¶ÂëäÔºå33.30KB min+gzipNPMÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑ (CLI)VueÂÆû‰æãÂàõÂª∫‰∏Ä‰∏™ÂÆû‰æãvar vm = new Vue({  // ÈÄâÈ°π})Êï∞ÊçÆ‰∏éÊñπÊ≥ïÈô§‰∫ÜÊï∞ÊçÆÂ±ûÊÄßÔºåVue ÂÆû‰æãËøòÊö¥Èú≤‰∫Ü‰∏Ä‰∫õÊúâÁî®ÁöÑÂÆû‰æãÂ±ûÊÄß‰∏éÊñπÊ≥ï„ÄÇÂÆÉ‰ª¨ÈÉΩÊúâÂâçÁºÄ $Ôºå‰ª•‰æø‰∏éÁî®Êà∑ÂÆö‰πâÁöÑÂ±ûÊÄßÂå∫ÂàÜÂºÄÊù•„ÄÇ‰æãÂ¶ÇÔºövar data = { a: 1 }var vm = new Vue({  el: '#example',  data: data})vm.$data === data // =&gt; truevm.$el === document.getElementById('example') // =&gt; true// $watch ÊòØ‰∏Ä‰∏™ÂÆû‰æãÊñπÊ≥ïvm.$watch('a', function (newValue, oldValue) {  // Ëøô‰∏™ÂõûË∞ÉÂ∞ÜÂú® `vm.a` ÊîπÂèòÂêéË∞ÉÁî®})ÂÆû‰æãÁîüÂëΩÂë®ÊúüÈí©Â≠êÊØè‰∏™ Vue ÂÆû‰æãÂú®Ë¢´ÂàõÂª∫Êó∂ÈÉΩË¶ÅÁªèËøá‰∏ÄÁ≥ªÂàóÁöÑÂàùÂßãÂåñËøáÁ®ã‚Äî‚Äî‰æãÂ¶ÇÔºåÈúÄË¶ÅËÆæÁΩÆÊï∞ÊçÆÁõëÂê¨„ÄÅÁºñËØëÊ®°Êùø„ÄÅÂ∞ÜÂÆû‰æãÊåÇËΩΩÂà∞ DOM Âπ∂Âú®Êï∞ÊçÆÂèòÂåñÊó∂Êõ¥Êñ∞ DOM Á≠â„ÄÇÂêåÊó∂Âú®Ëøô‰∏™ËøáÁ®ã‰∏≠‰πü‰ºöËøêË°å‰∏Ä‰∫õÂè´ÂÅöÁîüÂëΩÂë®ÊúüÈí©Â≠êÁöÑÂáΩÊï∞ÔºåËøôÁªô‰∫ÜÁî®Êà∑Âú®‰∏çÂêåÈò∂ÊÆµÊ∑ªÂä†Ëá™Â∑±ÁöÑ‰ª£Á†ÅÁöÑÊú∫‰ºö„ÄÇÊØîÂ¶Ç created Èí©Â≠êÂèØ‰ª•Áî®Êù•Âú®‰∏Ä‰∏™ÂÆû‰æãË¢´ÂàõÂª∫‰πãÂêéÊâßË°å‰ª£Á†ÅÔºönew Vue({  data: {    a: 1  },  created: function () {    // `this` ÊåáÂêë vm ÂÆû‰æã    console.log('a is: ' + this.a)  }})// =&gt; "a is: 1"``VueËá™ÂÆö‰πâÂÆû‰æã‰∏ãÈù¢ÁöÑËøô‰∏™VueÂÆû‰æãÔºåÂåÖÂê´‰∫Ü  Êï∞ÊçÆdata  Ëá™ÂÆö‰πâÁöÑÊñπÊ≥ïclick1„ÄÅclick2,  ÂÆû‰æãÁîüÂëΩÂë®ÊúüÁöÑÈí©Â≠êbeforeCreate„ÄÅcreated„ÄÅbeforeMountÁ≠â  VueÂÆû‰æãÁöÑÊñπÊ≥ï$watchvar vm = new Vue({	el: '#app', 	data: {		msg:'hello Vue',		author:{name:'Zhaoqhu'},		rawHtml:'&lt;span style='color:red'&gt;;this is a html span &lt;/span&gt;',		color:'red',		number: 10,		ok: false,		strArr: 'vue',		isShowMe: false,		hrefOrg: 'https://cn.vuejs.org/v2/guide/syntax.html#%E5%8F%82%E6%95%B0',		clsClickTest: 'div-click-test',		isClsRed: true	},	methods:{		click1: function(){			console.log('click 1');		},		click2: function(){			console.log('click2');		}	},	beforeCreate: function(){		console.log('beforeCreate');	},	created: function(){		console.log('created');	},	beforeMount: function(){		console.log('beforemount');	},	mounted: function(){		console.log('mounted');	},	beforeUpdate: function(){		console.log('beforeupdate');	},	updated: function(){		console.log('updated');	}	});data.author.name='zhao Q.H.';	console.log(vm);	console.log(data);	vm.$watch('a',function(newVal,oldVal){		console.log(newVal,oldVal);	});setTimeout(function(){	vm.$data.msg = "hello vue223";},5000);console.log(vm.$data.strArr.split('').reverse().join(''));Ê®°ÁâàËØ≠Ê≥ïÊèíÂÄºÊñáÊú¨Êï∞ÊçÆÁªëÂÆöÊúÄÂ∏∏ËßÅÁöÑÂΩ¢ÂºèÂ∞±ÊòØ‰ΩøÁî®‚ÄúMustache‚ÄùËØ≠Ê≥ï (ÂèåÂ§ßÊã¨Âè∑) ÁöÑÊñáÊú¨ÊèíÂÄºÔºö&lt;div id="app"&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;/div&gt;ÂéüÂßãHTMLÂèåÂ§ßÊã¨Âè∑‰ºöÂ∞ÜÊï∞ÊçÆËß£Èáä‰∏∫ÊôÆÈÄöÊñáÊú¨ÔºåËÄåÈùû HTML ‰ª£Á†Å„ÄÇ‰∏∫‰∫ÜËæìÂá∫ÁúüÊ≠£ÁöÑ HTMLÔºå‰Ω†ÈúÄË¶Å‰ΩøÁî® v-html Êåá‰ª§Ôºö&lt;div id="app"&gt;&lt;p id="rawHtmlA" v-html="rawHtml"&gt;&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;ÁâπÊÄßMustache ËØ≠Ê≥ï‰∏çËÉΩ‰ΩúÁî®Âú® HTML ÁâπÊÄß‰∏äÔºåHTMLÁâπÊÄßÊòØÊåá id„ÄÅclass„ÄÅhref„ÄÅtitleÁ≠âÈÅáÂà∞ËøôÁßçÊÉÖÂÜµÂ∫îËØ•‰ΩøÁî® v-bind Êåá‰ª§Ôºö&lt;div v-bind:class="color"&gt;hello red&lt;/div&gt;&lt;a v-bind:href="hrefOrg"&gt;Ë∑≥ËΩ¨Âà∞ÂÆòÁΩë&lt;/a&gt;&lt;div class="mar-top-30 font-30" v-bind:class="{fontRed:isClsRed}"&gt;‰ΩøÁî®JavascriptË°®ËææÂºèËøÑ‰ªä‰∏∫Ê≠¢ÔºåÂú®Êàë‰ª¨ÁöÑÊ®°Êùø‰∏≠ÔºåÊàë‰ª¨‰∏ÄÁõ¥ÈÉΩÂè™ÁªëÂÆöÁÆÄÂçïÁöÑÂ±ûÊÄßÈîÆÂÄº„ÄÇ‰ΩÜÂÆûÈôÖ‰∏äÔºåÂØπ‰∫éÊâÄÊúâÁöÑÊï∞ÊçÆÁªëÂÆöÔºåVue.js ÈÉΩÊèê‰æõ‰∫ÜÂÆåÂÖ®ÁöÑ JavaScript Ë°®ËææÂºèÊîØÊåÅ„ÄÇ&lt;p&gt;{{ number+1 }}&lt;/p&gt;&lt;p&gt;{{ ok ? 'YES' : 'NO' }}&lt;/p&gt;&lt;p&gt;{{ strArr.split('').reverse().join('') }}&lt;/p&gt;Êåá‰ª§Êåá‰ª§ (Directives) ÊòØÂ∏¶Êúâ v- ÂâçÁºÄÁöÑÁâπÊÆäÁâπÊÄß„ÄÇÊåá‰ª§ÁâπÊÄßÁöÑÂÄºÈ¢ÑÊúüÊòØÂçï‰∏™ JavaScript Ë°®ËææÂºè (v-for ÊòØ‰æãÂ§ñÊÉÖÂÜµÔºåÁ®çÂêéÊàë‰ª¨ÂÜçËÆ®ËÆ∫)„ÄÇÊåá‰ª§ÁöÑËÅåË¥£ÊòØÔºåÂΩìË°®ËææÂºèÁöÑÂÄºÊîπÂèòÊó∂ÔºåÂ∞ÜÂÖ∂‰∫ßÁîüÁöÑËøûÂ∏¶ÂΩ±ÂìçÔºåÂìçÂ∫îÂºèÂú∞‰ΩúÁî®‰∫é DOM„ÄÇÂõûÈ°æÊàë‰ª¨Âú®‰ªãÁªç‰∏≠ÁúãÂà∞ÁöÑ‰æãÂ≠êÔºöÂèÇÊï∞‰∏Ä‰∫õÊåá‰ª§ËÉΩÂ§üÊé•Êî∂‰∏Ä‰∏™‚ÄúÂèÇÊï∞‚ÄùÔºåÂú®Êåá‰ª§ÂêçÁß∞‰πãÂêé‰ª•ÂÜíÂè∑Ë°®Á§∫„ÄÇ‰æãÂ¶ÇÔºåv-bind Êåá‰ª§ÂèØ‰ª•Áî®‰∫éÂìçÂ∫îÂºèÂú∞Êõ¥Êñ∞ HTML ÁâπÊÄßÔºö&lt;a v-bind:href="hrefOrg"&gt;Ë∑≥ËΩ¨Âà∞ÂÆòÁΩë&lt;/a&gt;&lt;div v-bind:class="clsClickTest"&gt;Âä®ÊÄÅÂèÇÊï∞attributeName‰∏∫Âä®ÊÄÅÂèÇÊï∞ÔºåattributeValue‰∏∫Âä®ÊÄÅÂèÇÊï∞ÂÄºeventName‰∏∫Âä®ÊÄÅÂèÇÊï∞,eventMethod‰∏∫Âä®ÊÄÅÂèÇÊï∞ÁöÑÈùôÊÄÅÊñπÊ≥ï&lt;a v-bind:[attributeName]="attributeValue"&gt;HTMLÂä®ÊÄÅÂ±ûÊÄßÂíåÂ±ûÊÄßÂÄº&lt;/a&gt;&lt;a v-on:[eventName]="eventMethod"&gt;HTMLÂä®ÊÄÅ‰∫ã‰ª∂ÂíåÂä®ÊÄÅÊñπÊ≥ï&lt;/a&gt;‰øÆÈ•∞Á¨¶‰øÆÈ•∞Á¨¶ (modifier) ÊòØ‰ª•ÂçäËßíÂè•Âè∑ . ÊåáÊòéÁöÑÁâπÊÆäÂêéÁºÄÔºåÁî®‰∫éÊåáÂá∫‰∏Ä‰∏™Êåá‰ª§Â∫îËØ•‰ª•ÁâπÊÆäÊñπÂºèÁªëÂÆö„ÄÇ‰æãÂ¶ÇÔºå.prevent ‰øÆÈ•∞Á¨¶ÂëäËØâ v-on Êåá‰ª§ÂØπ‰∫éËß¶ÂèëÁöÑ‰∫ã‰ª∂Ë∞ÉÁî® event.preventDefault()&lt;div @click="click1" v-bind:class="clsClickTest"&gt;	&lt;div v-on:click.stop="click2"&gt;	click me	&lt;/div&gt;&lt;/div&gt;Áº©ÂÜôv- ÂâçÁºÄ‰Ωú‰∏∫‰∏ÄÁßçËßÜËßâÊèêÁ§∫ÔºåÁî®Êù•ËØÜÂà´Ê®°Êùø‰∏≠ Vue ÁâπÂÆöÁöÑÁâπÊÄß„ÄÇÂΩì‰Ω†Âú®‰ΩøÁî® Vue.js ‰∏∫Áé∞ÊúâÊ†áÁ≠æÊ∑ªÂä†Âä®ÊÄÅË°å‰∏∫ (dynamic behavior) Êó∂Ôºåv- ÂâçÁºÄÂæàÊúâÂ∏ÆÂä©ÔºåÁÑ∂ËÄåÔºåÂØπ‰∫é‰∏Ä‰∫õÈ¢ëÁπÅÁî®Âà∞ÁöÑÊåá‰ª§Êù•ËØ¥ÔºåÂ∞±‰ºöÊÑüÂà∞‰ΩøÁî®ÁπÅÁêê„ÄÇÂêåÊó∂ÔºåÂú®ÊûÑÂª∫Áî± Vue ÁÆ°ÁêÜÊâÄÊúâÊ®°ÊùøÁöÑÂçïÈ°µÈù¢Â∫îÁî®Á®ãÂ∫è (SPA - single page application) Êó∂Ôºåv- ÂâçÁºÄ‰πüÂèòÂæóÊ≤°ÈÇ£‰πàÈáçË¶Å‰∫Ü„ÄÇÂõ†Ê≠§ÔºåVue ‰∏∫ v-bind Âíå v-on Ëøô‰∏§‰∏™ÊúÄÂ∏∏Áî®ÁöÑÊåá‰ª§ÔºåÊèê‰æõ‰∫ÜÁâπÂÆöÁÆÄÂÜôÔºöv-bindÁº©ÂÜô&lt;!-- ÂÆåÊï¥ËØ≠Ê≥ï --&gt;&lt;a v-bind:href="url"&gt;...&lt;/a&gt;&lt;!-- Áº©ÂÜô --&gt;&lt;a :href="url"&gt;...&lt;/a&gt;v-onÁº©ÂÜô&lt;!-- ÂÆåÊï¥ËØ≠Ê≥ï --&gt;&lt;a v-on:click="doSomething"&gt;...&lt;/a&gt;&lt;!-- Áº©ÂÜô --&gt;&lt;a @click="doSomething"&gt;...&lt;/a&gt;ËÆ°ÁÆóÂ±ûÊÄßÊ®°ÊùøÂÜÖÁöÑË°®ËææÂºèÈùûÂ∏∏‰æøÂà©Ôºå‰ΩÜÊòØËÆæËÆ°ÂÆÉ‰ª¨ÁöÑÂàùË°∑ÊòØÁî®‰∫éÁÆÄÂçïËøêÁÆóÁöÑ„ÄÇÂú®Ê®°Êùø‰∏≠ÊîæÂÖ•Â§™Â§öÁöÑÈÄªËæë‰ºöËÆ©Ê®°ÊùøËøáÈáç‰∏îÈöæ‰ª•Áª¥Êä§„ÄÇ‰æãÂ¶ÇÔºö&lt;div id="example"&gt;  {{ message.split('').reverse().join('') }}&lt;/div&gt;Âú®Ëøô‰∏™Âú∞ÊñπÔºåÊ®°Êùø‰∏çÂÜçÊòØÁÆÄÂçïÁöÑÂ£∞ÊòéÂºèÈÄªËæë„ÄÇ‰Ω†ÂøÖÈ°ªÁúã‰∏ÄÊÆµÊó∂Èó¥ÊâçËÉΩÊÑèËØÜÂà∞ÔºåËøôÈáåÊòØÊÉ≥Ë¶ÅÊòæÁ§∫ÂèòÈáè message ÁöÑÁøªËΩ¨Â≠óÁ¨¶‰∏≤„ÄÇÂΩì‰Ω†ÊÉ≥Ë¶ÅÂú®Ê®°Êùø‰∏≠Â§öÊ¨°ÂºïÁî®Ê≠§Â§ÑÁöÑÁøªËΩ¨Â≠óÁ¨¶‰∏≤Êó∂ÔºåÂ∞±‰ºöÊõ¥Âä†Èöæ‰ª•Â§ÑÁêÜ„ÄÇÊâÄ‰ª•ÔºåÂØπ‰∫é‰ªª‰ΩïÂ§çÊùÇÈÄªËæëÔºå‰Ω†ÈÉΩÂ∫îÂΩì‰ΩøÁî®ËÆ°ÁÆóÂ±ûÊÄß„ÄÇÂü∫Á°Ä‰æãÂ≠ê&lt;div id="example"&gt;  &lt;p&gt;Original message: "{{ message }}"&lt;/p&gt;  &lt;p&gt;Computed reversed message: "{{ reversedMessage }}"&lt;/p&gt;&lt;/div&gt;var vm = new Vue({  el: '#example',  data: {    message: 'Hello'  },  computed: {    // ËÆ°ÁÆóÂ±ûÊÄßÁöÑ getter    reversedMessage: function () {      // `this` ÊåáÂêë vm ÂÆû‰æã      return this.message.split('').reverse().join('')    }  }})ËÆ°ÁÆóÂ±ûÊÄßÁºìÂ≠òvsÊñπÊ≥ïËÆ°ÁÆóÂ±ûÊÄßvs‰æ¶Âê¨Â±ûÊÄßËÆ°ÁÆóÂ±ûÊÄßÁöÑsetter‰æ¶Âê¨Âô®ËôΩÁÑ∂ËÆ°ÁÆóÂ±ûÊÄßÂú®Â§ßÂ§öÊï∞ÊÉÖÂÜµ‰∏ãÊõ¥ÂêàÈÄÇÔºå‰ΩÜÊúâÊó∂‰πüÈúÄË¶Å‰∏Ä‰∏™Ëá™ÂÆö‰πâÁöÑ‰æ¶Âê¨Âô®„ÄÇËøôÂ∞±ÊòØ‰∏∫‰ªÄ‰πà Vue ÈÄöËøá watch ÈÄâÈ°πÊèê‰æõ‰∫Ü‰∏Ä‰∏™Êõ¥ÈÄöÁî®ÁöÑÊñπÊ≥ïÔºåÊù•ÂìçÂ∫îÊï∞ÊçÆÁöÑÂèòÂåñ„ÄÇÂΩìÈúÄË¶ÅÂú®Êï∞ÊçÆÂèòÂåñÊó∂ÊâßË°åÂºÇÊ≠•ÊàñÂºÄÈîÄËæÉÂ§ßÁöÑÊìç‰ΩúÊó∂ÔºåËøô‰∏™ÊñπÂºèÊòØÊúÄÊúâÁî®ÁöÑ„ÄÇ&lt;div id="watch-example"&gt;  &lt;p&gt;    Ask a yes/no question:    &lt;input v-model="question"&gt;  &lt;/p&gt;  &lt;p&gt;{{ answer }}&lt;/p&gt;&lt;/div&gt;&lt;!-- Âõ†‰∏∫ AJAX Â∫ìÂíåÈÄöÁî®Â∑•ÂÖ∑ÁöÑÁîüÊÄÅÂ∑≤ÁªèÁõ∏ÂΩì‰∏∞ÂØåÔºåVue Ê†∏ÂøÉ‰ª£Á†ÅÊ≤°ÊúâÈáçÂ§ç --&gt;&lt;!-- Êèê‰æõËøô‰∫õÂäüËÉΩ‰ª•‰øùÊåÅÁ≤æÁÆÄ„ÄÇËøô‰πüÂèØ‰ª•ËÆ©‰Ω†Ëá™Áî±ÈÄâÊã©Ëá™Â∑±Êõ¥ÁÜüÊÇâÁöÑÂ∑•ÂÖ∑„ÄÇ --&gt;&lt;script src="https://cdn.jsdelivr.net/npm/axios@0.12.0/dist/axios.min.js"&gt;&lt;/script&gt;&lt;script src="https://cdn.jsdelivr.net/npm/lodash@4.13.1/lodash.min.js"&gt;&lt;/script&gt;&lt;script&gt;var watchExampleVM = new Vue({  el: '#watch-example',  data: {    question: '',    answer: 'I cannot give you an answer until you ask a question!'  },  watch: {    // Â¶ÇÊûú `question` ÂèëÁîüÊîπÂèòÔºåËøô‰∏™ÂáΩÊï∞Â∞±‰ºöËøêË°å    question: function (newQuestion, oldQuestion) {      this.answer = 'Waiting for you to stop typing...'      this.debouncedGetAnswer()    }  },  created: function () {    // `_.debounce` ÊòØ‰∏Ä‰∏™ÈÄöËøá Lodash ÈôêÂà∂Êìç‰ΩúÈ¢ëÁéáÁöÑÂáΩÊï∞„ÄÇ    // Âú®Ëøô‰∏™‰æãÂ≠ê‰∏≠ÔºåÊàë‰ª¨Â∏åÊúõÈôêÂà∂ËÆøÈóÆ yesno.wtf/api ÁöÑÈ¢ëÁéá    // AJAX ËØ∑Ê±ÇÁõ¥Âà∞Áî®Êà∑ËæìÂÖ•ÂÆåÊØïÊâç‰ºöÂèëÂá∫„ÄÇÊÉ≥Ë¶Å‰∫ÜËß£Êõ¥Â§öÂÖ≥‰∫é    // `_.debounce` ÂáΩÊï∞ (ÂèäÂÖ∂Ëøë‰∫≤ `_.throttle`) ÁöÑÁü•ËØÜÔºå    // ËØ∑ÂèÇËÄÉÔºöhttps://lodash.com/docs#debounce    this.debouncedGetAnswer = _.debounce(this.getAnswer, 500)  },  methods: {    getAnswer: function () {      if (this.question.indexOf('?') === -1) {        this.answer = 'Questions usually contain a question mark. ;-)'        return      }      this.answer = 'Thinking...'      var vm = this      axios.get('https://yesno.wtf/api')        .then(function (response) {          vm.answer = _.capitalize(response.data.answer)        })        .catch(function (error) {          vm.answer = 'Error! Could not reach the API. ' + error        })    }  }})&lt;/script&gt;ÁªÉ‰π†‰ª£Á†ÅJavascript‰ª£Á†Åindex.jsHTML‰ª£Á†ÅÂèÇËÄÉËµÑÊñô  jekyllËΩ¨‰πâÁâπÊÆäÂ≠óÁ¨¶]]></content>
      <categories>
        
          <category> vue </category>
        
      </categories>
      <tags>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[OAuth2 service microsoft]]></title>
      <url>/oauth2/2019/11/25/oAuth-2-service-microsoft/</url>
      <content type="text"><![CDATA[Âú®ÁΩëÁ´ô‰∏≠Ê∑ªÂä†Á¨¨‰∏âÊñπmicrosoftÂ∏êÂè∑ÁôªÂΩïÂäüËÉΩÔºåÊñπÊ≥ïÂíåÊ≠•È™§ËÆøÈóÆauthorization_endpoint„ÄÇ  authorization_endpointÁöÑÈìæÊé•Âú∞ÂùÄ‰∏∫https://login.microsoftonline.com/common/oauth2/v2.0/authorize?client_id=4ec1c7f2-9e38-4b8e-8073-5e6b68da2162&amp;response_type=code&amp;redirect_uri=http://localhost/oauth/callback_microsoft.php&amp;response_mode=query&amp;scope=openid%20profile%20email%20user.read&amp;state=12345&amp;prompt=consentauthorization_endpointÈìæÊé•ÂèÇÊï∞Ëß£Èáähttps://login.microsoftonline.com/common/oauth2/v2.0/authorize?client_id=4ec1c7f2-9e38-4b8e-8073-5e6b68da2162&amp; response_type=code&amp;redirect_uri=http://localhost/oauth/callback_microsoft.php&amp;response_mode=query&amp;scope=openid%20offline_access%20https%3A%2F%2Fgraph.microsoft.com%2Fuser.read&amp; //scopeÂÄºÈúÄË¶Årawurlencode()state=12345&amp; //stateÂÄºÈúÄË¶Årawurlencode();Ëøô‰∏™ÂèÇÊï∞ÂÄºÂèØ‰ª•Ëá™ÂÆö‰πâÔºåÂπ∂‰∏î‰ºöËá™Âä®ËøîÂõûÈôÑÂä†Âà∞ÂõûË∞ÉÂú∞ÂùÄ‰∏äÔºåprompt=consent//Ëøô‰∏™ÂÄºÔºå‰ºö‰ΩøÁî®Êà∑ÂºπÂá∫‰∏Ä‰∏™ÁôªÈôÜÁöÑÁïåÈù¢ËÆøÈóÆauthorization_endpointÁöÑÊñπÂºè  ‰ΩøÁî®JSËÆøÈóÆauthorization_endpointwindow.location.href = "https://login.microsoftonline.com/common/oauth2/v2.0/authorize?client_id=4ec1c7f2-9e38-4b8e-8073-5e6b68da2162&amp;response_type=code&amp;redirect_uri=http://localhost/oauth/callback_microsoft.php&amp;response_mode=query&amp;scope=openid%20profile%20email%20user.read&amp;state=12345&amp;prompt=consent";*‰ΩøÁî®PHPËÆøÈóÆauthorization_endpointheader("Location: https://login.microsoftonline.com/common/oauth2/v2.0/authorize?client_id=4ec1c7f2-9e38-4b8e-8073-5e6b68da2162&amp;response_type=code&amp;redirect_uri=http://localhost/oauth/callback_microsoft.php&amp;response_mode=query&amp;scope=openid%20profile%20email%20user.read&amp;state=12345&amp;prompt=consent");ËÆøÈóÆtoken_endpoint„ÄÇ$url_token = "https://login.microsoftonline.com/common/oauth2/v2.0/token";$data['client_id'] = '4ec1c7f2-9e38-4b8e-8073-5e6b68da2162';$scope = "openid profile email user.read";//$scope = "";$data['scope'] = $scope;$data['code'] = $_GET['code'];//Ëøô‰∏™ÂÄºÊòØËÆøÈóÆËÆøÈóÆauthorization_endpointÁöÑURLÂêéËá™Âä®ËøîÂõûÁöÑ$data['redirect_uri'] = 'http://localhost/oauth/callback_microsoft.php';$data['grant_type'] = 'authorization_code';$data['client_secret'] = 'rlPw-4rgooGre:@8D?90p6py=LOPMG_0';$res = post_url($url_token,$data);$objToken = json_decode($res);ËÆøÈóÆuserinfo_endpoint$url_userinfo = "https://graph.microsoft.com/v1.0/me";$header[] = "Authorization: ".$objToken-&gt;token_type." ".$objToken-&gt;access_token;//var_dump($url_userinfo,$header);die;$resUserInfo = get_url($url_userinfo,$header);var_dump(666,$resUserInfo);die;function get_url($url,$data){	$ch = curl_init();	curl_setopt($ch, CURLOPT_URL, $url);	curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);	curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, FALSE); 	curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, FALSE); 	curl_setopt($ch, CURLOPT_CUSTOMREQUEST,"GET"); 	curl_setopt($ch, CURLOPT_HTTPHEADER, $data);	curl_setopt($ch, CURLOPT_PROXY, '127.0.0.1');	curl_setopt($ch, CURLOPT_PROXYPORT, '1080');	$output = curl_exec($ch);	if($output === false)	  {	      echo 'Curl error: ' . curl_error($ch);	  }	curl_close($ch);	return $output;}App registrationsÂàõÂª∫Ê≠•È™§1„ÄÅËÆøÈóÆhttps://portal.azure.com/#allservices2„ÄÅIdentity=&gt;App registrations=&gt;New registration3„ÄÅregistration‰∏ªË¶ÅÂèÇÊï∞ÊúâApplication (client) IDÔºåclient secrect,ÂàõÂª∫ÊñπÊ≥ïÈÄâ‰∏≠Â∑≤ÂàõÂª∫ÁöÑregistration=&gt;Certificates &amp; secrets=&gt; New client secrect4„ÄÅÂºÄÂèëËøáÁ®ã‰∏≠Á®ãÂ∫è‰ª£Á†ÅÈáåclient_id Ôºåclient_secretÔºåredirect_uriÔºåËøô‰∏âÈ°πÁöÑÂÄºÔºåÈúÄË¶ÅregistrationÊèê‰æõ„ÄÇÂèÇËÄÉËµÑÊñô  https://docs.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-auth-code-flow  https://docs.microsoft.com/en-us/graph/api/user-get?view=graph-rest-1.0&amp;tabs=http]]></content>
      <categories>
        
          <category> OAuth2 </category>
        
      </categories>
      <tags>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[OAuth2 service google]]></title>
      <url>/oauth2/2019/10/29/oAuth-2-service-google/</url>
      <content type="text"><![CDATA[Âú®ÁΩëÁ´ô‰∏≠Ê∑ªÂä†Á¨¨‰∏âÊñπgoogleÂ∏êÂè∑ÁôªÂΩïÂäüËÉΩÔºåÊñπÊ≥ïÂíåÊ≠•È™§ËÆøÈóÆauthorization_endpoint„ÄÇ  authorization_endpointÁöÑÈìæÊé•Âú∞ÂùÄ‰∏∫https://accounts.google.com/o/oauth2/v2/auth?response_type=code&amp;scope=openid%20profile%20email&amp;redirect_uri=http://localhost/oauth/callback.php&amp;client_id=825260887949-tpka28ca3l4pacbjq83bdm1lnft58aga.apps.googleusercontent.com&amp;state=kwqrurwwlowpvnnprswlqxvwnsnwyymznrmupqsqvlpuumztvvdo&amp;access_type=offline&amp;prompt=consentauthorization_endpointÈìæÊé•ÂèÇÊï∞Ëß£Èáähttps://accounts.google.com/o/oauth2/v2/auth?response_type=code&amp;scope=openid%20profile%20email&amp; //scopeÂÄºÈúÄË¶Årawurlencode()redirect_uri=http://localhost/oauth/callback.php&amp;//redirect_uriÂÄºÈúÄË¶Årawurlencode()client_id=825260887949-tpka28ca3l4pacbjq83bdm1lnft58aga.apps.googleusercontent.com&amp;//client_idÂÄºÈúÄË¶Årawurlencode()state=kwqrurwwlowpvnnprswlqxvwnsnwyymznrmupqsqvlpuumztvvdo&amp;//stateÂÄºÈúÄË¶Årawurlencode();Ëøô‰∏™ÂèÇÊï∞ÂÄºÂèØ‰ª•Ëá™ÂÆö‰πâÔºåÂπ∂‰∏î‰ºöËá™Âä®ËøîÂõûÈôÑÂä†Âà∞ÂõûË∞ÉÂú∞ÂùÄ‰∏äÔºåaccess_type=offline&amp;prompt=consent//Ëøô‰∏™ÂÄºÔºå‰ºö‰ΩøÁî®Êà∑ÂºπÂá∫‰∏Ä‰∏™ÁôªÈôÜÁöÑÁïåÈù¢ËÆøÈóÆauthorization_endpointÁöÑÊñπÂºè  ‰ΩøÁî®JSËÆøÈóÆwindow.location.href = https://accounts.google.com/o/oauth2/v2/auth?response_type=code&amp;scope=openid%20profile%20email&amp;redirect_uri=http://localhost/oauth/callback.php&amp;client_id=825260887949-tpka28ca3l4pacbjq83bdm1lnft58aga.apps.googleusercontent.com&amp;state=kwqrurwwlowpvnnprswlqxvwnsnwyymznrmupqsqvlpuumztvvdo&amp;access_type=offline&amp;prompt=consent  ‰ΩøÁî®PHPËÆøÈóÆheader("Location: https://accounts.google.com/o/oauth2/v2/auth?response_type=code&amp;scope=openid%20profile%20email&amp;redirect_uri=http://localhost/oauth/callback.php&amp;client_id=825260887949-tpka28ca3l4pacbjq83bdm1lnft58aga.apps.googleusercontent.com&amp;state=kwqrurwwlowpvnnprswlqxvwnsnwyymznrmupqsqvlpuumztvvdo&amp;access_type=offline&amp;prompt=consent");ËÆøÈóÆtoken_endpoint„ÄÇ$data = array();$data['client_id'] = '825260887949-tpka28ca3l4pacbjq83bdm1lnft58aga.apps.googleusercontent.com';$data['client_secret'] = 'CeTlkOnFl3stgkTT4JgcxbWC';$data['grant_type'] = 'authorization_code';$data['redirect_uri'] = 'http://localhost/oauth/callback.php';$data['scope'] = '';$data['code'] = trim($_GET['code']); //Ëøô‰∏™ÂÄºÊòØËÆøÈóÆËÆøÈóÆauthorization_endpointÁöÑURLÂêéËá™Âä®ËøîÂõûÁöÑ$url = 'https://www.googleapis.com/oauth2/v4/token';$res = post_url($url,$data);function post_url($url,$data){	$ch = curl_init();	curl_setopt($ch, CURLOPT_URL, $url);	curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);	curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, FALSE);	curl_setopt($ch, CURLOPT_SSL_VERIFYHOST,FALSE);	curl_setopt($ch, CURLOPT_POST, 1);	curl_setopt($ch, CURLOPT_POSTFIELDS, $data);	curl_setopt($ch, CURLOPT_PROXY, '127.0.0.1');	curl_setopt($ch, CURLOPT_PROXYPORT, '1080');	$output = curl_exec($ch);	  if($output === false)  {      echo 'Curl error: ' . curl_error($ch);  }  curl_close($ch);	return $output; }ËÆøÈóÆuserinfo_endpoint$header[] = 'Authorization:'.$_SESSION['oauth2_google_token_type'].' '.$_SESSION['oauth2_google_access_token'];$request_url = "https://www.googleapis.com/oauth2/v2/userinfo";$res = get_url($request_url,$header);var_dump($res);die;function get_url($url,$data){	$ch = curl_init();	curl_setopt($ch, CURLOPT_URL, $url);	curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);	curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, FALSE); 	curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, FALSE); 	curl_setopt($ch, CURLOPT_CUSTOMREQUEST,"GET"); 	curl_setopt($ch, CURLOPT_HTTPHEADER, $data);	//curl_setopt($ch, CURLOPT_PROXY, '127.0.0.1');	//curl_setopt($ch, CURLOPT_PROXYPORT, '1080');	$output = curl_exec($ch);	if($output === false)	  {	      echo 'Curl error: ' . curl_error($ch);	  }	curl_close($ch);	return $output;}OAuth 2.0 client IDsÂàõÂª∫Ê≠•È™§1„ÄÅËÆøÈóÆ Google API Console2„ÄÅproject=&gt;Credentials=&gt;OAuth client ID=&gt;Web application3„ÄÅOAuth 2.0 client IDÁöÑ‰∏ªË¶ÅÂèÇÊï∞ÊúâClient IDÔºåClient secrectÔºåAuthorized redirect URIs4„ÄÅÂºÄÂèëËøáÁ®ã‰∏≠Á®ãÂ∫è‰ª£Á†ÅÈáåclient_id Ôºåclient_secretÔºåredirect_uriÔºåËøô‰∏âÈ°πÁöÑÂÄºÔºåÈúÄË¶ÅOAuth 2.0 client IDÊèê‰æõ„ÄÇgoogleÊèê‰æõÁöÑÂú®Á∫ø‰ΩøÁî®APIÂ∑•ÂÖ∑https://accounts.google.com/o/oauth2/v2/auth? scope=https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fdrive.metadata.readonly&amp; access_type=offline&amp; include_granted_scopes=true&amp; state=state_parameter_passthrough_value&amp; redirect_uri=https://developers.google.com/oauthplayground&amp; response_type=code&amp; client_id=825260887949-tpka28ca3l4pacbjq83bdm1lnft58aga.apps.googleusercontent.comÂèÇÊï∞Ëß£Èáähttps://accounts.google.com/o/oauth2/v2/auth? scope=https%3A%2F%2Fwww.googleapis.com%2Fauth%2Fdrive.metadata.readonly&amp; access_type=offline&amp; include_granted_scopes=true&amp; state=state_parameter_passthrough_value&amp;//Ëá™ÂÆö‰πâÊàë‰ª¨ÁΩëÁ´ôÈáåÈù¢ÈúÄË¶Å‰ΩøÁî®ÁöÑÂèÇÊï∞Ôºå‰ºöËá™Âä®ÈôÑÂä†Âà∞ÂõûË∞ÉÂú∞ÂùÄ‰∏äÔºå redirect_uri=https://developers.google.com/oauthplayground&amp; //Ëøô‰∏™ÊòØgoogleÊèê‰æõÁöÑÂú®Á∫øAPIÂ∑•ÂÖ∑Âú∞ÂùÄÔºåËøô‰∏™ÂõûË∞ÉÂú∞ÂùÄÈúÄË¶ÅÊ∑ªÂä†Âà∞credentials response_type=code&amp; client_id=825260887949-tpka28ca3l4pacbjq83bdm1lnft58aga.apps.googleusercontent.com//Ëøô‰∏™ÊòØÈúÄË¶ÅÂú®google API consoleÈáåÂàõÂª∫credentialsÔºåÁÑ∂ÂêéÂú®ÈáåÈù¢Êúâclient_idÂèÇËÄÉËµÑÊñô  Google OAuth 2 API Âú®Á∫øÂ∑•ÂÖ∑  https://developers.google.com/identity/protocols/OpenIDConnect]]></content>
      <categories>
        
          <category> OAuth2 </category>
        
      </categories>
      <tags>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[Ubuntu 14.04 lts ÂçáÁ∫ßÂà∞ 16.04 lts]]></title>
      <url>/linux/2019/10/11/ubuntu14.04-lts-to-16.04-lts/</url>
      <content type="text"><![CDATA[ÊïÖÈöúÊèèËø∞ÂçáÁ∫ßÂà∞16.04ÂêéÔºåÂè™ÊúâÂëΩ‰ª§Ë°åÊ®°ÂºèÔºåÊ≤°ÊúâÁΩëÁªúÔºåapt-getÂëΩ‰ª§Â§±ÊïàÔºåÊïÖÈöúÂéüÂõ†Ëß£ÂÜ≥ÊñπÊ≥ïÈáçÂêØÁîµËÑëÔºåÂêåÊó∂‰∏ÄÁõ¥Êåâ‚ÄùEsc‚ÄùÈîÆÔºåËøõÂÖ•GRUBÁïåÈù¢apt-getÈîôËØØapt: relocation error: version GLIBCXX_3.4.21 not defined in file libstdc++.so.6 with link time referenceËß£ÂÜ≥ÂäûÊ≥ïÔºöÈúÄË¶ÅÁΩëÁªúÂèØ‰ª•Ê≠£Â∏∏ËÆøÈóÆÂ§ñÁΩëÔºåÊâßË°å‰∏ãÈù¢ÁöÑÂëΩ‰ª§$ wget http://security.ubuntu.com/ubuntu/pool/main/g/gcc-5/libstdc++6_5.4.0-6ubuntu1~16.04.10_amd64.debsudo dpkg -i libstdc++6_5.4.0-6ubuntu1~16.04.10_amd64.deb# I also found this helpful$ sudo apt-get -f installÂëΩ‰ª§Ë°åÊ®°ÂºèÂàáÊç¢Âà∞ÂõæÂΩ¢ÁïåÈù¢Ê®°Âºè$ service lightdm startÂèÇËÄÉËµÑÊñô  ÂëΩ‰ª§Ë°åÊ®°ÂºèÂàáÊç¢Âà∞ÂõæÂΩ¢ÁïåÈù¢Ê®°Âºè  apt-getÊä•ÈîôËß£ÂÜ≥ÂäûÊ≥ï  ‰øÆÂ§çubuntu16.04ÔºåGRUBËß£ÂÜ≥ÂäûÊ≥ï]]></content>
      <categories>
        
          <category> linux </category>
        
      </categories>
      <tags>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[chatroom]]></title>
      <url>/2019/10/09/chatroom/</url>
      <content type="text"><![CDATA[ÁôªÂΩï      ÂèÇÊï∞  Áî®Êà∑ÂêçÔºöuserName, ÊàøÈó¥ÔºöroomId, ÊòØÂê¶‰∏∫‰∏ªÊí≠Ôºöis_host        Ê£ÄÊü•userName,roomId  Â¶ÇÊûúuserName,roomIdÁöÑÂÄº‰∏∫Á©∫ÂàôËøîÂõûÈîôËØØÁöÑÊèêÁ§∫‰ø°ÊÅØ„ÄÇ        Ê£ÄÊü•ÊüêÁî®Êà∑Âú®ÊüêÊàøÈó¥ÊòØÂê¶‰∏∫‰∏ªÊí≠  ‰æãÂ¶ÇÔºöuserNameÁöÑÂÄº‰∏∫zhaoQH,roomIdÁöÑÂÄº‰∏∫Âåó‰∫¨666,Ê£ÄÊü•zhaoQHÂú®Âåó‰∫¨666ÁöÑÊàøÈó¥ÊòØÂê¶‰∏∫‰∏ªÊí≠        Ê£ÄÊü•ÊüêÁî®Êà∑ÊòØÂê¶Â∑≤Âú®ÊàøÈó¥  ]]></content>
      <categories>
        
      </categories>
      <tags>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[Node.jsÂ≠¶‰π†Á¨îËÆ∞]]></title>
      <url>/node.js/2019/10/08/Nodejs-learning/</url>
      <content type="text"><![CDATA[ÂÆâË£Ö  ÂèÇËÄÉÈìæÊé•Node.jsÂçáÁ∫ßwindows‰∏ãÂçáÁ∫ßwindows‰∏ãÂçáÁ∫ßNodejsÊØîËæÉÁÆÄÂçïÔºåÁõ¥Êé•‰∏ãËΩΩmsiÊñá‰ª∂ÔºåÂÆâË£ÖË¶ÜÁõñÂéüÂÆâË£ÖË∑ØÂæÑÂ∞±ÂèØ‰ª•‰∫Ü„ÄÇÁî±‰∫é‰ºóÊâÄÂë®Áü•ÁöÑÂéüÂõ†ÔºåÂõΩÂÜÖËÆøÈóÆNodejsÂÆòÁΩë‰∏ãËΩΩNodejsÂÆâË£ÖÊñá‰ª∂Êó∂Èó¥ÈùûÂ∏∏DTÁöÑ‰∫ãÔºåÊ≠§Â§ÑÈôÑ‰∏äÊ∑òÂÆùÁöÑÂõΩÂÜÖÈïúÂÉèÊ∫êÔºåÈÄüÂ∫¶ÈùûÂ∏∏Âø´„ÄÇlinux‰∏ãÂçáÁ∫ß  Ê£ÄÊü•NodeÁöÑÂΩìÂâçÁâàÊú¨$ node -v  Ê∏ÖÈô§npm cache$ sudo npm chache clean -f  nodeÊúâ‰∏Ä‰∏™Ê®°ÂùóÂè´nÔºàËøôÂêçÂ≠óÂèØÂ§üÁü≠ÁöÑ„ÄÇ„ÄÇ„ÄÇÔºâÔºåÊòØ‰∏ìÈó®Áî®Êù•ÁÆ°ÁêÜnode.jsÁöÑÁâàÊú¨ÁöÑ„ÄÇ$ npm install -g n  ÂçáÁ∫ßÂà∞ÊúÄÊñ∞Á®≥ÂÆöÁâàÊú¨$ n stable  ÂçáÁ∫ßÂà∞ÊåáÂÆöÁâàÊú¨$ n v4.4.7ÊàñËÄÖ$ n 4.4.7npmÂçáÁ∫ß  Êü•ÁúãÂΩìÂâçÁâàÊú¨$ npm -v  ÂçáÁ∫ßËá≥ÊúÄÊñ∞ÁâàÊú¨ÊàñËÄÖÊåáÂÆöÁâàÊú¨ @Á¨¶Âè∑ÂêéÈù¢ÂèØ‰ª•Ê∑ªÂä†‰Ω†ÊÉ≥Êõ¥Êñ∞Âà∞ÁöÑÁâàÊú¨Âè∑„ÄÇ latest‰ª£Ë°®ÊòØÊúÄÊñ∞ÁâàÊú¨$ npm install npm@latest -gÂÆâË£ÖÊ∑òÂÆù NPM ÈïúÂÉèËøôÊòØ‰∏Ä‰∏™ÂÆåÊï¥ npmjs.org ÈïúÂÉèÔºå‰Ω†ÂèØ‰ª•Áî®Ê≠§‰ª£ÊõøÂÆòÊñπÁâàÊú¨(Âè™ËØª)ÔºåÂêåÊ≠•È¢ëÁéáÁõÆÂâç‰∏∫ 10ÂàÜÈíü ‰∏ÄÊ¨°‰ª•‰øùËØÅÂ∞ΩÈáè‰∏éÂÆòÊñπÊúçÂä°ÂêåÊ≠•„ÄÇ$ npm install -g cnpm --registry=https://registry.npm.taobao.org‰ΩøÁî®cnpmÂÆâË£ÖÊ®°Âùó‰ªé registry.npm.taobao.org ÂÆâË£ÖÊâÄÊúâÊ®°Âùó. ÂΩìÂÆâË£ÖÁöÑÊó∂ÂÄôÂèëÁé∞ÂÆâË£ÖÁöÑÊ®°ÂùóËøòÊ≤°ÊúâÂêåÊ≠•ËøáÊù•, Ê∑òÂÆù NPM ‰ºöËá™Âä®Âú®ÂêéÂè∞ËøõË°åÂêåÊ≠•, Âπ∂‰∏î‰ºöËÆ©‰Ω†‰ªéÂÆòÊñπ NPM registry.npmjs.org ËøõË°åÂÆâË£Ö. ‰∏ãÊ¨°‰Ω†ÂÜçÂÆâË£ÖËøô‰∏™Ê®°ÂùóÁöÑÊó∂ÂÄô, Â∞±‰ºöÁõ¥Êé•‰ªé Ê∑òÂÆù NPM ÂÆâË£Ö‰∫Ü.ÂÖ∂ÂÆÉÂëΩ‰ª§ÊîØÊåÅ npm Èô§‰∫Ü publish ‰πãÂ§ñÁöÑÊâÄÊúâÂëΩ‰ª§, Â¶Ç:$ cnpm install [name]Ë°•ÂÖÖÂ∏∏Áî®npmÂëΩ‰ª§$ npm -v          #ÊòæÁ§∫ÁâàÊú¨ÔºåÊ£ÄÊü•npm ÊòØÂê¶Ê≠£Á°ÆÂÆâË£Ö„ÄÇ$ npm install express   #ÂÆâË£ÖexpressÊ®°Âùó$ npm install -g express  #ÂÖ®Â±ÄÂÆâË£ÖexpressÊ®°Âùó$ npm install --save express #‰ºöÊääexpressÂåÖÂÆâË£ÖÂà∞ËØ•ÁõÆÂΩï‰∏ãÁöÑnode_modulesÁõÆÂΩï‰∏≠,‰ºöÂú®package.jsonÁöÑdependenciesÂ±ûÊÄß‰∏ãÊ∑ªÂä†express,‰πãÂêéËøêË°ånpm install ÊàñËÄÖ npm install -productionÊàñËÄÖËëóÂêçNODE_ENVÂèòÈáèÂÄº‰∏∫productionÊó∂Ôºå‰ºöËá™Âä®ÂÆâË£ÖexpressÂà∞node_moduleÁõÆÂΩï‰∏≠.$ npm install --save-dev express #‰ºöÊääexpressÂåÖÂÆâË£ÖÂà∞ËØ•ÁõÆÂΩï‰∏ãÁöÑnode_modulesÁõÆÂΩï‰∏≠,‰ºöÂú®package.jsonÁöÑdependenciesÂ±ûÊÄß‰∏ãÊ∑ªÂä†express,‰πãÂêéËøêË°ånpm install‰ºöËá™Âä®ÂÆâË£ÖexpressÂà∞node_moduleÁõÆÂΩï‰∏≠‰ΩÜÊòØÊâßË°ånpm install -productionÊàñËÄÖËëóÂêçNODE_ENVÂèòÈáèÂÄº‰∏∫productionÊó∂Ôºå‰∏ç‰ºöËá™Âä®ÂÆâË£ÖexpressÂà∞node_moduleÁõÆÂΩï‰∏≠.$ npm install -D express # Á≠â‰∫énpm install --save-dev express$ npm list         #ÂàóÂá∫Â∑≤ÂÆâË£ÖÊ®°Âùó$ npm show express     #ÊòæÁ§∫Ê®°ÂùóËØ¶ÊÉÖ$ npm update        #ÂçáÁ∫ßÂΩìÂâçÁõÆÂΩï‰∏ãÁöÑÈ°πÁõÆÁöÑÊâÄÊúâÊ®°Âùó $ npm update express    #ÂçáÁ∫ßÂΩìÂâçÁõÆÂΩï‰∏ãÁöÑÈ°πÁõÆÁöÑÊåáÂÆöÊ®°Âùó$ npm update -g express  #ÂçáÁ∫ßÂÖ®Â±ÄÂÆâË£ÖÁöÑexpressÊ®°Âùó$ npm uninstall express  #Âà†Èô§ÊåáÂÆöÁöÑÊ®°ÂùóÊ≥®ÔºöËøêË°åÊó∂ÈúÄË¶ÅÁî®Âà∞ÁöÑÂåÖ‰ΩøÁî®npm install ‚Äìsave expressÔºåÂê¶Âàô‰ΩøÁî®npm install ‚Äìsave-dev express„ÄÇ„ÄÇÂèÇËÄÉËµÑÊñô  Ê∑òÂÆùNPMÈïúÂÉè  https://github.com/tj/n  https://www.jb51.net/article/52409.htm  https://docs.npmjs.com/try-the-latest-stable-version-of-npm]]></content>
      <categories>
        
          <category> Node.js </category>
        
      </categories>
      <tags>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[browserify]]></title>
      <url>/node.js/2019/10/08/Browserify-watchify/</url>
      <content type="text"><![CDATA[‰ªãÁªçBrowserify lets you require(‚Äòmodules‚Äô) in the browser by bundling up all of your dependencies.ÂÆâË£Ö$ npm install -g browserify‰ΩøÁî®‰∏Ä  Here is a tutorial on how to use Browserify on the command line to bundle up a simple file called main.js along with all of its dependencies: main.jsvar unique = require('uniq');var data = [1, 2, 2, 3, 4, 5, 5, 5, 6];console.log(unique(data));  Install the uniq module with npm:npm install uniq  Now recursively bundle up all the required modules starting at main.js into a single file called bundle.js with the browserify command:browserify main.js -o bundle.js  Browserify parses the AST for require() calls to traverse the entire dependency graph of your project.Drop a single &lt;script&gt; tag into your html and you‚Äôre done!&lt;script src="bundle.js"&gt;&lt;/script&gt;‰ΩøÁî®‰∫å browserify, watchify, socket.io-client, jquery„ÄÅ  ÂÆâË£Öbrowserify , socket.io-client, watchify$ npm i browserify --save-dev$ npm install --save socket.io-client$ npm i watchify --save-dev$npm i --save jquery  package.json{  "name": "app",  "version": "1.0.0",  "description": "",  "main": "main.js",  "scripts": {    "build": "browserify main.js -o ../server/public/bundle.js",    "watch": "watchify main.js -o bundle.js"  },  "author": "",  "license": "ISC",  "dependencies": {    "socket.io-client": "^2.3.0"  }}  main.jsÊñá‰ª∂‰ΩøÁî®requireÂºïÂÖ•jsÊ®°Âùó  ÊâßË°åÂëΩ‰ª§ÔºåÁºñËØëÂíåÁõëÊéßÊñá‰ª∂$ npm run build$ npm run watchÂèÇËÄÉËµÑÊñôhttp://browserify.org/]]></content>
      <categories>
        
          <category> Node.js </category>
        
      </categories>
      <tags>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[jekyllÂ≠¶‰π†Á¨îËÆ∞]]></title>
      <url>/jekyll/2019/09/29/jekyll-learning/</url>
      <content type="text"><![CDATA[jekyllÂÆâË£Ö ‰ΩøÁî®~ $ gem install jekyll~ $ jekyll new myblog~ $ cd myblog~/myblog $ jekyll serve //ÂêØÂä®ÊñπÂºè‰∏ÄÔºåÂ¶ÇÊûúÊúâÈîôÔºåÂ∞ùËØïÂêØÂä®ÊñπÂºè‰∫å~/myblog $ bundle exec jekyll serve //ÂêØÂä®ÊñπÂºè‰∫å# =&gt; Now browse to http://localhost:4000jekyll‰ª£Á†ÅÂùóËΩ¨‰πâÁâπÊÆäÂ≠óÁ¨¶Â¶Ç‰ΩïÊòæÁ§∫Âë¢{{  }} ÂÖ∑‰ΩìÂ¶Ç‰∏ãÔºö {% raw %}{{ msg }} {% endraw %}  ÂèÇËÄÉËµÑÊñô  jekyllÂ¶Ç‰ΩïËΩ¨‰πâÁâπÊÆäÂ≠óÁ¨¶]]></content>
      <categories>
        
          <category> jekyll </category>
        
      </categories>
      <tags>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[mediasoup]]></title>
      <url>/mediasoup/2019/09/27/mediasoup/</url>
      <content type="text"><![CDATA[learning mediasoup A WebRTC SFU for Node.jsFULL MESHMCU: MULTIPOINT CONTROL UNITSFU: SELECTIVE FORWARDING UNITmediasoup-clientmediasoup-clientÂÆâË£Önpm install mediasoup-client@3 --saveÊµèËßàÂô®Á´Ø‰ΩøÁî®Node.jsÊ®°Âùómediasoup-client      JavaScript ES6 plus CommonJS        browserify „ÄÅwebpack„ÄÅgulp  ubunto ÂÆâË£Ömediasoupv3  Êñ∞Âª∫mediasoupv3-zhaoqhuÁõÆÂΩïÔºåÂàÜÂà´ÂàõÂª∫app,serverÁõÆÂΩï$ mkdir mediasoupv3-zhaoqhu$ mkdir server$ mkdir app$ cd server$ npm init$ sudo npm install mediasoup@3 --save --unsafe-perm=true --allow-root  Ê£ÄÊü•gcc ÁâàÊú¨ Â¶ÇÊûúgccÁâàÊú¨Â∞è‰∫é 4.9ÔºåÈúÄË¶ÅÂçáÁ∫ßgccÂà∞4.9‰ª•‰∏äÔºåubunto 14.04 lts Â•ΩÂÉèÊúÄÈ´òÁöÑgcc ÁâàÊú¨ÊòØ 4.8.5ÔºåÂçáÁ∫ß ubunto Âà∞ 16.04 ltsÈ¶ñÂÖàÊ∑ªÂä†ppaÂà∞Â∫ìÔºö$ sudo add-apt-repository ppa:ubuntu-toolchain-r/test$ sudo apt-get update$ sudo apt-get upgrade$ sudo apt-get $ sudo apt-get install gcc-4.8 g++-4.8$ sudo apt-get install gcc-4.9 g++-4.9$ sudo apt-get install gcc-5 g++-5mediasoup server.jsÂàÜÊûêconst fs = require('fs');   //Êñá‰ª∂Á≥ªÁªü   	fs.readFileSync(path[,options]) //ÊñπÊ≥ïÁî®‰∫éÂêåÊ≠•ËØªÂèñÊñá‰ª∂ÔºåËøîÂõû‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤„ÄÇ	cert : fs.readFileSync(config.https.tls.cert),	key  : fs.readFileSync(config.https.tls.key)--------------------------------------const https = require('https');--------------------------------------const url = require('url'); //Ê®°ÂùóÁî®‰∫éÁîüÊàêÂíåËß£ÊûêURL„ÄÇËØ•Ê®°Âùó‰ΩøÁî®ÂâçÔºåÂøÖÈ°ªÂä†ËΩΩ„ÄÇ	url.parse(urlString[, parseQueryString[, slashesDenoteHost]]) //The url.parse() method takes a URL string, parses it, and returns a URL object.	const u = url.parse(info.request.url, true);const protoo = require('protoo-server');const mediasoup = require('mediasoup');----------------------------------------const express = require('express'); //Express ÊòØ‰∏Ä‰∏™ÁÆÄÊ¥ÅËÄåÁÅµÊ¥ªÁöÑ node.js WebÂ∫îÁî®Ê°ÜÊû∂, Êèê‰æõ‰∫Ü‰∏ÄÁ≥ªÂàóÂº∫Â§ßÁâπÊÄßÂ∏ÆÂä©‰Ω†ÂàõÂª∫ÂêÑÁßç Web Â∫îÁî®ÔºåÂíå‰∏∞ÂØåÁöÑ HTTP Â∑•ÂÖ∑„ÄÇconst expressApp = express();expressApp.use()Âíåapp.METHOD()(METHODÂåÖÊã¨get(),put(),post(),delete())ÈÉΩÊòØexpressÂ∫îÁî®Â±Ç‰∏≠Èó¥‰ª∂ÔºåÂ§ÑÁêÜÁî®Êà∑ÊµèËßàÂô®Á´ØÂèëËµ∑Âà∞ÊúçÂä°Á´ØÁöÑËØ∑Ê±ÇÔºå‰ΩÜÊòØ‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãexpressApp.use()ÈÉΩÂÜôÂú®app.METHOD()ÂâçÈù¢ÔºåÁÑ∂ÂêéÂú®use()‰∏≠Èó¥‰ª∂ÂáΩÊï∞ÈáåÂÜô‰∏Ä‰∫õÂÖ¨ÂÖ±ÁöÑ‰ª£Á†ÅÔºåÁÑ∂Âêénext()Âà∞METHOD()‰∏≠Èó¥‰ª∂ÂáΩÊï∞‰∏≠„ÄÇexpressApp.use(bodyParser.json()); //expressApp.param([name],callback); //ÊâßË°åExpressË∑ØÁî±(expressApp.get(),expressApp.post(),expressApp.put(),expressApp.delete()),‰ºöËß¶ÂèëexpressApp.param()Ëøô‰∏™ÊñπÊ≥ïÔºåexpressApp.param('roomId', (req, res, next, roomId) =&gt;{	// The room must exist for all API requests.	if (!rooms.has(roomId))	{		const error = new Error(`room with id "${roomId}" not found`);		error.status = 404;		throw error;	}	req.room = rooms.get(roomId);	next();});----------------------------------------const bodyParser = require('body-parser');body-parserÊòØexpressÊ°ÜÊû∂Â∏∏Áî®ÁöÑ‰∏Ä‰∏™‰∏≠Èó¥‰ª∂Ôºå‰ΩúÁî®ÊòØÂØπpostËØ∑Ê±ÇÁöÑËØ∑Ê±Ç‰ΩìËøõË°åËß£Êûê„ÄÇÁªìÂêàexpress().use()Âíåexpress().METHOD()ÁöÑ‰ΩøÁî®ÊñπÊ≥ïÔºåexpressApp.use(bodyParser.json()); expressApp.post('/rooms/:roomId/broadcasters', async (req, res, next) =&gt;{})-----------------------------------------const AwaitQueue = require('awaitqueue');Ëøô‰∏™Node.jsÁªÑ‰ª∂ÊòØMediasoupÁöÑ‰ΩúËÄÖÁºñÂÜôÁöÑÔºå-----------------------------------------const Logger = require('./lib/Logger');const Room = require('./lib/Room');const interactiveServer = require('./lib/interactiveServer');const interactiveClient = require('./lib/interactiveClient');  multipartyÂºïÂÖ•ÁöÑmoudleconst config = require('./config/config');const fs = require('fs');const http = require('http');-------------------------------const spdy = require('spdy');//ÈÖçÁΩÆhttpËÆøÈóÆÊñπÂºè-------------------------------const express = require('express');--------------------------------const compression = require('compression');app.user(compression()) //ÈÄöËøá Gzip ÂéãÁº©ÔºåÊúâÂä©‰∫éÊòæËëóÈôç‰ΩéÂìçÂ∫î‰∏ª‰ΩìÁöÑÂ§ßÂ∞èÔºå‰ªéËÄåÊèêÈ´ò Web Â∫îÁî®Á®ãÂ∫èÁöÑÈÄüÂ∫¶„ÄÇÂèØ‰ΩøÁî®ÂéãÁº©‰∏≠Èó¥‰ª∂ËøõË°å Express Â∫îÁî®Á®ãÂ∫è‰∏≠ÁöÑ gzip ÂéãÁº©„ÄÇ‰æãÂ¶Ç--------------------------------const mediasoup = require('mediasoup');const AwaitQueue = require('awaitqueue');const Logger = require('./lib/Logger');const Room = require('./lib/Room');const utils = require('./util');----------------------------------------const base64 = require('base-64');// Âä†ÂØÜËß£ÂØÜÂèÇÊï∞state : base64.encode(JSON.stringify({	roomId : req.query.roomId,	peerId : req.query.peerId,	code   : utils.random(10)}))const state = JSON.parse(base64.decode(req.query.state));----------------------------------------------const passport = require('passport');-------------------------------------const { Issuer, Strategy } = require('openid-client');const session = require('express-session');mediasoup-clientÁü•ËØÜÁÇπ  new mediasoupClient.Device(); //ÂÆû‰æãÂåñmediasoupClent  await this._mediasoupDevice.load()  this._mediasoupDevice.createSendTransport()  this._mediasoupDevice.createRecvTransport()  this._mediasoupDevice.canProduce();mediasoupÁü•ËØÜÁÇπ  const mediasoupWorker = mediasoup.createWorker()  const mediasoupRouter = mediasoupWorker.createRouter({ mediaCodecs });  this._mediasoupRouter.canConsume()  this._mediasoupRouter.rtpCapabilities;  mediasoupWorker.close();  const audioLevelObserver = await mediasoupRouter.createAudioLevelObserver();  const transport = await this._mediasoupRouter.createWebRtcTransport();  transport.setMaxIncomingBitrate(maxIncomingBitrate); }  transport.connect({ dtlsParameters });  transport.restartIce();  await transport.produce({ kind, rtpParameters, appData })  await transport.getStats();  consumer = await transport.consume();multiparty Â∑•‰ΩúÊµÅÁ®ã      app-&gt;src-&gt;index.js    logger.debug(‚ÄòDOM ready‚Äô);        app-&gt;src-&gt;RoomClient.js  export default class RoomClient{	static init(data){}	constructor({ roomId, peerId, device, useSimulcast, produce, consume, forceTcp }){logger.debug('constructor() [roomId: "%s", peerId: "%s", device: "%s", useSimulcast: "%s", produce: "%s", consume: "%s", forceTcp: "%s"]',roomId, peerId, device.flag, useSimulcast, produce, consume, forceTcp);}	------------------------------------------	close(){logger.debug('close()');}	------------------------------------------	_startKeyListener(){}	_startDevicesListener(){}	login(){}	logout(){}	closeLoginWindow(){}	_soundNotification(){logger.error('_soundAlert.play() | failed: %o', error);}	notify(text){}	timeoutCallback(callback){}	sendRequest(method, data){// ÂèëÈÄÅÂëΩ‰ª§Âà∞ÊúçÂä°Á´Øsocketreturn new Promise((resolve, reject) =&gt;		{			if (!this._signalingSocket)			{				reject('No socket connection.');			}			else			{				this._signalingSocket.emit(					'request',					{ method, data },					this.timeoutCallback((err, response) =&gt;					{						if (err)						{							reject(err);						}						else						{							resolve(response);						}					})				);			}		});		}	async changeDisplayName(displayName){logger.debug('changeDisplayName() [displayName:"%s"]', displayName);}	async changeProfilePicture(picture){logger.debug('changeProfilePicture() [picture: "%s"]', picture);}	async sendChatMessage(chatMessage){logger.debug('sendChatMessage() [chatMessage:"%s"]', chatMessage);}	saveFile(file){}	handleDownload(magnetUri){}	_handleTorrent(torrent){}	async shareFiles(files){}	async _sendFile(magnetUri){logger.debug('sendFile() [magnetUri: %o]', magnetUri);}	async getServerHistory(){logger.debug('getServerHistory()');}	------------------------------------------	async muteMic(){logger.debug('muteMic()');}	async unmuteMic(){logger.debug('unmuteMic()');}	------------------------------------------	async updateSpotlights(spotlights){logger.debug('updateSpotlights()');}	async changeAudioDevice(deviceId){logger.debug('changeAudioDevice() [deviceId: %s]', deviceId);}	async changeVideoResolution(resolution){logger.debug('changeVideoResolution() [resolution: %s]', resolution);}	async changeWebcam(deviceId){logger.debug('changeWebcam() [deviceId: %s]', deviceId);}	setSelectedPeer(peerId){logger.debug('setSelectedPeer() [peerId:"%s"]', peerId);}	async modifyPeerConsumer(peerId, type, mute){logger.debug('modifyPeerConsumer() [peerId:"%s", type:"%s"]',peerId,type);}	async _pauseConsumer(consumer){logger.debug('_pauseConsumer() [consumer: %o]', consumer);}	async _resumeConsumer(consumer){logger.debug('_resumeConsumer() [consumer: %o]', consumer);}	async sendRaiseHandState(state){logger.debug('sendRaiseHandState: ', state);}	async join({ joinVideo }){		this._signalingSocket = io(this._signalingUrl);		logger.debug('signaling Peer "connect" event');		this._signalingSocket.on('connect',()=&gt;{logger.debug('signaling Peer "connect" event');});		this._signalingSocket.on('disconnect',()=&gt;{logger.warn('signaling Peer "disconnect" event');});		this._signalingSocket.on('close',()=&gt;{logger.warn('signaling Peer "close" event');});		this._signalingSocket.on('request',async (request, cb)=&gt;{logger.debug(				'socket "request" event [method:%s, data:%o]',				request.method, request.data);				});		this._signalingSocket.on('notification', async (notification)=&gt;{			switch (notification.method)			{				case 'roomReady':{}				case 'roomLocked':{}				case 'lockRoom':{}				case 'unlockRoom':{}				case 'activeSpeaker':{}				case 'changeDisplayName':{}				case 'changeProfilePicture':{}				case 'auth':{}				case 'chatMessage':{}				case 'sendFile':{}				case 'producerScore':{}				case 'newPeer':{}				case 'peerClosed':{}				case 'consumerClosed':{}				case 'consumerPaused':{}				case 'consumerResumed':{}				case 'consumerLayersChanged':{}				case 'consumerScore':{}			}			});		this._signalingSocket.on('connect',()=&gt;{});		this._signalingSocket.on('connect',()=&gt;{});		this._signalingSocket.on('connect',()=&gt;{});		this._signalingSocket.on('connect',()=&gt;{});		this._signalingSocket.on('connect',()=&gt;{});		this._signalingSocket.on('connect',()=&gt;{});	}	async _joinRoom({ joinVideo }){		logger.debug('_joinRoom()');		this._mediasoupDevice = new mediasoupClient.Device(); //ÂÆû‰æãÂåñmediasoupClent		const routerRtpCapabilities = await this.sendRequest('getRouterRtpCapabilities') //socket.ioÂèëÈÄÅmediasoupÂëΩ‰ª§		await this._mediasoupDevice.load({ routerRtpCapabilities }); //mediasoup-clientÊ†πÊçÆsocket.ioÂèëÈÄÅÂëΩ‰ª§ËøîÂõûÊù•ÁöÑÊï∞ÊçÆload()		if(this._produce){			//socket.ioÂèëÈÄÅProducerÂëΩ‰ª§			const transportInfo = await this.sendRequest( 'createWebRtcTransport',{forceTcp  : this._forceTcp,producing : true,consuming : false});			//ÂÆö‰πâÂπ∂Êé•Êî∂socket.ioËøîÂõûÊù•ÁöÑÂÄº			const {id,iceParameters,iceCandidates,dtlsParameters} = transportInfo;			//mediasoupClientÂàõÂª∫ÂèëÈÄÅÈÄöÈÅì			this._sendTransport = this._mediasoupDevice.createSendTransport({id,iceParameters,iceCandidates,dtlsParameters});			this._sendTransport.on('connect',(){})			this._sendTransport.on('produce',(){})		}		if(this._consumer){			//socket.ioÂèëÈÄÅconsumerÂàõÂª∫webRTCÈÄöÈÅì			const transportInfo = await this.sendRequest('createWebRtcTransport',{forceTcp  : this._forceTcp,producing : false,consuming : true});			const {id,iceParameters,iceCandidates,dtlsParameters} = transportInfo;			//mediasoupClientÂàõÂª∫Êé•ÂèóÈÄöÈÅì			this._recvTransport = this._mediasoupDevice.createRecvTransport(			{				id,				iceParameters,				iceCandidates,				dtlsParameters			});		}		//socket.ioÂèëÈÄÅjoinÂëΩ‰ª§		const { peers } = await this.sendRequest(		'join',{displayName: displayName,picture: picture,device: this._device,			rtpCapabilities : this._consume				? this._mediasoupDevice.rtpCapabilities				: undefined		});			}	------------------------------------------	async lockRoom(){		logger.debug('lockRoom()');		//socket.ioÂèëÈÄÅlockRoomÂëΩ‰ª§		await this.sendRequest('lockRoom');	}	async unlockRoom(){		logger.debug('unlockRoom()');		//socket.ioÂèëÈÄÅunlockRoomÂëΩ‰ª§		await this.sendRequest('unlockRoom');	}	------------------------------------------	async enableMic(){		logger.debug(				'enableMic() | new selected audio device [device:%o]',device);		logger.debug('enableMic() | calling getUserMedia()');		this._micProducer = await this._sendTransport.produce(		{			track,			codecOptions :			{				opusStereo : 1,				opusDtx    : 1			},			appData : 			{ source: 'mic' }		});	}	async disableMic(){		logger.debug('disableMic()');		await this.sendRequest(				'closeProducer', { producerId: this._micProducer.id });	}	------------------------------------------	async enableScreenSharing(){}	async disableScreenSharing(){}	------------------------------------------	async enableWebcam(){		if (!this._mediasoupDevice.canProduce('video')		this._sendTransport.producetrack,					appData : 					{						source : 'webcam'					}				})	}	async disableWebcam(){		logger.debug('disableWebcam()');		this._webcamProducer = await this.sendRequest(				'closeProducer', { producerId: this._webcamProducer.id });	}	------------------------------------------	async _updateAudioDevices(){logger.debug('_updateAudioDevices()');}	async _updateWebcams(){logger.debug('_updateWebcams()');}	async _getAudioDeviceId(){logger.debug('_getAudioDeviceId()');}	async _getWebcamDeviceId(){logger.debug('_getWebcamDeviceId()');}}ÊµèËßàÂô®Á´ØbrowserÂíåÊúçÂä°Á´ØserverÈÄö‰ø°ÊúçÂä°Á´ØÂú∞ÂùÄÔºöconst url = wss://${hostname}:${port}/?peerId=${peerId}&amp;roomId=${roomId};ÊúçÂä°Á´ØÁî®Âà∞ÁöÑroomId,ÂíåpeerIdÊòØÈÄöËøáÊµèËßàÂô®Á´ØÂÆö‰πâÂπ∂‰º†ÈÄíËøáÂéªÁöÑbrowserÈÄöËøáÂàùÂßãÂåñsocket.io-clientÂàùÂßãÂåñsocket.io-clientÈªòËÆ§ÂêëÊúçÂä°Á´Øsocket.ioÊúçÂä°ÂèëÈÄÅconnectionÂëΩ‰ª§ÔºåÊúçÂä°Á´Øsocket.ioÁõëÂê¨Âà∞connectionÂëΩ‰ª§ÂêéÔºåÊ†πÊçÆbrowserÁ´Øsocket.io-client‰º†ÈÄíËøáÊù•ÁöÑroomIdÂèÇÊï∞ÔºåÊâßË°åËé∑ÂèñÊàñËÄÖÂàõÂª∫ÊàøÈó¥,async join(){this._signalingSocket = io(this._signalingUrl)}=============&gt;async function runWebSocketServer(){	const io = require('socket.io')(httpsServer);	io.on('connection', (socket) =&gt;	{		const { roomId, peerId } = socket.handshake.query;		if (!roomId || !peerId)		{			logger.warn('connection request without roomId and/or peerId');			socket.disconnect(true);			return;		}		logger.info(			'connection request [roomId:"%s", peerId:"%s"]', roomId, peerId);		queue.push(async () =&gt;		{			const room = await getOrCreateRoom({ roomId }); //ÂàõÂª∫ÊàøÈó¥			room.handleConnection({ peerId, socket }); //ÂàõÂª∫peer		})		.catch((error) =&gt;		{			logger.error('room creation or room joining failed:%o', error);			socket.disconnect(true);			return;		});	});}ÂàõÂª∫ÊàøÈó¥ÊñπÊ≥ïgetOrCreateRoom({roomId})ÊàøÈó¥Êï∞ÈáèÂèóÂà∞mediasoupWorkersÁöÑÈôêÂà∂ÔºåmediasoupWorkersÁöÑÊï∞ÈáèÊòØconfigÈÖçÁΩÆÊñá‰ª∂ÈáåÊ†πÊçÆcpuÁöÑÊÄßËÉΩÈôêÂà∂ÔºåÂú®ÂºÄÂêØÊúçÂä° node server.jsËøêË°åÊó∂ÔºåÂ∞±ÊâßË°å‰∫ÜrunMediasoupWorkers()ÊñπÊ≥ïÊ†πÊçÆÈÖçÁΩÆÊñá‰ª∂ÊäämediasoupWorkersÂàùÂßãÂåñÊàêÊï∞ÁªÑ‰∫ÜÔºåËØ•Êï∞ÁªÑÂåÖÂê´‰∫ÜÊâÄÊúâÂèØÁî®ÁöÑmediasoupworker‰∫ÜÔºåÂàõÂª∫ÊàøÈó¥Áî®Âà∞ÁöÑÊñπÊ≥ïÊòØRoom.jsÈáåÈù¢ÁöÑcreate()ÊñπÊ≥ïÔºåÂú®ÊâßË°åcreateÊñπÊ≥ïÈáåÈù¢ÂèàÈÄöËøá‰º†ÈÄíÂèÇÊï∞mediasoupworker,ÂàõÂª∫‰∫ÜmediasoupRouter,ÂàõÂª∫ÊàøÈó¥ÊàêÂäüÂêéÊâßË°åroom.handleConnectionÊñπÊ≥ï,ÂàõÂª∫ÊàøÈó¥ÊàêÂäüÂêéÊâßË°åthis._notification(socket, ‚ÄòroomReady‚Äô)ÔºåÂèëÈÄÅÂëΩ‰ª§roomReadyÁªôsocket.io-client;async function getOrCreateRoom({ roomId }){	let room = rooms.get(roomId);	// If the Room does not exist create a new one.	if (!room)	{		logger.info('creating a new Room [roomId:%s]', roomId);		const mediasoupWorker = getMediasoupWorker();		room = await Room.create({ mediasoupWorker, roomId });		rooms.set(roomId, room);		room.on('close', () =&gt; rooms.delete(roomId));	}	return room;}async function runMediasoupWorkers(){	const { numWorkers } = config.mediasoup;	logger.info('running %d mediasoup Workers...', numWorkers);	for (let i = 0; i &lt; numWorkers; ++i)	{		const worker = await mediasoup.createWorker(			{				logLevel   : config.mediasoup.worker.logLevel,				logTags    : config.mediasoup.worker.logTags,				rtcMinPort : config.mediasoup.worker.rtcMinPort,				rtcMaxPort : config.mediasoup.worker.rtcMaxPort			});		worker.on('died', () =&gt;		{			logger.error(				'mediasoup Worker died, exiting  in 2 seconds... [pid:%d]', worker.pid);			setTimeout(() =&gt; process.exit(1), 2000);		});		mediasoupWorkers.push(worker);	}}/** * Get next mediasoup Worker. */function getMediasoupWorker(){	const worker = mediasoupWorkers[nextMediasoupWorkerIdx];	if (++nextMediasoupWorkerIdx === mediasoupWorkers.length)		nextMediasoupWorkerIdx = 0;	return worker;}ÊúçÂä°Á´ØRoom.jsÂàõÂª∫ÊàøÈó¥ÊàêÂäüÂêé,ÊâßË°åroom.handleConnectionÔºåÂàõÂª∫PeerpeerÂàõÂª∫ÊàêÂäüÂêéÊâßË°åpeer._handlePeer(),ÂàõÂª∫‰∏Ä‰∏™peerÂØπË±°Ôºå_handlePeer({ peer, consume })	{		logger.debug('_handlePeer() [peer:"%s"]', peer.id);		peer.data = {};		// Not joined after a custom protoo 'join' request is later received.		peer.data.consume = consume;		peer.data.joined = false;		peer.data.displayName = undefined;		peer.data.device = undefined;		peer.data.rtpCapabilities = undefined;		peer.data.raiseHandState = false;		// Have mediasoup related maps ready even before the Peer joins since we		// allow creating Transports before joining.		peer.data.transports = new Map();		peer.data.producers = new Map();		peer.data.consumers = new Map();		peer.socket.on('request', (request, cb) =&gt;		{			logger.debug(				'Peer "request" event [method:%s, peerId:%s]',				request.method, peer.id);			this._handleSocketRequest(peer, request, cb)				.catch((error) =&gt;				{					logger.error('request failed:%o', error);					cb(error);				});		});		peer.socket.on('disconnect', () =&gt;		{			if (this._closed)				return;			logger.debug('Peer "close" event [peerId:%s]', peer.id);			// If the Peer was joined, notify all Peers.			if (peer.data.joined)			{				this._notification(peer.socket, 'peerClosed', { peerId: peer.id }, true);			}			const index = this._lastN.indexOf(peer.id);			if (index &gt; -1) // We have this peer in the list, remove			{				this._lastN.splice(index, 1);			}			// Iterate and close all mediasoup Transport associated to this Peer, so all			// its Producers and Consumers will also be closed.			for (const transport of peer.data.transports.values())			{				transport.close();			}			this._peers.delete(peer.id);			// If this is the latest Peer in the room, close the room after a while.			if (this._peers.size === 0)			{				setTimeout(() =&gt;				{					if (this._closed)						return;					if (this._peers.size === 0)					{						logger.info(							'last Peer in the room left, closing the room [roomId:%s]',							this._roomId);						this.close();					}				}, 10000);			}		});	}Â∑•‰ΩúÊµÅÁ®ã  ÊµèËßàÂô®Á´ØÈÄöËøájoinÊñπÊ≥ï‰ΩøÁî®socket.io-clientÔºåÂèëÈÄÅconnectionÂëΩ‰ª§Ôºå  ÊúçÂä°Á´ØÈÄöËøáÁõëÂê¨connectionÂëΩ‰ª§ÔºåÂàõÂª∫mediasoupWorker,  ÁÑ∂ÂêéÂú®ÂàõÂª∫roomÂíåmediasoupRouter,  ÁÑ∂ÂêéÂú®ÂàõÂª∫Peer  ÁÑ∂ÂêéÈÄöËøásocket.ioÂèëÈÄÅÁªôÊµèËßàÂô®Á´ØroomReadyÂëΩ‰ª§ecmscript6 es6Áü•ËØÜÁÇπ  new Map();const rooms = new Map();rooms.has(roomId)rooms.get(roomId)rooms.set(roomId, room);      export default class RoomClient{} //Âú®ÂàõÂª∫JavaScriptÊ®°ÂùóÊó∂Ôºåexport ËØ≠Âè•Áî®‰∫é‰ªéÊ®°Âùó‰∏≠ÂØºÂá∫ÂáΩÊï∞„ÄÅÂØπË±°ÊàñÂéüÂßãÂÄºÔºå‰ª•‰æøÂÖ∂‰ªñÁ®ãÂ∫èÂèØ‰ª•ÈÄöËøá import ËØ≠Âè•‰ΩøÁî®ÂÆÉ‰ª¨„ÄÇ        static function(){} //ÈùôÊÄÅÊñπÊ≥ï‰∏çËÉΩÁî® new ÂÆû‰æãË∞ÉÁî®        ‚Ä¶ Spread syntaxÂ±ïÂºÄËØ≠Ê≥ïreturn (‚Ä¶args) =&gt;  ]]></content>
      <categories>
        
          <category> mediasoup </category>
        
      </categories>
      <tags>
        
          <tag> mediasoup </tag>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[‰ΩøÁî®video.jsÊí≠Êîædash„ÄÅm3u8„ÄÅmp4ËßÜÈ¢ëÊñá‰ª∂„ÄÇ]]></title>
      <url>/videojs/2019/09/26/videojs-play-dash-m3u8-mp4/</url>
      <content type="text"><![CDATA[‰ΩøÁî®video.jsÊí≠Êîædash„ÄÅm3u8„ÄÅmp4ËßÜÈ¢ëÊñá‰ª∂„ÄÇvideo.jsÊí≠ÊîæMp4&lt;head&gt;  &lt;link href="https://vjs.zencdn.net/7.6.5/video-js.css" rel="stylesheet"&gt;  &lt;!-- If you'd like to support IE8 (for Video.js versions prior to v7) --&gt;  &lt;script src="https://vjs.zencdn.net/ie8/1.1.2/videojs-ie8.min.js"&gt;&lt;/script&gt;&lt;/head&gt;&lt;body&gt;  &lt;video id='my-video' class='video-js' controls preload='auto' width='640' height='264'  poster='MY_VIDEO_POSTER.jpg' data-setup='{}'&gt;    &lt;source src='MY_VIDEO.mp4' type='video/mp4'&gt;    &lt;source src='MY_VIDEO.webm' type='video/webm'&gt;    &lt;p class='vjs-no-js'&gt;      To view this video please enable JavaScript, and consider upgrading to a web browser that      &lt;a href='https://videojs.com/html5-video-support/' target='_blank'&gt;supports HTML5 video&lt;/a&gt;    &lt;/p&gt;  &lt;/video&gt;  &lt;script src='https://vjs.zencdn.net/7.6.5/video.js'&gt;&lt;/script&gt;&lt;/body&gt;video.jsÊí≠ÊîæMPEG-DASH&lt;video id=example-video width=600 height=300 class="video-js vjs-default-skin" controls&gt; &lt;/video&gt;&lt;script src="video.js"&gt;&lt;/script&gt;&lt;script src="dash.all.js"&gt;&lt;/script&gt;&lt;script src="videojs-dash.min.js"&gt;&lt;/script&gt;&lt;script&gt;  var player = videojs('example-video');  player.src({ src: 'https://example.com/dash.mpd', type: 'application/dash+xml'});  player.play();&lt;/script&gt;video.jsÊí≠ÊîæM3U8&lt;video id=example-video width=960 height=540 class="video-js vjs-default-skin" controls&gt;  &lt;source     src="https://example.com/index.m3u8"     type="application/x-mpegURL"&gt;&lt;/video&gt;&lt;script src="video.js"&gt;&lt;/script&gt;&lt;script src="videojs.hls.min.js"&gt;&lt;/script&gt;&lt;script&gt;var player = videojs('example-video');player.play();&lt;/script&gt;‰∏ãËΩΩËµÑÊ∫êÈìæÊé•  video.js  dash.all.js  videojs-dash.min.js  videojs-hls.min.jsÂèÇËÄÉËµÑÊñô  Video.js Setup  VideoJS MPEG-DASHÂçöÂÆ¢=&gt;https://videojs.github.io/videojs-contrib-dash/  VideoJS m3u8ÂçöÂÆ¢=&gt;https://videojs.github.io/videojs-contrib-hls/]]></content>
      <categories>
        
          <category> videojs </category>
        
      </categories>
      <tags>
        
          <tag> videojs </tag>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[mysql ÂÇ®Â≠ò emojiË°®ÊÉÖÁ¨¶]]></title>
      <url>/mysql/2019/09/25/emoji-utf8mb4/</url>
      <content type="text"><![CDATA[mysql‰ΩøÁî®utf8mb4ÂÇ®Â≠òemojiË°®ÊÉÖÁ¨¶Ôºåmysql odbc driver ‰∏çÂÖºÂÆπutf8mb4UnicodeÁÆÄ‰ªãUnicodeÔºà‰∏≠ÊñáÔºö‰∏áÂõΩÁ†Å„ÄÅÂõΩÈôÖÁ†Å„ÄÅÁªü‰∏ÄÁ†Å„ÄÅÂçï‰∏ÄÁ†ÅÔºâÊòØËÆ°ÁÆóÊú∫ÁßëÂ≠¶È¢ÜÂüüÈáåÁöÑ‰∏ÄÈ°π‰∏öÁïåÊ†áÂáÜ„ÄÇÂÆÉÂØπ‰∏ñÁïå‰∏äÂ§ßÈÉ®ÂàÜÁöÑÊñáÂ≠óÁ≥ªÁªüËøõË°å‰∫ÜÊï¥ÁêÜ„ÄÅÁºñÁ†ÅÔºå‰ΩøÂæóËÆ°ÁÆóÊú∫ÂèØ‰ª•Áî®Êõ¥‰∏∫ÁÆÄÂçïÁöÑÊñπÂºèÊù•ÂëàÁé∞ÂíåÂ§ÑÁêÜÊñáÂ≠ó„ÄÇ‰Ωç‰∫éÁæéÂõΩÂä†Â∑ûÁöÑUnicodeÁªÑÁªáÂÖÅËÆ∏‰ªª‰ΩïÊÑøÊÑèÊîØ‰ªò‰ºöË¥πÁöÑÂÖ¨Âè∏Âíå‰∏™‰∫∫Âä†ÂÖ•ÔºåÂÖ∂ÊàêÂëòÂåÖÂê´‰∫Ü‰∏ªË¶ÅÁöÑËÆ°ÁÆóÊú∫ËΩØÁ°¨‰ª∂ÂéÇÂïÜÔºå‰æãÂ¶ÇAdobeÁ≥ªÁªü„ÄÅËãπÊûúÂÖ¨Âè∏„ÄÅÊÉ†ÊôÆ„ÄÅIBM„ÄÅÂæÆËΩØ„ÄÅÊñΩ‰πêÁ≠â„ÄÇUnicode Ëá™ÁâàÊú¨ 2.0 ÂºÄÂßã‰øùÊåÅ‰∫ÜÂêëÂêéÂÖºÂÆπÔºåÂç≥Êñ∞ÁöÑÁâàÊú¨‰ªÖ‰ªÖÂ¢ûÂä†Â≠óÁ¨¶ÔºåÂéüÊúâÂ≠óÁ¨¶‰∏ç‰ºöË¢´Âà†Èô§ÊàñÊõ¥Âêç„ÄÇÁõÆÂâçÁâàÊú¨ÊòØUnicode 12.1,Áªü‰∏ÄÁ†ÅËÅîÁõüÂú® 1991 Âπ¥È¶ñÊ¨°ÂèëÂ∏É‰∫Ü The Unicode Standard„ÄÇUnicode ÁöÑÂºÄÂèëÁªìÂêà‰∫ÜÂõΩÈôÖÊ†áÂáÜÂåñÁªÑÁªáÊâÄÂà∂ÂÆöÁöÑ ISO/IEC 10646ÔºåÂç≥ÈÄöÁî®Â≠óÁ¨¶ÈõÜ„ÄÇÂü∫Êú¨Â§öÊñáÁßçÂπ≥Èù¢ÁöÑÂ≠óÁ¨¶ÁöÑÁºñÁ†Å‰∏∫ U+hhhhÔºåÂÖ∂‰∏≠ÊØè‰∏™ h ‰ª£Ë°®‰∏Ä‰∏™ÂçÅÂÖ≠ËøõÂà∂Êï∞Â≠óemojiË°®ÊÉÖÁ¨¶ÁÆÄ‰ªãemojiÔºàËã±ËØ≠ÔºöemojiÔºåÊó•ËØ≠ÔºöÁµµÊñáÂ≠óÔºè„Åà„ÇÇ„Åò emojiÔºâÔºåÊúÄÊó©Áî±Ê†óÁî∞Á©∞Â¥áÔºàShigetaka KuritaÔºâÂàõ‰Ωú,ÊòØ‰∏ÄÁßçÂΩ¢Ë±°ÂåñÁöÑÁ¨¶Âè∑ÔºåÂåÖÊã¨‰∫∫ÁöÑÈù¢ÈÉ®Ë°®ÊÉÖ„ÄÅËÇ¢‰ΩìÂä®‰Ωú„ÄÅÂêÑÁßçÂä®Áâ©„ÄÅÂêÑÁßçÊ§çÁâ©„ÄÅÂêÑÁßçÈ£üÁâ©„ÄÅÂêÑÁßç‰ΩìËÇ≤Ê¥ªÂä®„ÄÅÂêÑÁßç‰∫§ÈÄöÂ∑•ÂÖ∑„ÄÅÂêÑÁßç‰∫§ÈÄöÊ†áÂøó„ÄÅÂêÑÁßçÂõΩÊóóÁ≠âÂΩ¢Ë±°ÂåñÁ¨¶Âè∑ÁöÑÊÄªÁß∞„ÄÇ2010Âπ¥10ÊúàÂèëÂ∏ÉÁöÑUnicode 6.0ÁâàÈ¶ñÊ¨°Êî∂ÂΩïemojiÁºñÁ†Å„ÄÇemojiÂÇ®Â≠òÂà∞mysql  utf8_unicode_ciÂíåutf8mb4_unicode_ciÁöÑÂºÇÂêåËøô‰∏§ÁßçcollationsÊâÄÂØπÂ∫îÁöÑÂ≠óÁ¨¶ÈÉΩÊòØUTF-8ÁºñÁ†ÅÁöÑ‰∏Ä‰∏™Â≠êÈõÜ„ÄÇutf8_unicode_ciÊúÄÂ§öËÉΩÊâæÂà∞3‰∏™Â≠óËäÇÁöÑUnicodeÁºñÁ†ÅÔºåËÄåutf8mb4_unicode_ciÂàôËÉΩÊâæÂà∞4‰∏™Â≠óËäÇÁöÑÁºñÁ†Å„ÄÇÁî±‰∫éË∞ÉÊï¥ÂêéÁöÑUTF-8ÁºñÁ†ÅÊ†ºÂºèËßÑÂÆöÊúÄÂ§ö‰ΩøÁî®4Â≠óËäÇÔºàÂéüÊù•ÊòØ6Â≠óËäÇÔºâÁºñÁ†ÅÔºåÊâÄ‰ª•utf8mb4Á≥ªÂàóÂèØ‰ª•ËØ¥ÊòØË¶ÜÁõñ‰∫ÜÊï¥‰∏™UnicodeÁºñÁ†Å„ÄÇÁî±‰∫éutf8_unicode_ciÊúÄÂ§öËÉΩÊâæÂà∞3‰∏™Â≠óËäÇÁöÑÁºñÁ†ÅÔºåÊÑèÂë≥ÁùÄÂÆÉÂè™ÊîØÊåÅBMP‰∏≠ÁöÑÂ≠óÁ¨¶ÔºåÂØπ‰∫éSMP‰∏éSIP‰ª•ÂèäÂÖ∂‰ªñÂ§¥‰∏ÄÂ≠óËäÇ‰∏ç‰∏∫0x00„ÄÅÈúÄË¶Å4Â≠óËäÇÁºñÁ†ÅÁöÑplanesÊù•ËØ¥Ôºåutf8_unicode_ciËøôÁßçcollationÊòØÊó†Ê≥ïÊîØÊåÅ„ÄÇÂΩì‰ΩøÁî®4Â≠óËäÇÁöÑÂ≠óÁ¨¶ÔºàÂ¶Çemoji‰∏éBÂå∫‰ª•ÂêéÁöÑÁªü‰∏ÄÊ±âÂ≠óÔºâÂØπ‰ΩøÁî®Ê≠§ÁßçcollationÁöÑÂ≠óÊÆµËøõË°åÂ¢ûÂà†Êü•ÊîπÊó∂ÔºåÊï∞ÊçÆÂ∫ì‰ºöÊä•‰∏Ä‰∏™ÈùûÊ≥ïÂ≠óÁ¨¶ÁöÑÂºÇÂ∏∏„ÄÇËÄåutf8mb4ÂàôÊ≤°ÊúâÊ≠§ÈóÆÈ¢ò„ÄÇÁî±Ê≠§‰πüÁúãÂá∫Ôºåutf8mb4_unicode_ciÊòØutf8_unicode_ciÁöÑË∂ÖÈõÜ„ÄÇemojiÂÇ®Â≠òÂà∞Êï∞ÊçÆÂ∫ìÈúÄË¶Å4‰∏™Â≠óËäÇbytes,ÈúÄË¶ÅÂ≠óÊÆµÁöÑÂ≠óÁ¨¶ÈõÜËÆæÁΩÆÊàê‰∏∫utf8mb4Ôºå  ËÆæÁΩÆÂ≠óÊÆµÂ≠óÁ¨¶ÈõÜ‰∏∫utf8mb4ÔºåÂ≠óÁ¨¶ÈõÜÊ†°ÂØπutf8mb4_unicode_cimysqlÈÖçÁΩÆÂíå‰øÆÊîπÂ≠óÁ¨¶ÈõÜ  Â¶ÇÊûúÊòØÂ∑≤ÁªèÂ≠òÂú®ÁöÑÈ°πÁõÆÔºåÁé∞Âú®Â≠òÂú®ÁöÑÊï∞ÊçÆË°®ÂíåÊú™Êù•ÂàõÂª∫ÁöÑÊï∞ÊçÆË°®ÊØè‰∏™Â≠óÊÆµÈÉΩÊîØÊåÅ4‰∏™Â≠óËäÇ(emoji)ÁöÑÂ≠òÂÇ®ÔºåÈÇ£‰πàÈúÄË¶Å‰øÆÊîπ‰øÆÊîπÈÖçÁΩÆÊñá‰ª∂„ÄÅÂ∑≤Â≠òÂú®ÁöÑÊï∞ÊçÆÂ∫ìÂ≠óÁ¨¶ÈõÜ„ÄÅÊï∞ÊçÆË°®Â≠óÁ¨¶ÈõÜ„ÄÅÂ≠óÊÆµÂ≠óÁ¨¶ÈõÜ‰øÆÊîπmysqlÈÖçÁΩÆÊñá‰ª∂[client]no-beepdefault-character-set = utf8mb4# pipe# socket=0.0port=7349[mysql]no-beep#default-character-set=utf8default-character-set = utf8mb4[mysqld]#character-set-server=utf8character-set-server = utf8mb4collation-server = utf8mb4_unicode_ci‰øÆÊîπÊï∞ÊçÆÂ∫ìÁöÑÂ≠óÁ¨¶ÈõÜALTER SCHEMA `lti`  DEFAULT CHARACTER SET utf8mb4  DEFAULT COLLATE utf8mb4_unicode_ci ;‰øÆÊîπË°®ÁöÑÂ≠óÁ¨¶ÈõÜALTER TABLE `lti`.`item` CHARACTER SET = utf8mb4 , COLLATE = utf8mb4_unicode_ci ;‰øÆÊîπÂ≠óÊÆµÁöÑÂ≠óÁ¨¶ÈõÜALTER TABLE `lti`.`item` CHANGE COLUMN `item_text` `item_text` TEXT CHARACTER SET 'utf8mb4' COLLATE 'utf8mb4_unicode_ci' NULL DEFAULT NULL ;  Â¶ÇÊûúÂè™ÈúÄË¶ÅÊüê‰∏™Â≠óÊÆµÊîØÊåÅemoji4Â≠óËäÇÂ≠òÂÇ®ÔºåÂèØ‰ª•Áõ¥Êé•‰øÆÊîπËøô‰∏™Â≠óÊÆµÁöÑÂ≠óÁ¨¶ÈõÜÂ∞±ÂèØ‰ª•‰∫ÜÔºå‰∏çÁî®‰øÆÊîπÈÖçÁΩÆÊñá‰ª∂Á≠â„ÄÇALTER TABLE `lti`.`item` CHANGE COLUMN `item_text` `item_text` TEXT CHARACTER SET 'utf8mb4' COLLATE 'utf8mb4_unicode_ci' NULL DEFAULT NULL ;mysql odbc driver ‰∏çÂÖºÂÆπutf8mb4Â¶ÇÊûúÊúçÂä°Á´ØËÑöÊú¨ËØ≠Ë®ÄAsp‰ΩøÁî®ÁöÑmysql odbc driverÊìç‰ΩúÊï∞ÊçÆÂ∫ìÔºåÊ∂âÂèäÂà∞utf8mb4ÁöÑÂ≠óÊÆµ‰ºöÂá∫Áé∞ÈîôËØØÔºåËØïËøá‰∫ÜÂæàÂ§öÁâàÊú¨ÁöÑmysql-connector-odbc-8.0.x-winx64.msiÈÉΩ‰∏çÂèØ‰ª•ÔºåÊúÄÂêéÂÆâË£Ö‰ΩøÁî®mariadb-connector-odbc-3.0.9-win64,Ëß£ÂÜ≥‰∫Üodbcd dirver‰∏çÂÖºÂÆπutf8mb4ÁöÑÈóÆÈ¢òÂÖ∂‰ªñÊúçÂä°Á´ØËÑöÊú¨ËØ≠Ë®ÄPHPÊ≤°Êúâ‰ΩøÁî®mysql odbc driverÊ≤°ÊúâÂèëÁé∞ÈóÆÈ¢ò„ÄÇÂèÇËÄÉËµÑÊñô  mariadb odbc driver 3.0.9  mysql odbc driver ÂéÜÂè≤ÁâàÊú¨  Unicode Áª¥Âü∫ÁôæÁßë  emoji Áª¥Âü∫ÁôæÁßë  emoji unicode UTF-8 =&gt; https://apps.timwhitlock.info/emoji/tables/unicode]]></content>
      <categories>
        
          <category> mysql </category>
        
      </categories>
      <tags>
        
          <tag> mysql </tag>
        
      </tags>
      <tags></tags>
    </entry>
  
    <entry>
      <title><![CDATA[GitÂ≠¶‰π†Á¨îËÆ∞]]></title>
      <url>/git/2019/09/23/Git-learing/</url>
      <content type="text"><![CDATA[GitÈÖçÁΩÆÔºåËé∑ÂèñGit‰ªìÂ∫ìÔºåËøúÁ®ã‰ªìÂ∫ìÁÆ°ÁêÜÔºåÂêàÂπ∂CommitÁü•ËØÜÁÇπ  repository //‰ªìÂ∫ì  gitÊú¨Âú∞‰ªìÂ∫ì  gitËøúÁ®ã‰ªìÂ∫ì(githubÊàñÊê≠Âª∫ÊúçÂä°Á´Øgit‰ªìÂ∫ì)  staged files //Changes to be committed ÁºìÂ≠òÂå∫Êñá‰ª∂  unstaged files //Changes not staged for commit Â∑≤Ë∑üË∏™Êñá‰ª∂ÔºåÂπ∂‰∏î‰øÆÊîπÂêé‰∏∫Âä†ÂÖ•ÁºìÂ≠òÂå∫Êñá‰ª∂  Untracked Files // Êú™Ë∑üË∏™ÁöÑÊñá‰ª∂ÂÆâË£ÖGit  Áî®ÊµèËßàÂô®ÊâìÂºÄGitÂÆòÊñπÁΩëÂùÄhttps://git-scm.com/downloads,  ÈÄâÊã©ÈÄÇÈÖçËá™Â∑±ÁîµËÑëÁ≥ªÁªüÁöÑGit(Mac„ÄÅWindows„ÄÅLinux/Unix)ÈÖçÁΩÆÁî®Êà∑‰ø°ÊÅØÂÖ®Â±ÄÈÖçÁΩÆ$ git config --global user.name "Zhao QH"$ git config --global user.email "Zhaoqhu@gmail.com"Â±ÄÈÉ®ÈÖçÁΩÆ$ cd ./git_programs/special_program$ git config user.name "ZhaoQingHu"$ git config user.email "izhaoqinghu@gmail.com"ÂàõÂª∫Êú¨Âú∞Git‰ªìÂ∫ì$ cd ./git_programs/first_git$ echo "# zhaoqhu.github.io" &gt;&gt; README.md$ git init$ git add README.md$ git commit -m "first commit"git CommitÊèê‰∫§git commit -m "Êèê‰∫§‰ø°ÊÅØ"#Â∞ÜÊú¨Ê¨°Êèê‰∫§ËøΩÂä†Âà∞‰∏ä‰∏ÄÊ¨°Êèê‰∫§Ôºå‰∏ç‰ºö‰∫ßÁîüÊñ∞ÁöÑcommitIDgit commit -m "Êñ∞ÁöÑÊèê‰∫§‰ø°ÊÅØ" --amend‰ΩøÁî®SSHËøûÊé•Âà∞GitHubÊú¨Âú∞ËÆ°ÁÆóÊú∫SSHËÆæÁΩÆÂèÇËÄÉËøûÊé•Ôºöhttps://help.github.com/cn/articles/connecting-to-github-with-ssh‰∏ÄÂè∞ËÆ°ÁÆóÊú∫ÈÖçÁΩÆ‰∏Ä‰∏™GithubË¥¶Êà∑SSHÂØÜÈí•  ÊâßË°å‰∏ãÈù¢ÁöÑshellÂëΩ‰ª§ÂàóÂá∫Â∑≤Â≠òÂú®ÁöÑSSHÂØÜÈí•    $ ls -al ~/.ssh        Â¶ÇÊûú.sshÁõÆÂΩï‰∏ã‰∏ç‰∏∫Á©∫ÂèØËÉΩÂåÖÂê´‰ª•‰∏ãÊñá‰ª∂ÔºåËØ¥ÊòéÊú¨Âú∞ËÆ°ÁÆóÊú∫Â∑≤ÁªèÂ≠òÂú®SSHÂØÜÈí•,Âê¶ÂàôÊú¨Âú∞ËÆ°ÁÆóÊú∫Â∞öÊú™ÁîüÊàêSSHÂØÜÈí•Ôºö id_dsa.pubÔºåid_ecdsa.pubÔºåid_ed25519.pubÔºåid_rsa.pub    ÁîüÊàêÊñ∞ÁöÑSSHÂØÜÈí•     $ ssh-keygen        Â¶ÇÊûú~/.sshÁõÆÂΩï‰∏ãÊ≤°ÊúâÊñá‰ª∂ÔºåÁîüÊàêÊñ∞ÁöÑSSHÂØÜÈí•ÔºåÊåâÂõûËΩ¶ÈîÆÂá†Ê¨°ÂêéÁîüÊàê‰∫Üid_rsa.pubÔºåid_dsa.pub    Â§çÂà∂id_rsa.pubËøô‰∏™Êñá‰ª∂ÈáåÁöÑÂÜÖÂÆπÊ∑ªÂä†Âà∞gihubË¥¶Êà∑ÔºåÂèØ‰ª•‰ΩøÁî®‰∏ãÈù¢ÁöÑÂëΩ‰ª§‰πüÂèØ‰ª•Áõ¥Êé•Áî®ÁºñËæëÂô®ÊàñËÄÖVIMÊâìÂºÄ*.pubÊñá‰ª∂ËøõË°åCopy    $ clip &lt; ~/.ssh/id_rsa.pub        Ê∑ªÂä†Âà∞GithubË¥¶Êà∑ GithubË¥¶Êà∑=&gt;settings=&gt;SSH and GPG Keys=&gt;New SSH Key  ‰ΩøÁî®‰∏ãÊñπÁöÑÂëΩ‰ª§ÔºåÊµãËØïË¥¶Âè∑ÈÖçÁΩÆÊòØÂê¶ÊàêÂäü    $ ssh -T git@github.com        ‰∏ÄÂè∞ËÆ°ÁÆóÊú∫ÈÖçÁΩÆÂ§ö‰∏™GithubË¥¶Êà∑SSHÂØÜÈí•    Êú¨Âú∞ËÆ°ÁÆóÊú∫ÁîüÊàêSSHÂØÜÈí•    $ ssh-keygen  -t rsa    -f ~/.ssh/github_zhaoqhu   -C "zhaoqhu@gmail.com"        ssh-keygen -t ÂØÜÈí•Á±ªÂûã  -f ÂØÜÈí•Êñá‰ª∂Ë∑ØÂæÑÂèäÂêçÁß∞  -C Â§áÊ≥®‰ø°ÊÅØ    Ê£ÄÊü•~/.sshÁõÆÂΩï‰∏ãÊòØÂê¶ÊúâconfigÊñá‰ª∂ÔºåÊ∑ªÂä†‰∏Ä‰∏ãÂÜÖÂÆπ    #Github account oneHost git.github.comHostName github.comIdentityFile ~/.ssh/id_rsa#Github account twoHost zhaoqhu.github.comHostName github.comIdentityFile ~/.ssh/github_zhaoqhu        Â§çÂà∂~/.sshÁõÆÂΩï‰∏ãÁöÑgithub_zhaoqhu.pubÊñá‰ª∂ÈáåÁöÑÂÜÖÂÆπ=„ÄãgithuÂ∏êÂè∑=&gt;settings=&gt;SSH and GPG Keys=&gt;New SSH Key  ÊµãËØïÂ∏êÂè∑ÈÖçÁΩÆÊòØÂê¶ÊàêÂäü$ ssh -T git@zhaoqhu.github.comÁÆ°ÁêÜËøúÁ®ã‰ªìÂ∫ìÊü•ÁúãËøúÁ®ã‰ªìÂ∫ì$ git remote -vÊ∑ªÂä†ËøúÁ®ã‰ªìÂ∫ì$ git remote add orgin git@zhaoqhu.github.com:zhaoqhu/zhaoqhu.github.io.gitgit remote add ÂêçÁß∞ URLÈáçÂëΩÂêçËøúÁ®ã‰ªìÂ∫ì$ git remote rename origin destinationÂ∞ÜËøúÁ®ã‰ªìÂ∫ìÂêçÁß∞‰ªé ‚Äòorigin‚Äô Êõ¥Êîπ‰∏∫ ‚Äòdestination‚ÄôÂà†Èô§ËøúÁ®ã$ git remote rm destinationgit remote rm ËøúÁ®ãÂêçÁß∞‰øÆÊîπËøúÁ®ã‰ªìÂ∫ìURL  ÊñπÊ≥ï‰∏Ägit remote -v  #Êü•ÁúãËøúÁ´ØÂú∞ÂùÄgit remote #Êü•ÁúãËøúÁ´Ø‰ªìÂ∫ìÂêçgit remote set-url origin https://gitee.com/xx/xx.git (Êñ∞Âú∞ÂùÄ)  ÊñπÊ≥ï‰∫ågit remote rm origin #Âà†Èô§ËøúÁ®ãÁöÑ‰ªìÂ∫ìgit remote add origin  https://gitee.com/xx/xx.git(Êñ∞Âú∞ÂùÄ) #ÈáçÊñ∞Ê∑ªÂä†ËøúÁ®ã‰ªìÂ∫ìÊ≥®Ôºögit remote rm ‰∏ç‰ºö‰ªéÊúçÂä°Âô®‰∏≠Âà†Èô§ËøúÁ®ã‰ªìÂ∫ì„ÄÇ ÂÆÉÂè™ÊòØ‰ªéÊú¨Âú∞‰ªìÂ∫ì‰∏≠Âà†Èô§ËøúÁ®ãÂèäÂÖ∂ÂºïÁî®„ÄÇ  ÊñπÊ≥ï‰∏âÁõ¥Êé•‰øÆÊîπ.gitÁõÆÂΩï‰∏ãÁöÑconfigÈÖçÁΩÆÊñá‰ª∂[core]	repositoryformatversion = 0	filemode = false	bare = false	logallrefupdates = true	symlinks = false	ignorecase = true[remote "origin"]	#Â∞ÜËøôÈáå=Âè∑ÂêéÁöÑÂÄºÊç¢ÊàêÈúÄË¶ÅÁöÑËøúÁ®ã‰ªìÂ∫ìÂÄº	url = git@github.com:zhaoqhu/zhaoqhu.github.io.git	fetch = +refs/heads/*:refs/remotes/origin/*[branch "master"]	remote = origin	merge = refs/heads/mastergitËÆæÁΩÆÂøΩÁï•ÁõÆÂΩïÂíåÊñá‰ª∂ÁΩë‰∏äÊü•ËØ¢Êúâ‰∏âÁßçÊñπÊ≥ïÂèØ‰ª•ÂÆûÁé∞ÂøΩÁï•ÁõÆÂΩïÂíåÊñá‰ª∂ÔºåÊú¨ÊñπÊ≥ï‰ΩøÁî®Âú®.gitÁâàÊú¨Â∫ìÁöÑÂêåÁ∫ßÁõÆÂΩï‰∏ãÊ∑ªÂä†.gitignoreÊñá‰ª∂ÔºåÂè™ËÉΩÂøΩÁï•ÈÇ£‰∫õÂéüÊù•Ê≤°ÊúâË¢´trackÁöÑÊñá‰ª∂ÔºåÂ¶ÇÊûúÊüê‰∫õÊñá‰ª∂Â∑≤ÁªèË¢´Á∫≥ÂÖ•‰∫ÜÁâàÊú¨ÁÆ°ÁêÜ‰∏≠ÔºåÂàô‰øÆÊîπ.gitignoreÊòØÊó†ÊïàÁöÑÈáåÈù¢ÁöÑËß£ÂÜ≥Â∑≤ÁªèÂú®ÁâàÊú¨Â∫ì‰∏≠ÁöÑÁõÆÂΩïÊàñËÄÖÊñá‰ª∂‰∏çËÉΩË¢´ÂøΩÁï•#ÊØîÂ¶Ç_siteÁõÆÂΩïÂ∑≤ÁªèÂú®ÁâàÊú¨Â∫ì‰∏≠ÔºåÊâßË°å‰∏ãÈù¢ÁöÑÂëΩ‰ª§Â∞Ü_siteÁõÆÂΩïÂèòÊàêÊú™Ë∑üË∏™Áä∂ÊÄÅUntrackedgit rm --cached _sitegit commit -m "update _site gitignore".gitignoreÊñá‰ª∂ÂÜÖÂÆπÂ¶Ç‰∏ã#ÂøΩÁï•_siteÊñá‰ª∂Â§πÂèäÊñá‰ª∂Â§π‰∏ãÊñá‰ª∂_site/*_theme_packages/*Thumbs.db.DS_Store!.gitkeep.rbenv-version.rvmrc/vendorÂêàÂπ∂Commit  git log -nÊü•ÁúãCommitÊèê‰∫§ÂéÜÂè≤ËÆ∞ÂΩï$ git log -n 6commit 8365c47d028c2e1a33f6c12b89c71d94757e18ae (HEAD -&gt; master, origin/master)Author: Zhao QH &lt;zhaoqhu@gmail.com&gt;Date:   Mon Sep 23 17:34:43 2019 +0800    fix:ÂêàÂπ∂3commit 1485a27e8fb6031186422273190da2f25de65c5dAuthor: Zhao QH &lt;zhaoqhu@gmail.com&gt;Date:   Mon Sep 23 15:53:35 2019 +0800    modify _config searchcommit b26a1f5d0c649823a50b85e122f8eab07e2479adAuthor: Zhao QH &lt;zhaoqhu@gmail.com&gt;Date:   Mon Sep 23 15:19:10 2019 +0800    modify _config.ymlcommit 30a89ae0bcc3600adcf3ed042c9df2d58a1f2d89Author: Zhao QH &lt;zhaoqhu@gmail.com&gt;Date:   Mon Sep 23 15:06:52 2019 +0800    modify _config.ymlcommit cd574a978e947cf1ef92c8d68bfdfb39fe954798Author: Zhao QH &lt;zhaoqhu@gmail.com&gt;Date:   Mon Sep 23 11:32:30 2019 +0800    jekyll-theme-next template initcommit 823d9a66db7482ebdf52e20b4f67b9786e9e28f8Author: Zhao QH &lt;zhaoqhu@gmail.com&gt;Date:   Wed Sep 18 14:45:29 2019 +0800    first commit  git rebase -i ÂêéÈù¢ÁöÑÂèÇÊï∞ÂèØ‰ª•ÊòØHEAD~5,ÊàñËÄÖÊòØCommitÁöÑIDÂè∑(example:823d9a66db7482ebdf52e20b4f67b9786e9e28f8)$ git rebase -i HEAD~5   Êåâ‰∏ãÂõûËΩ¶ÂêéÔºåÊàë‰ª¨‰ºöËøõÂÖ•Âà∞Ëøô‰πà‰∏Ä‰∏™ÁïåÈù¢ÔºåÊúÄ‰∏äÈù¢ÊòæÁ§∫ÁöÑÂá†Ë°åÊòØÊèê‰∫§ÂéÜÂè≤ËÆ∞ÂΩïÔºåÊåâÊèê‰∫§ÁöÑÊó∂Èó¥ÂÄíÂ∫èÔºåÊúÄ‰∏äÈù¢ÁöÑÊòØÊúÄÊó©CommitÁöÑÔºåpick cd574a9 jekyll-theme-next template initpick 30a89ae modify _config.ymlpick b26a1f5 modify _config.ymlpick 1485a27 modify _config searchpick 8365c47 fix:ÂêàÂπ∂3# Rebase 823d9a6..8365c47 onto 823d9a6 (5 commands)## Commands:# p, pick = use commit# r, reword = use commit, but edit the commit message# e, edit = use commit, but stop for amending# s, squash = use commit, but meld into previous commit# f, fixup = like "squash", but discard this commit's log message# x, exec = run command (the rest of the line) using shell# d, drop = remove commit## These lines can be re-ordered; they are executed from top to bottom.## If you remove a line here THAT COMMIT WILL BE LOST.## However, if you remove everything, the rebase will be aborted.## Note that empty commits are commented out  ÊääÈúÄË¶ÅÂêàÂπ∂ÁöÑCommitÂâçÈù¢ÁöÑpickÊîπÊàêsquashÊàñËÄÖsÂ¶Ç‰∏ã,pick cd574a9 jekyll-theme-next template initpick 30a89ae modify _config.ymlpick b26a1f5 modify _config.ymlpick 1485a27 modify _config searchs 8365c47 fix:ÂêàÂπ∂3# Rebase 823d9a6..8365c47 onto 823d9a6 (5 commands)## Commands:# p, pick = use commit# r, reword = use commit, but edit the commit message# e, edit = use commit, but stop for amending# s, squash = use commit, but meld into previous commit# f, fixup = like "squash", but discard this commit's log message# x, exec = run command (the rest of the line) using shell# d, drop = remove commit## These lines can be re-ordered; they are executed from top to bottom.## If you remove a line here THAT COMMIT WILL BE LOST.## However, if you remove everything, the rebase will be aborted.## Note that empty commits are commented out  ÁÑ∂ÂêéÊåâESCÈîÆ=&gt;Shift+:ÈîÆ=&gt;wq,‰øùÂ≠òÈÄÄÂá∫,Â¶ÇÊûú‰∏ÄÂàáÈ°∫Âà©‰ºöÂºπÂá∫‰∏Ä‰∏™ÁîªÈù¢,Â¶ÇÊûúÊñá‰ª∂ÊúâÂÜ≤Á™ÅÈúÄË¶ÅËß£ÂÜ≥ÂêéÔºåÁÑ∂ÂêéÊâßË°ågit rebase ‚Äìcontinue$git rebase --continueÈîôËØØËß£ÂÜ≥ÂêéÔºåÂèØ‰ª•Ë∞ÉÂà∞‰∏ãÈù¢ÁöÑÁïåÈù¢# This is a combination of 2 commits.# This is the 1st commit message:modify _config search# This is the commit message #2:fix:ÂêàÂπ∂3# Please enter the commit message for your changes. Lines starting# with '#' will be ignored, and an empty message aborts the commit.## Date:      Mon Sep 23 15:53:35 2019 +0800## interactive rebase in progress; onto 823d9a6# Last commands done (5 commands done):#    pick 1485a27 modify _config search#    squash 8365c47 fix:ÂêàÂπ∂3# No commands remaining.# You are currently rebasing branch 'master' on '823d9a6'.## Changes to be committed:#       modified:   Gemfile.lock#       modified:   _config.yml#       new file:   "_posts/2019-09-23-Git\345\255\246\344\271\240\347\254\224\350\256\260.md"## Untracked files:#       .jekyll-metadata  ÂêàÂπ∂CommitÁöÑ‰ø°ÊÅØfix:ÂêàÂπ∂4# Please enter the commit message for your changes. Lines starting# with '#' will be ignored, and an empty message aborts the commit.## Date:      Mon Sep 23 15:53:35 2019 +0800## interactive rebase in progress; onto 823d9a6# Last commands done (5 commands done):#    pick 1485a27 modify _config search#    squash 8365c47 fix:ÂêàÂπ∂3# No commands remaining.# You are currently rebasing branch 'master' on '823d9a6'.## Changes to be committed:#       modified:   Gemfile.lock#       modified:   _config.yml#       new file:   "_posts/2019-09-23-Git\345\255\246\344\271\240\347\254\224\350\256\260.md"## Untracked files:#       .jekyll-metadata  ÂêàÂπ∂ÂÆåÊàêÊ≥®Ôºögit rebase Êìç‰ΩúÂ∫îËØ•Âè™Áî®‰∫éÊú¨Âú∞Â∞öÊú™Êèê‰∫§Âà∞ËøúÁ®ã‰ªìÂ∫ìÁöÑ commitÔºå‰∏ÄÊó¶ push Âà∞ËøúÁ´Ø‰ªìÂ∫ìÔºåÂàô‰∏çÂÜçÂÖÅËÆ∏‰øÆÊîπ commitÔºåÂê¶ÂàôÂèØËÉΩ‰ºöÁªôÂÖ∂‰ªñÂºÄÂèëËÄÖÂ∏¶Êù•ÂæàÂ§öÈ∫ªÁÉ¶„ÄÇÂ∞§ÂÖ∂ÊòØÂ§ö‰∫∫Âçè‰ΩúÊó∂ÔºåÂçÉ‰∏áË¶ÅÊ≥®ÊÑè„ÄÇ„ÄÇgithub page  How to Build a Static Jekyll Site with Github Pages    ÂèÇËÄÉËµÑÊñô    ‰ΩøÁî® Git =&gt;https://help.github.com/cn/categories/using-git  git Book =&gt;https://git-scm.com/book/zh/v2  ‰ΩøÁî® SSH ËøûÊé•Âà∞ GitHub =&gt;https://help.github.com/cn/articles/connecting-to-github-with-ssh  A3.1 ÈôÑÂΩï C: Git ÂëΩ‰ª§ - ËÆæÁΩÆ‰∏éÈÖçÁΩÆ =&gt;https://git-scm.com/book/zh/v2/%E9%99%84%E5%BD%95-C%3A-Git-%E5%91%BD%E4%BB%A4-%E8%AE%BE%E7%BD%AE%E4%B8%8E%E9%85%8D%E7%BD%AE]]></content>
      <categories>
        
          <category> Git </category>
        
      </categories>
      <tags>
        
          <tag> Git </tag>
        
      </tags>
      <tags></tags>
    </entry>
  
</search>
